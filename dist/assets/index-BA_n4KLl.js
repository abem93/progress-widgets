function aT(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function v_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sf={exports:{}},ul={},of={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function lT(){if(yy)return Pe;yy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.iterator;function I(z){return z===null||typeof z!="object"?null:(z=E&&z[E]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,D={};function V(z,J,ge){this.props=z,this.context=J,this.refs=D,this.updater=ge||S}V.prototype.isReactComponent={},V.prototype.setState=function(z,J){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,J,"setState")},V.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function N(){}N.prototype=V.prototype;function H(z,J,ge){this.props=z,this.context=J,this.refs=D,this.updater=ge||S}var G=H.prototype=new N;G.constructor=H,R(G,V.prototype),G.isPureReactComponent=!0;var Q=Array.isArray,ae=Object.prototype.hasOwnProperty,me={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function A(z,J,ge){var Ce,ke={},Ve=null,Fe=null;if(J!=null)for(Ce in J.ref!==void 0&&(Fe=J.ref),J.key!==void 0&&(Ve=""+J.key),J)ae.call(J,Ce)&&!L.hasOwnProperty(Ce)&&(ke[Ce]=J[Ce]);var Ue=arguments.length-2;if(Ue===1)ke.children=ge;else if(1<Ue){for(var Ke=Array(Ue),Rt=0;Rt<Ue;Rt++)Ke[Rt]=arguments[Rt+2];ke.children=Ke}if(z&&z.defaultProps)for(Ce in Ue=z.defaultProps,Ue)ke[Ce]===void 0&&(ke[Ce]=Ue[Ce]);return{$$typeof:n,type:z,key:Ve,ref:Fe,props:ke,_owner:me.current}}function P(z,J){return{$$typeof:n,type:z.type,key:J,ref:z.ref,props:z.props,_owner:z._owner}}function O(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function j(z){var J={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ge){return J[ge]})}var F=/\/+/g;function b(z,J){return typeof z=="object"&&z!==null&&z.key!=null?j(""+z.key):J.toString(36)}function Be(z,J,ge,Ce,ke){var Ve=typeof z;(Ve==="undefined"||Ve==="boolean")&&(z=null);var Fe=!1;if(z===null)Fe=!0;else switch(Ve){case"string":case"number":Fe=!0;break;case"object":switch(z.$$typeof){case n:case e:Fe=!0}}if(Fe)return Fe=z,ke=ke(Fe),z=Ce===""?"."+b(Fe,0):Ce,Q(ke)?(ge="",z!=null&&(ge=z.replace(F,"$&/")+"/"),Be(ke,J,ge,"",function(Rt){return Rt})):ke!=null&&(O(ke)&&(ke=P(ke,ge+(!ke.key||Fe&&Fe.key===ke.key?"":(""+ke.key).replace(F,"$&/")+"/")+z)),J.push(ke)),1;if(Fe=0,Ce=Ce===""?".":Ce+":",Q(z))for(var Ue=0;Ue<z.length;Ue++){Ve=z[Ue];var Ke=Ce+b(Ve,Ue);Fe+=Be(Ve,J,ge,Ke,ke)}else if(Ke=I(z),typeof Ke=="function")for(z=Ke.call(z),Ue=0;!(Ve=z.next()).done;)Ve=Ve.value,Ke=Ce+b(Ve,Ue++),Fe+=Be(Ve,J,ge,Ke,ke);else if(Ve==="object")throw J=String(z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Fe}function st(z,J,ge){if(z==null)return z;var Ce=[],ke=0;return Be(z,Ce,"","",function(Ve){return J.call(ge,Ve,ke++)}),Ce}function We(z){if(z._status===-1){var J=z._result;J=J(),J.then(function(ge){(z._status===0||z._status===-1)&&(z._status=1,z._result=ge)},function(ge){(z._status===0||z._status===-1)&&(z._status=2,z._result=ge)}),z._status===-1&&(z._status=0,z._result=J)}if(z._status===1)return z._result.default;throw z._result}var Ae={current:null},ne={transition:null},he={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ne,ReactCurrentOwner:me};function se(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:st,forEach:function(z,J,ge){st(z,function(){J.apply(this,arguments)},ge)},count:function(z){var J=0;return st(z,function(){J++}),J},toArray:function(z){return st(z,function(J){return J})||[]},only:function(z){if(!O(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Pe.Component=V,Pe.Fragment=t,Pe.Profiler=o,Pe.PureComponent=H,Pe.StrictMode=i,Pe.Suspense=p,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Pe.act=se,Pe.cloneElement=function(z,J,ge){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Ce=R({},z.props),ke=z.key,Ve=z.ref,Fe=z._owner;if(J!=null){if(J.ref!==void 0&&(Ve=J.ref,Fe=me.current),J.key!==void 0&&(ke=""+J.key),z.type&&z.type.defaultProps)var Ue=z.type.defaultProps;for(Ke in J)ae.call(J,Ke)&&!L.hasOwnProperty(Ke)&&(Ce[Ke]=J[Ke]===void 0&&Ue!==void 0?Ue[Ke]:J[Ke])}var Ke=arguments.length-2;if(Ke===1)Ce.children=ge;else if(1<Ke){Ue=Array(Ke);for(var Rt=0;Rt<Ke;Rt++)Ue[Rt]=arguments[Rt+2];Ce.children=Ue}return{$$typeof:n,type:z.type,key:ke,ref:Ve,props:Ce,_owner:Fe}},Pe.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Pe.createElement=A,Pe.createFactory=function(z){var J=A.bind(null,z);return J.type=z,J},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(z){return{$$typeof:h,render:z}},Pe.isValidElement=O,Pe.lazy=function(z){return{$$typeof:w,_payload:{_status:-1,_result:z},_init:We}},Pe.memo=function(z,J){return{$$typeof:m,type:z,compare:J===void 0?null:J}},Pe.startTransition=function(z){var J=ne.transition;ne.transition={};try{z()}finally{ne.transition=J}},Pe.unstable_act=se,Pe.useCallback=function(z,J){return Ae.current.useCallback(z,J)},Pe.useContext=function(z){return Ae.current.useContext(z)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(z){return Ae.current.useDeferredValue(z)},Pe.useEffect=function(z,J){return Ae.current.useEffect(z,J)},Pe.useId=function(){return Ae.current.useId()},Pe.useImperativeHandle=function(z,J,ge){return Ae.current.useImperativeHandle(z,J,ge)},Pe.useInsertionEffect=function(z,J){return Ae.current.useInsertionEffect(z,J)},Pe.useLayoutEffect=function(z,J){return Ae.current.useLayoutEffect(z,J)},Pe.useMemo=function(z,J){return Ae.current.useMemo(z,J)},Pe.useReducer=function(z,J,ge){return Ae.current.useReducer(z,J,ge)},Pe.useRef=function(z){return Ae.current.useRef(z)},Pe.useState=function(z){return Ae.current.useState(z)},Pe.useSyncExternalStore=function(z,J,ge){return Ae.current.useSyncExternalStore(z,J,ge)},Pe.useTransition=function(){return Ae.current.useTransition()},Pe.version="18.3.1",Pe}var vy;function ip(){return vy||(vy=1,of.exports=lT()),of.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function uT(){if(_y)return ul;_y=1;var n=ip(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,m){var w,E={},I=null,S=null;m!==void 0&&(I=""+m),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(S=p.ref);for(w in p)i.call(p,w)&&!a.hasOwnProperty(w)&&(E[w]=p[w]);if(h&&h.defaultProps)for(w in p=h.defaultProps,p)E[w]===void 0&&(E[w]=p[w]);return{$$typeof:e,type:h,key:I,ref:S,props:E,_owner:o.current}}return ul.Fragment=t,ul.jsx=c,ul.jsxs=c,ul}var wy;function cT(){return wy||(wy=1,sf.exports=uT()),sf.exports}var v=cT(),C=ip();const Br=v_(C),dT=aT({__proto__:null,default:Br},[C]);var fc={},af={exports:{}},dn={},lf={exports:{}},uf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function hT(){return Ey||(Ey=1,function(n){function e(ne,he){var se=ne.length;ne.push(he);e:for(;0<se;){var z=se-1>>>1,J=ne[z];if(0<o(J,he))ne[z]=he,ne[se]=J,se=z;else break e}}function t(ne){return ne.length===0?null:ne[0]}function i(ne){if(ne.length===0)return null;var he=ne[0],se=ne.pop();if(se!==he){ne[0]=se;e:for(var z=0,J=ne.length,ge=J>>>1;z<ge;){var Ce=2*(z+1)-1,ke=ne[Ce],Ve=Ce+1,Fe=ne[Ve];if(0>o(ke,se))Ve<J&&0>o(Fe,ke)?(ne[z]=Fe,ne[Ve]=se,z=Ve):(ne[z]=ke,ne[Ce]=se,z=Ce);else if(Ve<J&&0>o(Fe,se))ne[z]=Fe,ne[Ve]=se,z=Ve;else break e}}return he}function o(ne,he){var se=ne.sortIndex-he.sortIndex;return se!==0?se:ne.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],m=[],w=1,E=null,I=3,S=!1,R=!1,D=!1,V=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(ne){for(var he=t(m);he!==null;){if(he.callback===null)i(m);else if(he.startTime<=ne)i(m),he.sortIndex=he.expirationTime,e(p,he);else break;he=t(m)}}function Q(ne){if(D=!1,G(ne),!R)if(t(p)!==null)R=!0,We(ae);else{var he=t(m);he!==null&&Ae(Q,he.startTime-ne)}}function ae(ne,he){R=!1,D&&(D=!1,N(A),A=-1),S=!0;var se=I;try{for(G(he),E=t(p);E!==null&&(!(E.expirationTime>he)||ne&&!j());){var z=E.callback;if(typeof z=="function"){E.callback=null,I=E.priorityLevel;var J=z(E.expirationTime<=he);he=n.unstable_now(),typeof J=="function"?E.callback=J:E===t(p)&&i(p),G(he)}else i(p);E=t(p)}if(E!==null)var ge=!0;else{var Ce=t(m);Ce!==null&&Ae(Q,Ce.startTime-he),ge=!1}return ge}finally{E=null,I=se,S=!1}}var me=!1,L=null,A=-1,P=5,O=-1;function j(){return!(n.unstable_now()-O<P)}function F(){if(L!==null){var ne=n.unstable_now();O=ne;var he=!0;try{he=L(!0,ne)}finally{he?b():(me=!1,L=null)}}else me=!1}var b;if(typeof H=="function")b=function(){H(F)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,st=Be.port2;Be.port1.onmessage=F,b=function(){st.postMessage(null)}}else b=function(){V(F,0)};function We(ne){L=ne,me||(me=!0,b())}function Ae(ne,he){A=V(function(){ne(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){R||S||(R=!0,We(ae))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ne){switch(I){case 1:case 2:case 3:var he=3;break;default:he=I}var se=I;I=he;try{return ne()}finally{I=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,he){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var se=I;I=ne;try{return he()}finally{I=se}},n.unstable_scheduleCallback=function(ne,he,se){var z=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?z+se:z):se=z,ne){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=se+J,ne={id:w++,callback:he,priorityLevel:ne,startTime:se,expirationTime:J,sortIndex:-1},se>z?(ne.sortIndex=se,e(m,ne),t(p)===null&&ne===t(m)&&(D?(N(A),A=-1):D=!0,Ae(Q,se-z))):(ne.sortIndex=J,e(p,ne),R||S||(R=!0,We(ae))),ne},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(ne){var he=I;return function(){var se=I;I=he;try{return ne.apply(this,arguments)}finally{I=se}}}}(uf)),uf}var Iy;function fT(){return Iy||(Iy=1,lf.exports=hT()),lf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function pT(){if(Ty)return dn;Ty=1;var n=ip(),e=fT();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},E={};function I(r){return p.call(E,r)?!0:p.call(w,r)?!1:m.test(r)?E[r]=!0:(w[r]=!0,!1)}function S(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function R(r,s,l,d){if(s===null||typeof s>"u"||S(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function D(r,s,l,d,f,y,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=T}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){V[r]=new D(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];V[s]=new D(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){V[r]=new D(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){V[r]=new D(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){V[r]=new D(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){V[r]=new D(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){V[r]=new D(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){V[r]=new D(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){V[r]=new D(r,5,!1,r.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function H(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(N,H);V[s]=new D(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(N,H);V[s]=new D(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(N,H);V[s]=new D(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){V[r]=new D(r,1,!1,r.toLowerCase(),null,!1,!1)}),V.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){V[r]=new D(r,1,!1,r.toLowerCase(),null,!0,!0)});function G(r,s,l,d){var f=V.hasOwnProperty(s)?V[s]:null;(f!==null?f.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(R(s,l,f,d)&&(l=null),d||f===null?I(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,d=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var Q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ae=Symbol.for("react.element"),me=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),j=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),st=Symbol.for("react.memo"),We=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),ne=Symbol.iterator;function he(r){return r===null||typeof r!="object"?null:(r=ne&&r[ne]||r["@@iterator"],typeof r=="function"?r:null)}var se=Object.assign,z;function J(r){if(z===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);z=s&&s[1]||""}return`
`+z+r}var ge=!1;function Ce(r,s){if(!r||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(q){var d=q}Reflect.construct(r,[],s)}else{try{s.call()}catch(q){d=q}r.call(s.prototype)}else{try{throw Error()}catch(q){d=q}r()}}catch(q){if(q&&d&&typeof q.stack=="string"){for(var f=q.stack.split(`
`),y=d.stack.split(`
`),T=f.length-1,k=y.length-1;1<=T&&0<=k&&f[T]!==y[k];)k--;for(;1<=T&&0<=k;T--,k--)if(f[T]!==y[k]){if(T!==1||k!==1)do if(T--,k--,0>k||f[T]!==y[k]){var M=`
`+f[T].replace(" at new "," at ");return r.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",r.displayName)),M}while(1<=T&&0<=k);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?J(r):""}function ke(r){switch(r.tag){case 5:return J(r.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return r=Ce(r.type,!1),r;case 11:return r=Ce(r.type.render,!1),r;case 1:return r=Ce(r.type,!0),r;default:return""}}function Ve(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case L:return"Fragment";case me:return"Portal";case P:return"Profiler";case A:return"StrictMode";case b:return"Suspense";case Be:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case j:return(r.displayName||"Context")+".Consumer";case O:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case st:return s=r.displayName||null,s!==null?s:Ve(r.type)||"Memo";case We:s=r._payload,r=r._init;try{return Ve(r(s))}catch{}}return null}function Fe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ue(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ke(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Rt(r){var s=Ke(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){d=""+T,y.call(this,T)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ir(r){r._valueTracker||(r._valueTracker=Rt(r))}function js(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=Ke(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function ei(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ji(r,s){var l=s.checked;return se({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Fs(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=Ue(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ma(r,s){s=s.checked,s!=null&&G(r,"checked",s,!1)}function ga(r,s){ma(r,s);var l=Ue(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Us(r,s.type,l):s.hasOwnProperty("defaultValue")&&Us(r,s.type,Ue(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Jl(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Us(r,s,l){(s!=="number"||ei(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Tr=Array.isArray;function xr(r,s,l,d){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Ue(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,d&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function ya(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function zs(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Tr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Ue(l)}}function Bs(r,s){var l=Ue(s.value),d=Ue(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function va(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function _t(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?_t(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Sr,_a=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Sr=Sr||document.createElement("div"),Sr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Sr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ti(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},es=["Webkit","ms","Moz","O"];Object.keys(Zi).forEach(function(r){es.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Zi[s]=Zi[r]})});function wa(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Zi.hasOwnProperty(r)&&Zi[r]?(""+s).trim():s+"px"}function Ea(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,f=wa(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,f):r[l]=f}}var Ia=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ta(r,s){if(s){if(Ia[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function xa(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ts=null;function $s(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ws=null,Tn=null,sr=null;function Hs(r){if(r=Ga(r)){if(typeof Ws!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Au(s),Ws(r.stateNode,r.type,s))}}function or(r){Tn?sr?sr.push(r):sr=[r]:Tn=r}function Sa(){if(Tn){var r=Tn,s=sr;if(sr=Tn=null,Hs(r),s)for(r=0;r<s.length;r++)Hs(s[r])}}function ns(r,s){return r(s)}function Ca(){}var Cr=!1;function Ra(r,s,l){if(Cr)return r(s,l);Cr=!0;try{return ns(r,s,l)}finally{Cr=!1,(Tn!==null||sr!==null)&&(Ca(),Sa())}}function dt(r,s){var l=r.stateNode;if(l===null)return null;var d=Au(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var qs=!1;if(h)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){qs=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{qs=!1}function rs(r,s,l,d,f,y,T,k,M){var q=Array.prototype.slice.call(arguments,3);try{s.apply(l,q)}catch(ee){this.onError(ee)}}var is=!1,Ks=null,Mn=!1,Aa=null,Nd={onError:function(r){is=!0,Ks=r}};function Gs(r,s,l,d,f,y,T,k,M){is=!1,Ks=null,rs.apply(Nd,arguments)}function Zl(r,s,l,d,f,y,T,k,M){if(Gs.apply(this,arguments),is){if(is){var q=Ks;is=!1,Ks=null}else throw Error(t(198));Mn||(Mn=!0,Aa=q)}}function jn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function ss(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Fn(r){if(jn(r)!==r)throw Error(t(188))}function eu(r){var s=r.alternate;if(!s){if(s=jn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var f=l.return;if(f===null)break;var y=f.alternate;if(y===null){if(d=f.return,d!==null){l=d;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===l)return Fn(f),r;if(y===d)return Fn(f),s;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=f,d=y;else{for(var T=!1,k=f.child;k;){if(k===l){T=!0,l=f,d=y;break}if(k===d){T=!0,d=f,l=y;break}k=k.sibling}if(!T){for(k=y.child;k;){if(k===l){T=!0,l=y,d=f;break}if(k===d){T=!0,d=y,l=f;break}k=k.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function ka(r){return r=eu(r),r!==null?Qs(r):null}function Qs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Qs(r);if(s!==null)return s;r=r.sibling}return null}var Ys=e.unstable_scheduleCallback,Pa=e.unstable_cancelCallback,tu=e.unstable_shouldYield,Dd=e.unstable_requestPaint,Ge=e.unstable_now,nu=e.unstable_getCurrentPriorityLevel,os=e.unstable_ImmediatePriority,ni=e.unstable_UserBlockingPriority,xn=e.unstable_NormalPriority,ba=e.unstable_LowPriority,ru=e.unstable_IdlePriority,as=null,mn=null;function iu(r){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(as,r,void 0,(r.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:ou,Na=Math.log,su=Math.LN2;function ou(r){return r>>>=0,r===0?32:31-(Na(r)/su|0)|0}var Xs=64,Js=4194304;function ri(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ls(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,f=r.suspendedLanes,y=r.pingedLanes,T=l&268435455;if(T!==0){var k=T&~f;k!==0?d=ri(k):(y&=T,y!==0&&(d=ri(y)))}else T=l&~f,T!==0?d=ri(T):y!==0&&(d=ri(y));if(d===0)return 0;if(s!==0&&s!==d&&(s&f)===0&&(f=d&-d,y=s&-s,f>=y||f===16&&(y&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-Jt(s),f=1<<l,d|=r[l],s&=~f;return d}function Vd(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,f=r.expirationTimes,y=r.pendingLanes;0<y;){var T=31-Jt(y),k=1<<T,M=f[T];M===-1?((k&l)===0||(k&d)!==0)&&(f[T]=Vd(k,s)):M<=s&&(r.expiredLanes|=k),y&=~k}}function gn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function us(){var r=Xs;return Xs<<=1,(Xs&4194240)===0&&(Xs=64),r}function ii(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function si(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Jt(s),r[s]=l}function He(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-Jt(l),y=1<<f;s[f]=0,d[f]=-1,r[f]=-1,l&=~y}}function oi(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-Jt(l),f=1<<d;f&s|r[d]&s&&(r[d]|=s),l&=~f}}var De=0;function ai(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var au,Zs,lu,uu,cu,Da=!1,ar=[],Vt=null,Un=null,zn=null,li=new Map,Sn=new Map,lr=[],Od="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function du(r,s){switch(r){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":li.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sn.delete(s.pointerId)}}function rn(r,s,l,d,f,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[f]},s!==null&&(s=Ga(s),s!==null&&Zs(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Ld(r,s,l,d,f){switch(s){case"focusin":return Vt=rn(Vt,r,s,l,d,f),!0;case"dragenter":return Un=rn(Un,r,s,l,d,f),!0;case"mouseover":return zn=rn(zn,r,s,l,d,f),!0;case"pointerover":var y=f.pointerId;return li.set(y,rn(li.get(y)||null,r,s,l,d,f)),!0;case"gotpointercapture":return y=f.pointerId,Sn.set(y,rn(Sn.get(y)||null,r,s,l,d,f)),!0}return!1}function hu(r){var s=ps(r.target);if(s!==null){var l=jn(s);if(l!==null){if(s=l.tag,s===13){if(s=ss(l),s!==null){r.blockedOn=s,cu(r.priority,function(){lu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ar(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=eo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);ts=d,l.target.dispatchEvent(d),ts=null}else return s=Ga(l),s!==null&&Zs(s),r.blockedOn=l,!1;s.shift()}return!0}function cs(r,s,l){Ar(r)&&l.delete(s)}function fu(){Da=!1,Vt!==null&&Ar(Vt)&&(Vt=null),Un!==null&&Ar(Un)&&(Un=null),zn!==null&&Ar(zn)&&(zn=null),li.forEach(cs),Sn.forEach(cs)}function Bn(r,s){r.blockedOn===s&&(r.blockedOn=null,Da||(Da=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fu)))}function $n(r){function s(f){return Bn(f,r)}if(0<ar.length){Bn(ar[0],r);for(var l=1;l<ar.length;l++){var d=ar[l];d.blockedOn===r&&(d.blockedOn=null)}}for(Vt!==null&&Bn(Vt,r),Un!==null&&Bn(Un,r),zn!==null&&Bn(zn,r),li.forEach(s),Sn.forEach(s),l=0;l<lr.length;l++)d=lr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<lr.length&&(l=lr[0],l.blockedOn===null);)hu(l),l.blockedOn===null&&lr.shift()}var kr=Q.ReactCurrentBatchConfig,ui=!0;function et(r,s,l,d){var f=De,y=kr.transition;kr.transition=null;try{De=1,Va(r,s,l,d)}finally{De=f,kr.transition=y}}function Md(r,s,l,d){var f=De,y=kr.transition;kr.transition=null;try{De=4,Va(r,s,l,d)}finally{De=f,kr.transition=y}}function Va(r,s,l,d){if(ui){var f=eo(r,s,l,d);if(f===null)Gd(r,s,d,ds,l),du(r,d);else if(Ld(f,r,s,l,d))d.stopPropagation();else if(du(r,d),s&4&&-1<Od.indexOf(r)){for(;f!==null;){var y=Ga(f);if(y!==null&&au(y),y=eo(r,s,l,d),y===null&&Gd(r,s,d,ds,l),y===f)break;f=y}f!==null&&d.stopPropagation()}else Gd(r,s,d,null,l)}}var ds=null;function eo(r,s,l,d){if(ds=null,r=$s(d),r=ps(r),r!==null)if(s=jn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=ss(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return ds=r,null}function Oa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nu()){case os:return 1;case ni:return 4;case xn:case ba:return 16;case ru:return 536870912;default:return 16}default:return 16}}var yn=null,to=null,sn=null;function La(){if(sn)return sn;var r,s=to,l=s.length,d,f="value"in yn?yn.value:yn.textContent,y=f.length;for(r=0;r<l&&s[r]===f[r];r++);var T=l-r;for(d=1;d<=T&&s[l-d]===f[y-d];d++);return sn=f.slice(r,1<d?1-d:void 0)}function no(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ur(){return!0}function Ma(){return!1}function Ot(r){function s(l,d,f,y,T){this._reactName=l,this._targetInst=f,this.type=d,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(l=r[k],this[k]=l?l(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ur:Ma,this.isPropagationStopped=Ma,this}return se(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),s}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=Ot(Wn),cr=se({},Wn,{view:0,detail:0}),jd=Ot(cr),io,Pr,ci,hs=se({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ci&&(ci&&r.type==="mousemove"?(io=r.screenX-ci.screenX,Pr=r.screenY-ci.screenY):Pr=io=0,ci=r),io)},movementY:function(r){return"movementY"in r?r.movementY:Pr}}),so=Ot(hs),ja=se({},hs,{dataTransfer:0}),pu=Ot(ja),oo=se({},cr,{relatedTarget:0}),ao=Ot(oo),mu=se({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),br=Ot(mu),gu=se({},Wn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),yu=Ot(gu),vu=se({},Wn,{data:0}),Fa=Ot(vu),lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=_u[r])?!!s[r]:!1}function dr(){return wu}var u=se({},cr,{key:function(r){if(r.key){var s=lo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=no(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Zt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(r){return r.type==="keypress"?no(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?no(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=Ot(u),_=se({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x=Ot(_),B=se({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),K=Ot(B),ie=se({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$e=Ot(ie),Et=se({},hs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Oe=Ot(Et),At=[9,13,27,32],mt=h&&"CompositionEvent"in window,Cn=null;h&&"documentMode"in document&&(Cn=document.documentMode);var vn=h&&"TextEvent"in window&&!Cn,fs=h&&(!mt||Cn&&8<Cn&&11>=Cn),uo=" ",dm=!1;function hm(r,s){switch(r){case"keyup":return At.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var co=!1;function iI(r,s){switch(r){case"compositionend":return fm(s);case"keypress":return s.which!==32?null:(dm=!0,uo);case"textInput":return r=s.data,r===uo&&dm?null:r;default:return null}}function sI(r,s){if(co)return r==="compositionend"||!mt&&hm(r,s)?(r=La(),sn=to=yn=null,co=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return fs&&s.locale!=="ko"?null:s.data;default:return null}}var oI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!oI[r.type]:s==="textarea"}function mm(r,s,l,d){or(d),s=Su(s,"onChange"),0<s.length&&(l=new ro("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var Ua=null,za=null;function aI(r){Dm(r,0)}function Eu(r){var s=go(r);if(js(s))return r}function lI(r,s){if(r==="change")return s}var gm=!1;if(h){var Fd;if(h){var Ud="oninput"in document;if(!Ud){var ym=document.createElement("div");ym.setAttribute("oninput","return;"),Ud=typeof ym.oninput=="function"}Fd=Ud}else Fd=!1;gm=Fd&&(!document.documentMode||9<document.documentMode)}function vm(){Ua&&(Ua.detachEvent("onpropertychange",_m),za=Ua=null)}function _m(r){if(r.propertyName==="value"&&Eu(za)){var s=[];mm(s,za,r,$s(r)),Ra(aI,s)}}function uI(r,s,l){r==="focusin"?(vm(),Ua=s,za=l,Ua.attachEvent("onpropertychange",_m)):r==="focusout"&&vm()}function cI(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Eu(za)}function dI(r,s){if(r==="click")return Eu(s)}function hI(r,s){if(r==="input"||r==="change")return Eu(s)}function fI(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Hn=typeof Object.is=="function"?Object.is:fI;function Ba(r,s){if(Hn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var f=l[d];if(!p.call(s,f)||!Hn(r[f],s[f]))return!1}return!0}function wm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Em(r,s){var l=wm(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=wm(l)}}function Im(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Im(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Tm(){for(var r=window,s=ei();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=ei(r.document)}return s}function zd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function pI(r){var s=Tm(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Im(l.ownerDocument.documentElement,l)){if(d!==null&&zd(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,y=Math.min(d.start,f);d=d.end===void 0?y:Math.min(d.end,f),!r.extend&&y>d&&(f=d,d=y,y=f),f=Em(l,y);var T=Em(l,d);f&&T&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),y>d?(r.addRange(s),r.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var mI=h&&"documentMode"in document&&11>=document.documentMode,ho=null,Bd=null,$a=null,$d=!1;function xm(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;$d||ho==null||ho!==ei(d)||(d=ho,"selectionStart"in d&&zd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),$a&&Ba($a,d)||($a=d,d=Su(Bd,"onSelect"),0<d.length&&(s=new ro("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=ho)))}function Iu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var fo={animationend:Iu("Animation","AnimationEnd"),animationiteration:Iu("Animation","AnimationIteration"),animationstart:Iu("Animation","AnimationStart"),transitionend:Iu("Transition","TransitionEnd")},Wd={},Sm={};h&&(Sm=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function Tu(r){if(Wd[r])return Wd[r];if(!fo[r])return r;var s=fo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Sm)return Wd[r]=s[l];return r}var Cm=Tu("animationend"),Rm=Tu("animationiteration"),Am=Tu("animationstart"),km=Tu("transitionend"),Pm=new Map,bm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(r,s){Pm.set(r,s),a(s,[r])}for(var Hd=0;Hd<bm.length;Hd++){var qd=bm[Hd],gI=qd.toLowerCase(),yI=qd[0].toUpperCase()+qd.slice(1);di(gI,"on"+yI)}di(Cm,"onAnimationEnd"),di(Rm,"onAnimationIteration"),di(Am,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(km,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wa));function Nm(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,Zl(d,s,void 0,r),r.currentTarget=null}function Dm(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],f=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var T=d.length-1;0<=T;T--){var k=d[T],M=k.instance,q=k.currentTarget;if(k=k.listener,M!==y&&f.isPropagationStopped())break e;Nm(f,k,q),y=M}else for(T=0;T<d.length;T++){if(k=d[T],M=k.instance,q=k.currentTarget,k=k.listener,M!==y&&f.isPropagationStopped())break e;Nm(f,k,q),y=M}}}if(Mn)throw r=Aa,Mn=!1,Aa=null,r}function Ye(r,s){var l=s[eh];l===void 0&&(l=s[eh]=new Set);var d=r+"__bubble";l.has(d)||(Vm(s,r,2,!1),l.add(d))}function Kd(r,s,l){var d=0;s&&(d|=4),Vm(l,r,d,s)}var xu="_reactListening"+Math.random().toString(36).slice(2);function Ha(r){if(!r[xu]){r[xu]=!0,i.forEach(function(l){l!=="selectionchange"&&(vI.has(l)||Kd(l,!1,r),Kd(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[xu]||(s[xu]=!0,Kd("selectionchange",!1,s))}}function Vm(r,s,l,d){switch(Oa(s)){case 1:var f=et;break;case 4:f=Md;break;default:f=Va}l=f.bind(null,s,l,r),f=void 0,!qs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),d?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function Gd(r,s,l,d,f){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var k=d.stateNode.containerInfo;if(k===f||k.nodeType===8&&k.parentNode===f)break;if(T===4)for(T=d.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===f||M.nodeType===8&&M.parentNode===f))return;T=T.return}for(;k!==null;){if(T=ps(k),T===null)return;if(M=T.tag,M===5||M===6){d=y=T;continue e}k=k.parentNode}}d=d.return}Ra(function(){var q=y,ee=$s(l),te=[];e:{var Z=Pm.get(r);if(Z!==void 0){var oe=ro,de=r;switch(r){case"keypress":if(no(l)===0)break e;case"keydown":case"keyup":oe=g;break;case"focusin":de="focus",oe=ao;break;case"focusout":de="blur",oe=ao;break;case"beforeblur":case"afterblur":oe=ao;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=so;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=K;break;case Cm:case Rm:case Am:oe=br;break;case km:oe=$e;break;case"scroll":oe=jd;break;case"wheel":oe=Oe;break;case"copy":case"cut":case"paste":oe=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=x}var fe=(s&4)!==0,ht=!fe&&r==="scroll",$=fe?Z!==null?Z+"Capture":null:Z;fe=[];for(var U=q,W;U!==null;){W=U;var re=W.stateNode;if(W.tag===5&&re!==null&&(W=re,$!==null&&(re=dt(U,$),re!=null&&fe.push(qa(U,re,W)))),ht)break;U=U.return}0<fe.length&&(Z=new oe(Z,de,null,l,ee),te.push({event:Z,listeners:fe}))}}if((s&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",oe=r==="mouseout"||r==="pointerout",Z&&l!==ts&&(de=l.relatedTarget||l.fromElement)&&(ps(de)||de[Nr]))break e;if((oe||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,oe?(de=l.relatedTarget||l.toElement,oe=q,de=de?ps(de):null,de!==null&&(ht=jn(de),de!==ht||de.tag!==5&&de.tag!==6)&&(de=null)):(oe=null,de=q),oe!==de)){if(fe=so,re="onMouseLeave",$="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(fe=x,re="onPointerLeave",$="onPointerEnter",U="pointer"),ht=oe==null?Z:go(oe),W=de==null?Z:go(de),Z=new fe(re,U+"leave",oe,l,ee),Z.target=ht,Z.relatedTarget=W,re=null,ps(ee)===q&&(fe=new fe($,U+"enter",de,l,ee),fe.target=W,fe.relatedTarget=ht,re=fe),ht=re,oe&&de)t:{for(fe=oe,$=de,U=0,W=fe;W;W=po(W))U++;for(W=0,re=$;re;re=po(re))W++;for(;0<U-W;)fe=po(fe),U--;for(;0<W-U;)$=po($),W--;for(;U--;){if(fe===$||$!==null&&fe===$.alternate)break t;fe=po(fe),$=po($)}fe=null}else fe=null;oe!==null&&Om(te,Z,oe,fe,!1),de!==null&&ht!==null&&Om(te,ht,de,fe,!0)}}e:{if(Z=q?go(q):window,oe=Z.nodeName&&Z.nodeName.toLowerCase(),oe==="select"||oe==="input"&&Z.type==="file")var pe=lI;else if(pm(Z))if(gm)pe=hI;else{pe=cI;var _e=uI}else(oe=Z.nodeName)&&oe.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(pe=dI);if(pe&&(pe=pe(r,q))){mm(te,pe,l,ee);break e}_e&&_e(r,Z,q),r==="focusout"&&(_e=Z._wrapperState)&&_e.controlled&&Z.type==="number"&&Us(Z,"number",Z.value)}switch(_e=q?go(q):window,r){case"focusin":(pm(_e)||_e.contentEditable==="true")&&(ho=_e,Bd=q,$a=null);break;case"focusout":$a=Bd=ho=null;break;case"mousedown":$d=!0;break;case"contextmenu":case"mouseup":case"dragend":$d=!1,xm(te,l,ee);break;case"selectionchange":if(mI)break;case"keydown":case"keyup":xm(te,l,ee)}var we;if(mt)e:{switch(r){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else co?hm(r,l)&&(Ie="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ie="onCompositionStart");Ie&&(fs&&l.locale!=="ko"&&(co||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&co&&(we=La()):(yn=ee,to="value"in yn?yn.value:yn.textContent,co=!0)),_e=Su(q,Ie),0<_e.length&&(Ie=new Fa(Ie,r,null,l,ee),te.push({event:Ie,listeners:_e}),we?Ie.data=we:(we=fm(l),we!==null&&(Ie.data=we)))),(we=vn?iI(r,l):sI(r,l))&&(q=Su(q,"onBeforeInput"),0<q.length&&(ee=new Fa("onBeforeInput","beforeinput",null,l,ee),te.push({event:ee,listeners:q}),ee.data=we))}Dm(te,s)})}function qa(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Su(r,s){for(var l=s+"Capture",d=[];r!==null;){var f=r,y=f.stateNode;f.tag===5&&y!==null&&(f=y,y=dt(r,l),y!=null&&d.unshift(qa(r,y,f)),y=dt(r,s),y!=null&&d.push(qa(r,y,f))),r=r.return}return d}function po(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Om(r,s,l,d,f){for(var y=s._reactName,T=[];l!==null&&l!==d;){var k=l,M=k.alternate,q=k.stateNode;if(M!==null&&M===d)break;k.tag===5&&q!==null&&(k=q,f?(M=dt(l,y),M!=null&&T.unshift(qa(l,M,k))):f||(M=dt(l,y),M!=null&&T.push(qa(l,M,k)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var _I=/\r\n?/g,wI=/\u0000|\uFFFD/g;function Lm(r){return(typeof r=="string"?r:""+r).replace(_I,`
`).replace(wI,"")}function Cu(r,s,l){if(s=Lm(s),Lm(r)!==s&&l)throw Error(t(425))}function Ru(){}var Qd=null,Yd=null;function Xd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Jd=typeof setTimeout=="function"?setTimeout:void 0,EI=typeof clearTimeout=="function"?clearTimeout:void 0,Mm=typeof Promise=="function"?Promise:void 0,II=typeof queueMicrotask=="function"?queueMicrotask:typeof Mm<"u"?function(r){return Mm.resolve(null).then(r).catch(TI)}:Jd;function TI(r){setTimeout(function(){throw r})}function Zd(r,s){var l=s,d=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(d===0){r.removeChild(f),$n(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=f}while(l);$n(s)}function hi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function jm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var mo=Math.random().toString(36).slice(2),hr="__reactFiber$"+mo,Ka="__reactProps$"+mo,Nr="__reactContainer$"+mo,eh="__reactEvents$"+mo,xI="__reactListeners$"+mo,SI="__reactHandles$"+mo;function ps(r){var s=r[hr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Nr]||l[hr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=jm(r);r!==null;){if(l=r[hr])return l;r=jm(r)}return s}r=l,l=r.parentNode}return null}function Ga(r){return r=r[hr]||r[Nr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function go(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Au(r){return r[Ka]||null}var th=[],yo=-1;function fi(r){return{current:r}}function Xe(r){0>yo||(r.current=th[yo],th[yo]=null,yo--)}function Qe(r,s){yo++,th[yo]=r.current,r.current=s}var pi={},$t=fi(pi),on=fi(!1),ms=pi;function vo(r,s){var l=r.type.contextTypes;if(!l)return pi;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var f={},y;for(y in l)f[y]=s[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function an(r){return r=r.childContextTypes,r!=null}function ku(){Xe(on),Xe($t)}function Fm(r,s,l){if($t.current!==pi)throw Error(t(168));Qe($t,s),Qe(on,l)}function Um(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var f in d)if(!(f in s))throw Error(t(108,Fe(r)||"Unknown",f));return se({},l,d)}function Pu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||pi,ms=$t.current,Qe($t,r),Qe(on,on.current),!0}function zm(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=Um(r,s,ms),d.__reactInternalMemoizedMergedChildContext=r,Xe(on),Xe($t),Qe($t,r)):Xe(on),Qe(on,l)}var Dr=null,bu=!1,nh=!1;function Bm(r){Dr===null?Dr=[r]:Dr.push(r)}function CI(r){bu=!0,Bm(r)}function mi(){if(!nh&&Dr!==null){nh=!0;var r=0,s=De;try{var l=Dr;for(De=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Dr=null,bu=!1}catch(f){throw Dr!==null&&(Dr=Dr.slice(r+1)),Ys(os,mi),f}finally{De=s,nh=!1}}return null}var _o=[],wo=0,Nu=null,Du=0,Rn=[],An=0,gs=null,Vr=1,Or="";function ys(r,s){_o[wo++]=Du,_o[wo++]=Nu,Nu=r,Du=s}function $m(r,s,l){Rn[An++]=Vr,Rn[An++]=Or,Rn[An++]=gs,gs=r;var d=Vr;r=Or;var f=32-Jt(d)-1;d&=~(1<<f),l+=1;var y=32-Jt(s)+f;if(30<y){var T=f-f%5;y=(d&(1<<T)-1).toString(32),d>>=T,f-=T,Vr=1<<32-Jt(s)+f|l<<f|d,Or=y+r}else Vr=1<<y|l<<f|d,Or=r}function rh(r){r.return!==null&&(ys(r,1),$m(r,1,0))}function ih(r){for(;r===Nu;)Nu=_o[--wo],_o[wo]=null,Du=_o[--wo],_o[wo]=null;for(;r===gs;)gs=Rn[--An],Rn[An]=null,Or=Rn[--An],Rn[An]=null,Vr=Rn[--An],Rn[An]=null}var _n=null,wn=null,tt=!1,qn=null;function Wm(r,s){var l=Nn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Hm(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,_n=r,wn=hi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,_n=r,wn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=gs!==null?{id:Vr,overflow:Or}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Nn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,_n=r,wn=null,!0):!1;default:return!1}}function sh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function oh(r){if(tt){var s=wn;if(s){var l=s;if(!Hm(r,s)){if(sh(r))throw Error(t(418));s=hi(l.nextSibling);var d=_n;s&&Hm(r,s)?Wm(d,l):(r.flags=r.flags&-4097|2,tt=!1,_n=r)}}else{if(sh(r))throw Error(t(418));r.flags=r.flags&-4097|2,tt=!1,_n=r}}}function qm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;_n=r}function Vu(r){if(r!==_n)return!1;if(!tt)return qm(r),tt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Xd(r.type,r.memoizedProps)),s&&(s=wn)){if(sh(r))throw Km(),Error(t(418));for(;s;)Wm(r,s),s=hi(s.nextSibling)}if(qm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){wn=hi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}wn=null}}else wn=_n?hi(r.stateNode.nextSibling):null;return!0}function Km(){for(var r=wn;r;)r=hi(r.nextSibling)}function Eo(){wn=_n=null,tt=!1}function ah(r){qn===null?qn=[r]:qn.push(r)}var RI=Q.ReactCurrentBatchConfig;function Qa(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var f=d,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(T){var k=f.refs;T===null?delete k[y]:k[y]=T},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Ou(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Gm(r){var s=r._init;return s(r._payload)}function Qm(r){function s($,U){if(r){var W=$.deletions;W===null?($.deletions=[U],$.flags|=16):W.push(U)}}function l($,U){if(!r)return null;for(;U!==null;)s($,U),U=U.sibling;return null}function d($,U){for($=new Map;U!==null;)U.key!==null?$.set(U.key,U):$.set(U.index,U),U=U.sibling;return $}function f($,U){return $=Ti($,U),$.index=0,$.sibling=null,$}function y($,U,W){return $.index=W,r?(W=$.alternate,W!==null?(W=W.index,W<U?($.flags|=2,U):W):($.flags|=2,U)):($.flags|=1048576,U)}function T($){return r&&$.alternate===null&&($.flags|=2),$}function k($,U,W,re){return U===null||U.tag!==6?(U=Jh(W,$.mode,re),U.return=$,U):(U=f(U,W),U.return=$,U)}function M($,U,W,re){var pe=W.type;return pe===L?ee($,U,W.props.children,re,W.key):U!==null&&(U.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===We&&Gm(pe)===U.type)?(re=f(U,W.props),re.ref=Qa($,U,W),re.return=$,re):(re=sc(W.type,W.key,W.props,null,$.mode,re),re.ref=Qa($,U,W),re.return=$,re)}function q($,U,W,re){return U===null||U.tag!==4||U.stateNode.containerInfo!==W.containerInfo||U.stateNode.implementation!==W.implementation?(U=Zh(W,$.mode,re),U.return=$,U):(U=f(U,W.children||[]),U.return=$,U)}function ee($,U,W,re,pe){return U===null||U.tag!==7?(U=Ss(W,$.mode,re,pe),U.return=$,U):(U=f(U,W),U.return=$,U)}function te($,U,W){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Jh(""+U,$.mode,W),U.return=$,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case ae:return W=sc(U.type,U.key,U.props,null,$.mode,W),W.ref=Qa($,null,U),W.return=$,W;case me:return U=Zh(U,$.mode,W),U.return=$,U;case We:var re=U._init;return te($,re(U._payload),W)}if(Tr(U)||he(U))return U=Ss(U,$.mode,W,null),U.return=$,U;Ou($,U)}return null}function Z($,U,W,re){var pe=U!==null?U.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return pe!==null?null:k($,U,""+W,re);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case ae:return W.key===pe?M($,U,W,re):null;case me:return W.key===pe?q($,U,W,re):null;case We:return pe=W._init,Z($,U,pe(W._payload),re)}if(Tr(W)||he(W))return pe!==null?null:ee($,U,W,re,null);Ou($,W)}return null}function oe($,U,W,re,pe){if(typeof re=="string"&&re!==""||typeof re=="number")return $=$.get(W)||null,k(U,$,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case ae:return $=$.get(re.key===null?W:re.key)||null,M(U,$,re,pe);case me:return $=$.get(re.key===null?W:re.key)||null,q(U,$,re,pe);case We:var _e=re._init;return oe($,U,W,_e(re._payload),pe)}if(Tr(re)||he(re))return $=$.get(W)||null,ee(U,$,re,pe,null);Ou(U,re)}return null}function de($,U,W,re){for(var pe=null,_e=null,we=U,Ie=U=0,bt=null;we!==null&&Ie<W.length;Ie++){we.index>Ie?(bt=we,we=null):bt=we.sibling;var je=Z($,we,W[Ie],re);if(je===null){we===null&&(we=bt);break}r&&we&&je.alternate===null&&s($,we),U=y(je,U,Ie),_e===null?pe=je:_e.sibling=je,_e=je,we=bt}if(Ie===W.length)return l($,we),tt&&ys($,Ie),pe;if(we===null){for(;Ie<W.length;Ie++)we=te($,W[Ie],re),we!==null&&(U=y(we,U,Ie),_e===null?pe=we:_e.sibling=we,_e=we);return tt&&ys($,Ie),pe}for(we=d($,we);Ie<W.length;Ie++)bt=oe(we,$,Ie,W[Ie],re),bt!==null&&(r&&bt.alternate!==null&&we.delete(bt.key===null?Ie:bt.key),U=y(bt,U,Ie),_e===null?pe=bt:_e.sibling=bt,_e=bt);return r&&we.forEach(function(xi){return s($,xi)}),tt&&ys($,Ie),pe}function fe($,U,W,re){var pe=he(W);if(typeof pe!="function")throw Error(t(150));if(W=pe.call(W),W==null)throw Error(t(151));for(var _e=pe=null,we=U,Ie=U=0,bt=null,je=W.next();we!==null&&!je.done;Ie++,je=W.next()){we.index>Ie?(bt=we,we=null):bt=we.sibling;var xi=Z($,we,je.value,re);if(xi===null){we===null&&(we=bt);break}r&&we&&xi.alternate===null&&s($,we),U=y(xi,U,Ie),_e===null?pe=xi:_e.sibling=xi,_e=xi,we=bt}if(je.done)return l($,we),tt&&ys($,Ie),pe;if(we===null){for(;!je.done;Ie++,je=W.next())je=te($,je.value,re),je!==null&&(U=y(je,U,Ie),_e===null?pe=je:_e.sibling=je,_e=je);return tt&&ys($,Ie),pe}for(we=d($,we);!je.done;Ie++,je=W.next())je=oe(we,$,Ie,je.value,re),je!==null&&(r&&je.alternate!==null&&we.delete(je.key===null?Ie:je.key),U=y(je,U,Ie),_e===null?pe=je:_e.sibling=je,_e=je);return r&&we.forEach(function(oT){return s($,oT)}),tt&&ys($,Ie),pe}function ht($,U,W,re){if(typeof W=="object"&&W!==null&&W.type===L&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case ae:e:{for(var pe=W.key,_e=U;_e!==null;){if(_e.key===pe){if(pe=W.type,pe===L){if(_e.tag===7){l($,_e.sibling),U=f(_e,W.props.children),U.return=$,$=U;break e}}else if(_e.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===We&&Gm(pe)===_e.type){l($,_e.sibling),U=f(_e,W.props),U.ref=Qa($,_e,W),U.return=$,$=U;break e}l($,_e);break}else s($,_e);_e=_e.sibling}W.type===L?(U=Ss(W.props.children,$.mode,re,W.key),U.return=$,$=U):(re=sc(W.type,W.key,W.props,null,$.mode,re),re.ref=Qa($,U,W),re.return=$,$=re)}return T($);case me:e:{for(_e=W.key;U!==null;){if(U.key===_e)if(U.tag===4&&U.stateNode.containerInfo===W.containerInfo&&U.stateNode.implementation===W.implementation){l($,U.sibling),U=f(U,W.children||[]),U.return=$,$=U;break e}else{l($,U);break}else s($,U);U=U.sibling}U=Zh(W,$.mode,re),U.return=$,$=U}return T($);case We:return _e=W._init,ht($,U,_e(W._payload),re)}if(Tr(W))return de($,U,W,re);if(he(W))return fe($,U,W,re);Ou($,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,U!==null&&U.tag===6?(l($,U.sibling),U=f(U,W),U.return=$,$=U):(l($,U),U=Jh(W,$.mode,re),U.return=$,$=U),T($)):l($,U)}return ht}var Io=Qm(!0),Ym=Qm(!1),Lu=fi(null),Mu=null,To=null,lh=null;function uh(){lh=To=Mu=null}function ch(r){var s=Lu.current;Xe(Lu),r._currentValue=s}function dh(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function xo(r,s){Mu=r,lh=To=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(ln=!0),r.firstContext=null)}function kn(r){var s=r._currentValue;if(lh!==r)if(r={context:r,memoizedValue:s,next:null},To===null){if(Mu===null)throw Error(t(308));To=r,Mu.dependencies={lanes:0,firstContext:r}}else To=To.next=r;return s}var vs=null;function hh(r){vs===null?vs=[r]:vs.push(r)}function Xm(r,s,l,d){var f=s.interleaved;return f===null?(l.next=l,hh(s)):(l.next=f.next,f.next=l),s.interleaved=l,Lr(r,d)}function Lr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var gi=!1;function fh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Mr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function yi(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Me&2)!==0){var f=d.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),d.pending=s,Lr(r,l)}return f=d.interleaved,f===null?(s.next=s,hh(d)):(s.next=f.next,f.next=s),d.interleaved=s,Lr(r,l)}function ju(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,oi(r,l)}}function Zm(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var f=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?f=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?f=y=s:y=y.next=s}else f=y=s;l={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Fu(r,s,l,d){var f=r.updateQueue;gi=!1;var y=f.firstBaseUpdate,T=f.lastBaseUpdate,k=f.shared.pending;if(k!==null){f.shared.pending=null;var M=k,q=M.next;M.next=null,T===null?y=q:T.next=q,T=M;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,k=ee.lastBaseUpdate,k!==T&&(k===null?ee.firstBaseUpdate=q:k.next=q,ee.lastBaseUpdate=M))}if(y!==null){var te=f.baseState;T=0,ee=q=M=null,k=y;do{var Z=k.lane,oe=k.eventTime;if((d&Z)===Z){ee!==null&&(ee=ee.next={eventTime:oe,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var de=r,fe=k;switch(Z=s,oe=l,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){te=de.call(oe,te,Z);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,Z=typeof de=="function"?de.call(oe,te,Z):de,Z==null)break e;te=se({},te,Z);break e;case 2:gi=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,Z=f.effects,Z===null?f.effects=[k]:Z.push(k))}else oe={eventTime:oe,lane:Z,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ee===null?(q=ee=oe,M=te):ee=ee.next=oe,T|=Z;if(k=k.next,k===null){if(k=f.shared.pending,k===null)break;Z=k,k=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);if(ee===null&&(M=te),f.baseState=M,f.firstBaseUpdate=q,f.lastBaseUpdate=ee,s=f.shared.interleaved,s!==null){f=s;do T|=f.lane,f=f.next;while(f!==s)}else y===null&&(f.shared.lanes=0);Es|=T,r.lanes=T,r.memoizedState=te}}function eg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],f=d.callback;if(f!==null){if(d.callback=null,d=l,typeof f!="function")throw Error(t(191,f));f.call(d)}}}var Ya={},fr=fi(Ya),Xa=fi(Ya),Ja=fi(Ya);function _s(r){if(r===Ya)throw Error(t(174));return r}function ph(r,s){switch(Qe(Ja,s),Qe(Xa,r),Qe(fr,Ya),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:wt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=wt(s,r)}Xe(fr),Qe(fr,s)}function So(){Xe(fr),Xe(Xa),Xe(Ja)}function tg(r){_s(Ja.current);var s=_s(fr.current),l=wt(s,r.type);s!==l&&(Qe(Xa,r),Qe(fr,l))}function mh(r){Xa.current===r&&(Xe(fr),Xe(Xa))}var ot=fi(0);function Uu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var gh=[];function yh(){for(var r=0;r<gh.length;r++)gh[r]._workInProgressVersionPrimary=null;gh.length=0}var zu=Q.ReactCurrentDispatcher,vh=Q.ReactCurrentBatchConfig,ws=0,at=null,It=null,kt=null,Bu=!1,Za=!1,el=0,AI=0;function Wt(){throw Error(t(321))}function _h(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Hn(r[l],s[l]))return!1;return!0}function wh(r,s,l,d,f,y){if(ws=y,at=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,zu.current=r===null||r.memoizedState===null?NI:DI,r=l(d,f),Za){y=0;do{if(Za=!1,el=0,25<=y)throw Error(t(301));y+=1,kt=It=null,s.updateQueue=null,zu.current=VI,r=l(d,f)}while(Za)}if(zu.current=Hu,s=It!==null&&It.next!==null,ws=0,kt=It=at=null,Bu=!1,s)throw Error(t(300));return r}function Eh(){var r=el!==0;return el=0,r}function pr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?at.memoizedState=kt=r:kt=kt.next=r,kt}function Pn(){if(It===null){var r=at.alternate;r=r!==null?r.memoizedState:null}else r=It.next;var s=kt===null?at.memoizedState:kt.next;if(s!==null)kt=s,It=r;else{if(r===null)throw Error(t(310));It=r,r={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},kt===null?at.memoizedState=kt=r:kt=kt.next=r}return kt}function tl(r,s){return typeof s=="function"?s(r):s}function Ih(r){var s=Pn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=It,f=d.baseQueue,y=l.pending;if(y!==null){if(f!==null){var T=f.next;f.next=y.next,y.next=T}d.baseQueue=f=y,l.pending=null}if(f!==null){y=f.next,d=d.baseState;var k=T=null,M=null,q=y;do{var ee=q.lane;if((ws&ee)===ee)M!==null&&(M=M.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),d=q.hasEagerState?q.eagerState:r(d,q.action);else{var te={lane:ee,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};M===null?(k=M=te,T=d):M=M.next=te,at.lanes|=ee,Es|=ee}q=q.next}while(q!==null&&q!==y);M===null?T=d:M.next=k,Hn(d,s.memoizedState)||(ln=!0),s.memoizedState=d,s.baseState=T,s.baseQueue=M,l.lastRenderedState=d}if(r=l.interleaved,r!==null){f=r;do y=f.lane,at.lanes|=y,Es|=y,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Th(r){var s=Pn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,f=l.pending,y=s.memoizedState;if(f!==null){l.pending=null;var T=f=f.next;do y=r(y,T.action),T=T.next;while(T!==f);Hn(y,s.memoizedState)||(ln=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function ng(){}function rg(r,s){var l=at,d=Pn(),f=s(),y=!Hn(d.memoizedState,f);if(y&&(d.memoizedState=f,ln=!0),d=d.queue,xh(og.bind(null,l,d,r),[r]),d.getSnapshot!==s||y||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,nl(9,sg.bind(null,l,d,f,s),void 0,null),Pt===null)throw Error(t(349));(ws&30)!==0||ig(l,s,f)}return f}function ig(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=at.updateQueue,s===null?(s={lastEffect:null,stores:null},at.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function sg(r,s,l,d){s.value=l,s.getSnapshot=d,ag(s)&&lg(r)}function og(r,s,l){return l(function(){ag(s)&&lg(r)})}function ag(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Hn(r,l)}catch{return!0}}function lg(r){var s=Lr(r,1);s!==null&&Yn(s,r,1,-1)}function ug(r){var s=pr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:r},s.queue=r,r=r.dispatch=bI.bind(null,at,r),[s.memoizedState,r]}function nl(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=at.updateQueue,s===null?(s={lastEffect:null,stores:null},at.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function cg(){return Pn().memoizedState}function $u(r,s,l,d){var f=pr();at.flags|=r,f.memoizedState=nl(1|s,l,void 0,d===void 0?null:d)}function Wu(r,s,l,d){var f=Pn();d=d===void 0?null:d;var y=void 0;if(It!==null){var T=It.memoizedState;if(y=T.destroy,d!==null&&_h(d,T.deps)){f.memoizedState=nl(s,l,y,d);return}}at.flags|=r,f.memoizedState=nl(1|s,l,y,d)}function dg(r,s){return $u(8390656,8,r,s)}function xh(r,s){return Wu(2048,8,r,s)}function hg(r,s){return Wu(4,2,r,s)}function fg(r,s){return Wu(4,4,r,s)}function pg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function mg(r,s,l){return l=l!=null?l.concat([r]):null,Wu(4,4,pg.bind(null,s,r),l)}function Sh(){}function gg(r,s){var l=Pn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&_h(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function yg(r,s){var l=Pn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&_h(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function vg(r,s,l){return(ws&21)===0?(r.baseState&&(r.baseState=!1,ln=!0),r.memoizedState=l):(Hn(l,s)||(l=us(),at.lanes|=l,Es|=l,r.baseState=!0),s)}function kI(r,s){var l=De;De=l!==0&&4>l?l:4,r(!0);var d=vh.transition;vh.transition={};try{r(!1),s()}finally{De=l,vh.transition=d}}function _g(){return Pn().memoizedState}function PI(r,s,l){var d=Ei(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},wg(r))Eg(s,l);else if(l=Xm(r,s,l,d),l!==null){var f=tn();Yn(l,r,d,f),Ig(l,s,d)}}function bI(r,s,l){var d=Ei(r),f={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(wg(r))Eg(s,f);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,k=y(T,l);if(f.hasEagerState=!0,f.eagerState=k,Hn(k,T)){var M=s.interleaved;M===null?(f.next=f,hh(s)):(f.next=M.next,M.next=f),s.interleaved=f;return}}catch{}finally{}l=Xm(r,s,f,d),l!==null&&(f=tn(),Yn(l,r,d,f),Ig(l,s,d))}}function wg(r){var s=r.alternate;return r===at||s!==null&&s===at}function Eg(r,s){Za=Bu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Ig(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,oi(r,l)}}var Hu={readContext:kn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},NI={readContext:kn,useCallback:function(r,s){return pr().memoizedState=[r,s===void 0?null:s],r},useContext:kn,useEffect:dg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,$u(4194308,4,pg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return $u(4194308,4,r,s)},useInsertionEffect:function(r,s){return $u(4,2,r,s)},useMemo:function(r,s){var l=pr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=pr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=PI.bind(null,at,r),[d.memoizedState,r]},useRef:function(r){var s=pr();return r={current:r},s.memoizedState=r},useState:ug,useDebugValue:Sh,useDeferredValue:function(r){return pr().memoizedState=r},useTransition:function(){var r=ug(!1),s=r[0];return r=kI.bind(null,r[1]),pr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=at,f=pr();if(tt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Pt===null)throw Error(t(349));(ws&30)!==0||ig(d,s,l)}f.memoizedState=l;var y={value:l,getSnapshot:s};return f.queue=y,dg(og.bind(null,d,y,r),[r]),d.flags|=2048,nl(9,sg.bind(null,d,y,l,s),void 0,null),l},useId:function(){var r=pr(),s=Pt.identifierPrefix;if(tt){var l=Or,d=Vr;l=(d&~(1<<32-Jt(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=el++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=AI++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},DI={readContext:kn,useCallback:gg,useContext:kn,useEffect:xh,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:yg,useReducer:Ih,useRef:cg,useState:function(){return Ih(tl)},useDebugValue:Sh,useDeferredValue:function(r){var s=Pn();return vg(s,It.memoizedState,r)},useTransition:function(){var r=Ih(tl)[0],s=Pn().memoizedState;return[r,s]},useMutableSource:ng,useSyncExternalStore:rg,useId:_g,unstable_isNewReconciler:!1},VI={readContext:kn,useCallback:gg,useContext:kn,useEffect:xh,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:yg,useReducer:Th,useRef:cg,useState:function(){return Th(tl)},useDebugValue:Sh,useDeferredValue:function(r){var s=Pn();return It===null?s.memoizedState=r:vg(s,It.memoizedState,r)},useTransition:function(){var r=Th(tl)[0],s=Pn().memoizedState;return[r,s]},useMutableSource:ng,useSyncExternalStore:rg,useId:_g,unstable_isNewReconciler:!1};function Kn(r,s){if(r&&r.defaultProps){s=se({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Ch(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:se({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var qu={isMounted:function(r){return(r=r._reactInternals)?jn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=tn(),f=Ei(r),y=Mr(d,f);y.payload=s,l!=null&&(y.callback=l),s=yi(r,y,f),s!==null&&(Yn(s,r,f,d),ju(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=tn(),f=Ei(r),y=Mr(d,f);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=yi(r,y,f),s!==null&&(Yn(s,r,f,d),ju(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=tn(),d=Ei(r),f=Mr(l,d);f.tag=2,s!=null&&(f.callback=s),s=yi(r,f,d),s!==null&&(Yn(s,r,d,l),ju(s,r,d))}};function Tg(r,s,l,d,f,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,T):s.prototype&&s.prototype.isPureReactComponent?!Ba(l,d)||!Ba(f,y):!0}function xg(r,s,l){var d=!1,f=pi,y=s.contextType;return typeof y=="object"&&y!==null?y=kn(y):(f=an(s)?ms:$t.current,d=s.contextTypes,y=(d=d!=null)?vo(r,f):pi),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=qu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=y),s}function Sg(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&qu.enqueueReplaceState(s,s.state,null)}function Rh(r,s,l,d){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},fh(r);var y=s.contextType;typeof y=="object"&&y!==null?f.context=kn(y):(y=an(s)?ms:$t.current,f.context=vo(r,y)),f.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Ch(r,s,y,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&qu.enqueueReplaceState(f,f.state,null),Fu(r,l,f,d),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Co(r,s){try{var l="",d=s;do l+=ke(d),d=d.return;while(d);var f=l}catch(y){f=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:f,digest:null}}function Ah(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function kh(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var OI=typeof WeakMap=="function"?WeakMap:Map;function Cg(r,s,l){l=Mr(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){Zu||(Zu=!0,Wh=d),kh(r,s)},l}function Rg(r,s,l){l=Mr(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=s.value;l.payload=function(){return d(f)},l.callback=function(){kh(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){kh(r,s),typeof d!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function Ag(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new OI;var f=new Set;d.set(s,f)}else f=d.get(s),f===void 0&&(f=new Set,d.set(s,f));f.has(l)||(f.add(l),r=QI.bind(null,r,s,l),s.then(r,r))}function kg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Pg(r,s,l,d,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Mr(-1,1),s.tag=2,yi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var LI=Q.ReactCurrentOwner,ln=!1;function en(r,s,l,d){s.child=r===null?Ym(s,null,l,d):Io(s,r.child,l,d)}function bg(r,s,l,d,f){l=l.render;var y=s.ref;return xo(s,f),d=wh(r,s,l,d,y,f),l=Eh(),r!==null&&!ln?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,jr(r,s,f)):(tt&&l&&rh(s),s.flags|=1,en(r,s,d,f),s.child)}function Ng(r,s,l,d,f){if(r===null){var y=l.type;return typeof y=="function"&&!Xh(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Dg(r,s,y,d,f)):(r=sc(l.type,null,d,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&f)===0){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ba,l(T,d)&&r.ref===s.ref)return jr(r,s,f)}return s.flags|=1,r=Ti(y,d),r.ref=s.ref,r.return=s,s.child=r}function Dg(r,s,l,d,f){if(r!==null){var y=r.memoizedProps;if(Ba(y,d)&&r.ref===s.ref)if(ln=!1,s.pendingProps=d=y,(r.lanes&f)!==0)(r.flags&131072)!==0&&(ln=!0);else return s.lanes=r.lanes,jr(r,s,f)}return Ph(r,s,l,d,f)}function Vg(r,s,l){var d=s.pendingProps,f=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Ao,En),En|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Qe(Ao,En),En|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,Qe(Ao,En),En|=d}else y!==null?(d=y.baseLanes|l,s.memoizedState=null):d=l,Qe(Ao,En),En|=d;return en(r,s,f,l),s.child}function Og(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Ph(r,s,l,d,f){var y=an(l)?ms:$t.current;return y=vo(s,y),xo(s,f),l=wh(r,s,l,d,y,f),d=Eh(),r!==null&&!ln?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,jr(r,s,f)):(tt&&d&&rh(s),s.flags|=1,en(r,s,l,f),s.child)}function Lg(r,s,l,d,f){if(an(l)){var y=!0;Pu(s)}else y=!1;if(xo(s,f),s.stateNode===null)Gu(r,s),xg(s,l,d),Rh(s,l,d,f),d=!0;else if(r===null){var T=s.stateNode,k=s.memoizedProps;T.props=k;var M=T.context,q=l.contextType;typeof q=="object"&&q!==null?q=kn(q):(q=an(l)?ms:$t.current,q=vo(s,q));var ee=l.getDerivedStateFromProps,te=typeof ee=="function"||typeof T.getSnapshotBeforeUpdate=="function";te||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==d||M!==q)&&Sg(s,T,d,q),gi=!1;var Z=s.memoizedState;T.state=Z,Fu(s,d,T,f),M=s.memoizedState,k!==d||Z!==M||on.current||gi?(typeof ee=="function"&&(Ch(s,l,ee,d),M=s.memoizedState),(k=gi||Tg(s,l,k,d,Z,M,q))?(te||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=M),T.props=d,T.state=M,T.context=q,d=k):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{T=s.stateNode,Jm(r,s),k=s.memoizedProps,q=s.type===s.elementType?k:Kn(s.type,k),T.props=q,te=s.pendingProps,Z=T.context,M=l.contextType,typeof M=="object"&&M!==null?M=kn(M):(M=an(l)?ms:$t.current,M=vo(s,M));var oe=l.getDerivedStateFromProps;(ee=typeof oe=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==te||Z!==M)&&Sg(s,T,d,M),gi=!1,Z=s.memoizedState,T.state=Z,Fu(s,d,T,f);var de=s.memoizedState;k!==te||Z!==de||on.current||gi?(typeof oe=="function"&&(Ch(s,l,oe,d),de=s.memoizedState),(q=gi||Tg(s,l,q,d,Z,de,M)||!1)?(ee||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,de,M),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,de,M)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||k===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=de),T.props=d,T.state=de,T.context=M,d=q):(typeof T.componentDidUpdate!="function"||k===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),d=!1)}return bh(r,s,l,d,y,f)}function bh(r,s,l,d,f,y){Og(r,s);var T=(s.flags&128)!==0;if(!d&&!T)return f&&zm(s,l,!1),jr(r,s,y);d=s.stateNode,LI.current=s;var k=T&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&T?(s.child=Io(s,r.child,null,y),s.child=Io(s,null,k,y)):en(r,s,k,y),s.memoizedState=d.state,f&&zm(s,l,!0),s.child}function Mg(r){var s=r.stateNode;s.pendingContext?Fm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Fm(r,s.context,!1),ph(r,s.containerInfo)}function jg(r,s,l,d,f){return Eo(),ah(f),s.flags|=256,en(r,s,l,d),s.child}var Nh={dehydrated:null,treeContext:null,retryLane:0};function Dh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Fg(r,s,l){var d=s.pendingProps,f=ot.current,y=!1,T=(s.flags&128)!==0,k;if((k=T)||(k=r!==null&&r.memoizedState===null?!1:(f&2)!==0),k?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Qe(ot,f&1),r===null)return oh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=d.children,r=d.fallback,y?(d=s.mode,y=s.child,T={mode:"hidden",children:T},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=oc(T,d,0,null),r=Ss(r,d,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Dh(l),s.memoizedState=Nh,r):Vh(s,T));if(f=r.memoizedState,f!==null&&(k=f.dehydrated,k!==null))return MI(r,s,T,d,k,f,l);if(y){y=d.fallback,T=s.mode,f=r.child,k=f.sibling;var M={mode:"hidden",children:d.children};return(T&1)===0&&s.child!==f?(d=s.child,d.childLanes=0,d.pendingProps=M,s.deletions=null):(d=Ti(f,M),d.subtreeFlags=f.subtreeFlags&14680064),k!==null?y=Ti(k,y):(y=Ss(y,T,l,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,T=r.child.memoizedState,T=T===null?Dh(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=r.childLanes&~l,s.memoizedState=Nh,d}return y=r.child,r=y.sibling,d=Ti(y,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function Vh(r,s){return s=oc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ku(r,s,l,d){return d!==null&&ah(d),Io(s,r.child,null,l),r=Vh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function MI(r,s,l,d,f,y,T){if(l)return s.flags&256?(s.flags&=-257,d=Ah(Error(t(422))),Ku(r,s,T,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=d.fallback,f=s.mode,d=oc({mode:"visible",children:d.children},f,0,null),y=Ss(y,f,T,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,(s.mode&1)!==0&&Io(s,r.child,null,T),s.child.memoizedState=Dh(T),s.memoizedState=Nh,y);if((s.mode&1)===0)return Ku(r,s,T,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var k=d.dgst;return d=k,y=Error(t(419)),d=Ah(y,d,void 0),Ku(r,s,T,d)}if(k=(T&r.childLanes)!==0,ln||k){if(d=Pt,d!==null){switch(T&-T){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(d.suspendedLanes|T))!==0?0:f,f!==0&&f!==y.retryLane&&(y.retryLane=f,Lr(r,f),Yn(d,r,f,-1))}return Yh(),d=Ah(Error(t(421))),Ku(r,s,T,d)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=YI.bind(null,r),f._reactRetry=s,null):(r=y.treeContext,wn=hi(f.nextSibling),_n=s,tt=!0,qn=null,r!==null&&(Rn[An++]=Vr,Rn[An++]=Or,Rn[An++]=gs,Vr=r.id,Or=r.overflow,gs=s),s=Vh(s,d.children),s.flags|=4096,s)}function Ug(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),dh(r.return,s,l)}function Oh(r,s,l,d,f){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:f}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=f)}function zg(r,s,l){var d=s.pendingProps,f=d.revealOrder,y=d.tail;if(en(r,s,d.children,l),d=ot.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ug(r,l,s);else if(r.tag===19)Ug(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Qe(ot,d),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&Uu(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),Oh(s,!1,f,l,y);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Uu(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}Oh(s,!0,l,null,y);break;case"together":Oh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Gu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function jr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Es|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Ti(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Ti(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function jI(r,s,l){switch(s.tag){case 3:Mg(s),Eo();break;case 5:tg(s);break;case 1:an(s.type)&&Pu(s);break;case 4:ph(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,f=s.memoizedProps.value;Qe(Lu,d._currentValue),d._currentValue=f;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Qe(ot,ot.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Fg(r,s,l):(Qe(ot,ot.current&1),r=jr(r,s,l),r!==null?r.sibling:null);Qe(ot,ot.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return zg(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Qe(ot,ot.current),d)break;return null;case 22:case 23:return s.lanes=0,Vg(r,s,l)}return jr(r,s,l)}var Bg,Lh,$g,Wg;Bg=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Lh=function(){},$g=function(r,s,l,d){var f=r.memoizedProps;if(f!==d){r=s.stateNode,_s(fr.current);var y=null;switch(l){case"input":f=Ji(r,f),d=Ji(r,d),y=[];break;case"select":f=se({},f,{value:void 0}),d=se({},d,{value:void 0}),y=[];break;case"textarea":f=ya(r,f),d=ya(r,d),y=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Ru)}Ta(l,d);var T;l=null;for(q in f)if(!d.hasOwnProperty(q)&&f.hasOwnProperty(q)&&f[q]!=null)if(q==="style"){var k=f[q];for(T in k)k.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?y||(y=[]):(y=y||[]).push(q,null));for(q in d){var M=d[q];if(k=f!=null?f[q]:void 0,d.hasOwnProperty(q)&&M!==k&&(M!=null||k!=null))if(q==="style")if(k){for(T in k)!k.hasOwnProperty(T)||M&&M.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in M)M.hasOwnProperty(T)&&k[T]!==M[T]&&(l||(l={}),l[T]=M[T])}else l||(y||(y=[]),y.push(q,l)),l=M;else q==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,k=k?k.__html:void 0,M!=null&&k!==M&&(y=y||[]).push(q,M)):q==="children"?typeof M!="string"&&typeof M!="number"||(y=y||[]).push(q,""+M):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(M!=null&&q==="onScroll"&&Ye("scroll",r),y||k===M||(y=[])):(y=y||[]).push(q,M))}l&&(y=y||[]).push("style",l);var q=y;(s.updateQueue=q)&&(s.flags|=4)}},Wg=function(r,s,l,d){l!==d&&(s.flags|=4)};function rl(r,s){if(!tt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Ht(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function FI(r,s,l){var d=s.pendingProps;switch(ih(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(s),null;case 1:return an(s.type)&&ku(),Ht(s),null;case 3:return d=s.stateNode,So(),Xe(on),Xe($t),yh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Vu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,qn!==null&&(Kh(qn),qn=null))),Lh(r,s),Ht(s),null;case 5:mh(s);var f=_s(Ja.current);if(l=s.type,r!==null&&s.stateNode!=null)$g(r,s,l,d,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Ht(s),null}if(r=_s(fr.current),Vu(s)){d=s.stateNode,l=s.type;var y=s.memoizedProps;switch(d[hr]=s,d[Ka]=y,r=(s.mode&1)!==0,l){case"dialog":Ye("cancel",d),Ye("close",d);break;case"iframe":case"object":case"embed":Ye("load",d);break;case"video":case"audio":for(f=0;f<Wa.length;f++)Ye(Wa[f],d);break;case"source":Ye("error",d);break;case"img":case"image":case"link":Ye("error",d),Ye("load",d);break;case"details":Ye("toggle",d);break;case"input":Fs(d,y),Ye("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Ye("invalid",d);break;case"textarea":zs(d,y),Ye("invalid",d)}Ta(l,y),f=null;for(var T in y)if(y.hasOwnProperty(T)){var k=y[T];T==="children"?typeof k=="string"?d.textContent!==k&&(y.suppressHydrationWarning!==!0&&Cu(d.textContent,k,r),f=["children",k]):typeof k=="number"&&d.textContent!==""+k&&(y.suppressHydrationWarning!==!0&&Cu(d.textContent,k,r),f=["children",""+k]):o.hasOwnProperty(T)&&k!=null&&T==="onScroll"&&Ye("scroll",d)}switch(l){case"input":Ir(d),Jl(d,y,!0);break;case"textarea":Ir(d),va(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Ru)}d=f,s.updateQueue=d,d!==null&&(s.flags|=4)}else{T=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=_t(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=T.createElement(l,{is:d.is}):(r=T.createElement(l),l==="select"&&(T=r,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):r=T.createElementNS(r,l),r[hr]=s,r[Ka]=d,Bg(r,s,!1,!1),s.stateNode=r;e:{switch(T=xa(l,d),l){case"dialog":Ye("cancel",r),Ye("close",r),f=d;break;case"iframe":case"object":case"embed":Ye("load",r),f=d;break;case"video":case"audio":for(f=0;f<Wa.length;f++)Ye(Wa[f],r);f=d;break;case"source":Ye("error",r),f=d;break;case"img":case"image":case"link":Ye("error",r),Ye("load",r),f=d;break;case"details":Ye("toggle",r),f=d;break;case"input":Fs(r,d),f=Ji(r,d),Ye("invalid",r);break;case"option":f=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},f=se({},d,{value:void 0}),Ye("invalid",r);break;case"textarea":zs(r,d),f=ya(r,d),Ye("invalid",r);break;default:f=d}Ta(l,f),k=f;for(y in k)if(k.hasOwnProperty(y)){var M=k[y];y==="style"?Ea(r,M):y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&_a(r,M)):y==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&ti(r,M):typeof M=="number"&&ti(r,""+M):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?M!=null&&y==="onScroll"&&Ye("scroll",r):M!=null&&G(r,y,M,T))}switch(l){case"input":Ir(r),Jl(r,d,!1);break;case"textarea":Ir(r),va(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Ue(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?xr(r,!!d.multiple,y,!1):d.defaultValue!=null&&xr(r,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Ru)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ht(s),null;case 6:if(r&&s.stateNode!=null)Wg(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=_s(Ja.current),_s(fr.current),Vu(s)){if(d=s.stateNode,l=s.memoizedProps,d[hr]=s,(y=d.nodeValue!==l)&&(r=_n,r!==null))switch(r.tag){case 3:Cu(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Cu(d.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[hr]=s,s.stateNode=d}return Ht(s),null;case 13:if(Xe(ot),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(tt&&wn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Km(),Eo(),s.flags|=98560,y=!1;else if(y=Vu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[hr]=s}else Eo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ht(s),y=!1}else qn!==null&&(Kh(qn),qn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(ot.current&1)!==0?Tt===0&&(Tt=3):Yh())),s.updateQueue!==null&&(s.flags|=4),Ht(s),null);case 4:return So(),Lh(r,s),r===null&&Ha(s.stateNode.containerInfo),Ht(s),null;case 10:return ch(s.type._context),Ht(s),null;case 17:return an(s.type)&&ku(),Ht(s),null;case 19:if(Xe(ot),y=s.memoizedState,y===null)return Ht(s),null;if(d=(s.flags&128)!==0,T=y.rendering,T===null)if(d)rl(y,!1);else{if(Tt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(T=Uu(r),T!==null){for(s.flags|=128,rl(y,!1),d=T.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)y=l,r=d,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,r=T.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Qe(ot,ot.current&1|2),s.child}r=r.sibling}y.tail!==null&&Ge()>ko&&(s.flags|=128,d=!0,rl(y,!1),s.lanes=4194304)}else{if(!d)if(r=Uu(T),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),rl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!tt)return Ht(s),null}else 2*Ge()-y.renderingStartTime>ko&&l!==1073741824&&(s.flags|=128,d=!0,rl(y,!1),s.lanes=4194304);y.isBackwards?(T.sibling=s.child,s.child=T):(l=y.last,l!==null?l.sibling=T:s.child=T,y.last=T)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Ge(),s.sibling=null,l=ot.current,Qe(ot,d?l&1|2:l&1),s):(Ht(s),null);case 22:case 23:return Qh(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(En&1073741824)!==0&&(Ht(s),s.subtreeFlags&6&&(s.flags|=8192)):Ht(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function UI(r,s){switch(ih(s),s.tag){case 1:return an(s.type)&&ku(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return So(),Xe(on),Xe($t),yh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return mh(s),null;case 13:if(Xe(ot),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Eo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Xe(ot),null;case 4:return So(),null;case 10:return ch(s.type._context),null;case 22:case 23:return Qh(),null;case 24:return null;default:return null}}var Qu=!1,qt=!1,zI=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Ro(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ut(r,s,d)}else l.current=null}function Mh(r,s,l){try{l()}catch(d){ut(r,s,d)}}var Hg=!1;function BI(r,s){if(Qd=ui,r=Tm(),zd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var f=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,k=-1,M=-1,q=0,ee=0,te=r,Z=null;t:for(;;){for(var oe;te!==l||f!==0&&te.nodeType!==3||(k=T+f),te!==y||d!==0&&te.nodeType!==3||(M=T+d),te.nodeType===3&&(T+=te.nodeValue.length),(oe=te.firstChild)!==null;)Z=te,te=oe;for(;;){if(te===r)break t;if(Z===l&&++q===f&&(k=T),Z===y&&++ee===d&&(M=T),(oe=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=oe}l=k===-1||M===-1?null:{start:k,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(Yd={focusedElem:r,selectionRange:l},ui=!1,ce=s;ce!==null;)if(s=ce,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ce=r;else for(;ce!==null;){s=ce;try{var de=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,ht=de.memoizedState,$=s.stateNode,U=$.getSnapshotBeforeUpdate(s.elementType===s.type?fe:Kn(s.type,fe),ht);$.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var W=s.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){ut(s,s.return,re)}if(r=s.sibling,r!==null){r.return=s.return,ce=r;break}ce=s.return}return de=Hg,Hg=!1,de}function il(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&r)===r){var y=f.destroy;f.destroy=void 0,y!==void 0&&Mh(s,l,y)}f=f.next}while(f!==d)}}function Yu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function jh(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function qg(r){var s=r.alternate;s!==null&&(r.alternate=null,qg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[hr],delete s[Ka],delete s[eh],delete s[xI],delete s[SI])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Kg(r){return r.tag===5||r.tag===3||r.tag===4}function Gg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Kg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Fh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ru));else if(d!==4&&(r=r.child,r!==null))for(Fh(r,s,l),r=r.sibling;r!==null;)Fh(r,s,l),r=r.sibling}function Uh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Uh(r,s,l),r=r.sibling;r!==null;)Uh(r,s,l),r=r.sibling}var Lt=null,Gn=!1;function vi(r,s,l){for(l=l.child;l!==null;)Qg(r,s,l),l=l.sibling}function Qg(r,s,l){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(as,l)}catch{}switch(l.tag){case 5:qt||Ro(l,s);case 6:var d=Lt,f=Gn;Lt=null,vi(r,s,l),Lt=d,Gn=f,Lt!==null&&(Gn?(r=Lt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Lt.removeChild(l.stateNode));break;case 18:Lt!==null&&(Gn?(r=Lt,l=l.stateNode,r.nodeType===8?Zd(r.parentNode,l):r.nodeType===1&&Zd(r,l),$n(r)):Zd(Lt,l.stateNode));break;case 4:d=Lt,f=Gn,Lt=l.stateNode.containerInfo,Gn=!0,vi(r,s,l),Lt=d,Gn=f;break;case 0:case 11:case 14:case 15:if(!qt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var y=f,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&Mh(l,s,T),f=f.next}while(f!==d)}vi(r,s,l);break;case 1:if(!qt&&(Ro(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(k){ut(l,s,k)}vi(r,s,l);break;case 21:vi(r,s,l);break;case 22:l.mode&1?(qt=(d=qt)||l.memoizedState!==null,vi(r,s,l),qt=d):vi(r,s,l);break;default:vi(r,s,l)}}function Yg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new zI),s.forEach(function(d){var f=XI.bind(null,r,d);l.has(d)||(l.add(d),d.then(f,f))})}}function Qn(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];try{var y=r,T=s,k=T;e:for(;k!==null;){switch(k.tag){case 5:Lt=k.stateNode,Gn=!1;break e;case 3:Lt=k.stateNode.containerInfo,Gn=!0;break e;case 4:Lt=k.stateNode.containerInfo,Gn=!0;break e}k=k.return}if(Lt===null)throw Error(t(160));Qg(y,T,f),Lt=null,Gn=!1;var M=f.alternate;M!==null&&(M.return=null),f.return=null}catch(q){ut(f,s,q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Xg(s,r),s=s.sibling}function Xg(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Qn(s,r),mr(r),d&4){try{il(3,r,r.return),Yu(3,r)}catch(fe){ut(r,r.return,fe)}try{il(5,r,r.return)}catch(fe){ut(r,r.return,fe)}}break;case 1:Qn(s,r),mr(r),d&512&&l!==null&&Ro(l,l.return);break;case 5:if(Qn(s,r),mr(r),d&512&&l!==null&&Ro(l,l.return),r.flags&32){var f=r.stateNode;try{ti(f,"")}catch(fe){ut(r,r.return,fe)}}if(d&4&&(f=r.stateNode,f!=null)){var y=r.memoizedProps,T=l!==null?l.memoizedProps:y,k=r.type,M=r.updateQueue;if(r.updateQueue=null,M!==null)try{k==="input"&&y.type==="radio"&&y.name!=null&&ma(f,y),xa(k,T);var q=xa(k,y);for(T=0;T<M.length;T+=2){var ee=M[T],te=M[T+1];ee==="style"?Ea(f,te):ee==="dangerouslySetInnerHTML"?_a(f,te):ee==="children"?ti(f,te):G(f,ee,te,q)}switch(k){case"input":ga(f,y);break;case"textarea":Bs(f,y);break;case"select":var Z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!y.multiple;var oe=y.value;oe!=null?xr(f,!!y.multiple,oe,!1):Z!==!!y.multiple&&(y.defaultValue!=null?xr(f,!!y.multiple,y.defaultValue,!0):xr(f,!!y.multiple,y.multiple?[]:"",!1))}f[Ka]=y}catch(fe){ut(r,r.return,fe)}}break;case 6:if(Qn(s,r),mr(r),d&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,y=r.memoizedProps;try{f.nodeValue=y}catch(fe){ut(r,r.return,fe)}}break;case 3:if(Qn(s,r),mr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{$n(s.containerInfo)}catch(fe){ut(r,r.return,fe)}break;case 4:Qn(s,r),mr(r);break;case 13:Qn(s,r),mr(r),f=r.child,f.flags&8192&&(y=f.memoizedState!==null,f.stateNode.isHidden=y,!y||f.alternate!==null&&f.alternate.memoizedState!==null||($h=Ge())),d&4&&Yg(r);break;case 22:if(ee=l!==null&&l.memoizedState!==null,r.mode&1?(qt=(q=qt)||ee,Qn(s,r),qt=q):Qn(s,r),mr(r),d&8192){if(q=r.memoizedState!==null,(r.stateNode.isHidden=q)&&!ee&&(r.mode&1)!==0)for(ce=r,ee=r.child;ee!==null;){for(te=ce=ee;ce!==null;){switch(Z=ce,oe=Z.child,Z.tag){case 0:case 11:case 14:case 15:il(4,Z,Z.return);break;case 1:Ro(Z,Z.return);var de=Z.stateNode;if(typeof de.componentWillUnmount=="function"){d=Z,l=Z.return;try{s=d,de.props=s.memoizedProps,de.state=s.memoizedState,de.componentWillUnmount()}catch(fe){ut(d,l,fe)}}break;case 5:Ro(Z,Z.return);break;case 22:if(Z.memoizedState!==null){ey(te);continue}}oe!==null?(oe.return=Z,ce=oe):ey(te)}ee=ee.sibling}e:for(ee=null,te=r;;){if(te.tag===5){if(ee===null){ee=te;try{f=te.stateNode,q?(y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(k=te.stateNode,M=te.memoizedProps.style,T=M!=null&&M.hasOwnProperty("display")?M.display:null,k.style.display=wa("display",T))}catch(fe){ut(r,r.return,fe)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=q?"":te.memoizedProps}catch(fe){ut(r,r.return,fe)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Qn(s,r),mr(r),d&4&&Yg(r);break;case 21:break;default:Qn(s,r),mr(r)}}function mr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Kg(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(ti(f,""),d.flags&=-33);var y=Gg(r);Uh(r,y,f);break;case 3:case 4:var T=d.stateNode.containerInfo,k=Gg(r);Fh(r,k,T);break;default:throw Error(t(161))}}catch(M){ut(r,r.return,M)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function $I(r,s,l){ce=r,Jg(r)}function Jg(r,s,l){for(var d=(r.mode&1)!==0;ce!==null;){var f=ce,y=f.child;if(f.tag===22&&d){var T=f.memoizedState!==null||Qu;if(!T){var k=f.alternate,M=k!==null&&k.memoizedState!==null||qt;k=Qu;var q=qt;if(Qu=T,(qt=M)&&!q)for(ce=f;ce!==null;)T=ce,M=T.child,T.tag===22&&T.memoizedState!==null?ty(f):M!==null?(M.return=T,ce=M):ty(f);for(;y!==null;)ce=y,Jg(y),y=y.sibling;ce=f,Qu=k,qt=q}Zg(r)}else(f.subtreeFlags&8772)!==0&&y!==null?(y.return=f,ce=y):Zg(r)}}function Zg(r){for(;ce!==null;){var s=ce;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:qt||Yu(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!qt)if(l===null)d.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:Kn(s.type,l.memoizedProps);d.componentDidUpdate(f,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&eg(s,y,d);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}eg(s,T,l)}break;case 5:var k=s.stateNode;if(l===null&&s.flags&4){l=k;var M=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var q=s.alternate;if(q!==null){var ee=q.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&$n(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}qt||s.flags&512&&jh(s)}catch(Z){ut(s,s.return,Z)}}if(s===r){ce=null;break}if(l=s.sibling,l!==null){l.return=s.return,ce=l;break}ce=s.return}}function ey(r){for(;ce!==null;){var s=ce;if(s===r){ce=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ce=l;break}ce=s.return}}function ty(r){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Yu(4,s)}catch(M){ut(s,l,M)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var f=s.return;try{d.componentDidMount()}catch(M){ut(s,f,M)}}var y=s.return;try{jh(s)}catch(M){ut(s,y,M)}break;case 5:var T=s.return;try{jh(s)}catch(M){ut(s,T,M)}}}catch(M){ut(s,s.return,M)}if(s===r){ce=null;break}var k=s.sibling;if(k!==null){k.return=s.return,ce=k;break}ce=s.return}}var WI=Math.ceil,Xu=Q.ReactCurrentDispatcher,zh=Q.ReactCurrentOwner,bn=Q.ReactCurrentBatchConfig,Me=0,Pt=null,gt=null,Mt=0,En=0,Ao=fi(0),Tt=0,sl=null,Es=0,Ju=0,Bh=0,ol=null,un=null,$h=0,ko=1/0,Fr=null,Zu=!1,Wh=null,_i=null,ec=!1,wi=null,tc=0,al=0,Hh=null,nc=-1,rc=0;function tn(){return(Me&6)!==0?Ge():nc!==-1?nc:nc=Ge()}function Ei(r){return(r.mode&1)===0?1:(Me&2)!==0&&Mt!==0?Mt&-Mt:RI.transition!==null?(rc===0&&(rc=us()),rc):(r=De,r!==0||(r=window.event,r=r===void 0?16:Oa(r.type)),r)}function Yn(r,s,l,d){if(50<al)throw al=0,Hh=null,Error(t(185));si(r,l,d),((Me&2)===0||r!==Pt)&&(r===Pt&&((Me&2)===0&&(Ju|=l),Tt===4&&Ii(r,Mt)),cn(r,d),l===1&&Me===0&&(s.mode&1)===0&&(ko=Ge()+500,bu&&mi()))}function cn(r,s){var l=r.callbackNode;Rr(r,s);var d=ls(r,r===Pt?Mt:0);if(d===0)l!==null&&Pa(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&Pa(l),s===1)r.tag===0?CI(ry.bind(null,r)):Bm(ry.bind(null,r)),II(function(){(Me&6)===0&&mi()}),l=null;else{switch(ai(d)){case 1:l=os;break;case 4:l=ni;break;case 16:l=xn;break;case 536870912:l=ru;break;default:l=xn}l=dy(l,ny.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function ny(r,s){if(nc=-1,rc=0,(Me&6)!==0)throw Error(t(327));var l=r.callbackNode;if(Po()&&r.callbackNode!==l)return null;var d=ls(r,r===Pt?Mt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=ic(r,d);else{s=d;var f=Me;Me|=2;var y=sy();(Pt!==r||Mt!==s)&&(Fr=null,ko=Ge()+500,Ts(r,s));do try{KI();break}catch(k){iy(r,k)}while(!0);uh(),Xu.current=y,Me=f,gt!==null?s=0:(Pt=null,Mt=0,s=Tt)}if(s!==0){if(s===2&&(f=gn(r),f!==0&&(d=f,s=qh(r,f))),s===1)throw l=sl,Ts(r,0),Ii(r,d),cn(r,Ge()),l;if(s===6)Ii(r,d);else{if(f=r.current.alternate,(d&30)===0&&!HI(f)&&(s=ic(r,d),s===2&&(y=gn(r),y!==0&&(d=y,s=qh(r,y))),s===1))throw l=sl,Ts(r,0),Ii(r,d),cn(r,Ge()),l;switch(r.finishedWork=f,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:xs(r,un,Fr);break;case 3:if(Ii(r,d),(d&130023424)===d&&(s=$h+500-Ge(),10<s)){if(ls(r,0)!==0)break;if(f=r.suspendedLanes,(f&d)!==d){tn(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Jd(xs.bind(null,r,un,Fr),s);break}xs(r,un,Fr);break;case 4:if(Ii(r,d),(d&4194240)===d)break;for(s=r.eventTimes,f=-1;0<d;){var T=31-Jt(d);y=1<<T,T=s[T],T>f&&(f=T),d&=~y}if(d=f,d=Ge()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*WI(d/1960))-d,10<d){r.timeoutHandle=Jd(xs.bind(null,r,un,Fr),d);break}xs(r,un,Fr);break;case 5:xs(r,un,Fr);break;default:throw Error(t(329))}}}return cn(r,Ge()),r.callbackNode===l?ny.bind(null,r):null}function qh(r,s){var l=ol;return r.current.memoizedState.isDehydrated&&(Ts(r,s).flags|=256),r=ic(r,s),r!==2&&(s=un,un=l,s!==null&&Kh(s)),r}function Kh(r){un===null?un=r:un.push.apply(un,r)}function HI(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var f=l[d],y=f.getSnapshot;f=f.value;try{if(!Hn(y(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ii(r,s){for(s&=~Bh,s&=~Ju,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Jt(s),d=1<<l;r[l]=-1,s&=~d}}function ry(r){if((Me&6)!==0)throw Error(t(327));Po();var s=ls(r,0);if((s&1)===0)return cn(r,Ge()),null;var l=ic(r,s);if(r.tag!==0&&l===2){var d=gn(r);d!==0&&(s=d,l=qh(r,d))}if(l===1)throw l=sl,Ts(r,0),Ii(r,s),cn(r,Ge()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,xs(r,un,Fr),cn(r,Ge()),null}function Gh(r,s){var l=Me;Me|=1;try{return r(s)}finally{Me=l,Me===0&&(ko=Ge()+500,bu&&mi())}}function Is(r){wi!==null&&wi.tag===0&&(Me&6)===0&&Po();var s=Me;Me|=1;var l=bn.transition,d=De;try{if(bn.transition=null,De=1,r)return r()}finally{De=d,bn.transition=l,Me=s,(Me&6)===0&&mi()}}function Qh(){En=Ao.current,Xe(Ao)}function Ts(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,EI(l)),gt!==null)for(l=gt.return;l!==null;){var d=l;switch(ih(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&ku();break;case 3:So(),Xe(on),Xe($t),yh();break;case 5:mh(d);break;case 4:So();break;case 13:Xe(ot);break;case 19:Xe(ot);break;case 10:ch(d.type._context);break;case 22:case 23:Qh()}l=l.return}if(Pt=r,gt=r=Ti(r.current,null),Mt=En=s,Tt=0,sl=null,Bh=Ju=Es=0,un=ol=null,vs!==null){for(s=0;s<vs.length;s++)if(l=vs[s],d=l.interleaved,d!==null){l.interleaved=null;var f=d.next,y=l.pending;if(y!==null){var T=y.next;y.next=f,d.next=T}l.pending=d}vs=null}return r}function iy(r,s){do{var l=gt;try{if(uh(),zu.current=Hu,Bu){for(var d=at.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}Bu=!1}if(ws=0,kt=It=at=null,Za=!1,el=0,zh.current=null,l===null||l.return===null){Tt=1,sl=s,gt=null;break}e:{var y=r,T=l.return,k=l,M=s;if(s=Mt,k.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var q=M,ee=k,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var oe=kg(T);if(oe!==null){oe.flags&=-257,Pg(oe,T,k,y,s),oe.mode&1&&Ag(y,q,s),s=oe,M=q;var de=s.updateQueue;if(de===null){var fe=new Set;fe.add(M),s.updateQueue=fe}else de.add(M);break e}else{if((s&1)===0){Ag(y,q,s),Yh();break e}M=Error(t(426))}}else if(tt&&k.mode&1){var ht=kg(T);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),Pg(ht,T,k,y,s),ah(Co(M,k));break e}}y=M=Co(M,k),Tt!==4&&(Tt=2),ol===null?ol=[y]:ol.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var $=Cg(y,M,s);Zm(y,$);break e;case 1:k=M;var U=y.type,W=y.stateNode;if((y.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(_i===null||!_i.has(W)))){y.flags|=65536,s&=-s,y.lanes|=s;var re=Rg(y,k,s);Zm(y,re);break e}}y=y.return}while(y!==null)}ay(l)}catch(pe){s=pe,gt===l&&l!==null&&(gt=l=l.return);continue}break}while(!0)}function sy(){var r=Xu.current;return Xu.current=Hu,r===null?Hu:r}function Yh(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Pt===null||(Es&268435455)===0&&(Ju&268435455)===0||Ii(Pt,Mt)}function ic(r,s){var l=Me;Me|=2;var d=sy();(Pt!==r||Mt!==s)&&(Fr=null,Ts(r,s));do try{qI();break}catch(f){iy(r,f)}while(!0);if(uh(),Me=l,Xu.current=d,gt!==null)throw Error(t(261));return Pt=null,Mt=0,Tt}function qI(){for(;gt!==null;)oy(gt)}function KI(){for(;gt!==null&&!tu();)oy(gt)}function oy(r){var s=cy(r.alternate,r,En);r.memoizedProps=r.pendingProps,s===null?ay(r):gt=s,zh.current=null}function ay(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=FI(l,s,En),l!==null){gt=l;return}}else{if(l=UI(l,s),l!==null){l.flags&=32767,gt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Tt=6,gt=null;return}}if(s=s.sibling,s!==null){gt=s;return}gt=s=r}while(s!==null);Tt===0&&(Tt=5)}function xs(r,s,l){var d=De,f=bn.transition;try{bn.transition=null,De=1,GI(r,s,l,d)}finally{bn.transition=f,De=d}return null}function GI(r,s,l,d){do Po();while(wi!==null);if((Me&6)!==0)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(He(r,y),r===Pt&&(gt=Pt=null,Mt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||ec||(ec=!0,dy(xn,function(){return Po(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=bn.transition,bn.transition=null;var T=De;De=1;var k=Me;Me|=4,zh.current=null,BI(r,l),Xg(l,r),pI(Yd),ui=!!Qd,Yd=Qd=null,r.current=l,$I(l),Dd(),Me=k,De=T,bn.transition=y}else r.current=l;if(ec&&(ec=!1,wi=r,tc=f),y=r.pendingLanes,y===0&&(_i=null),iu(l.stateNode),cn(r,Ge()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],d(f.value,{componentStack:f.stack,digest:f.digest});if(Zu)throw Zu=!1,r=Wh,Wh=null,r;return(tc&1)!==0&&r.tag!==0&&Po(),y=r.pendingLanes,(y&1)!==0?r===Hh?al++:(al=0,Hh=r):al=0,mi(),null}function Po(){if(wi!==null){var r=ai(tc),s=bn.transition,l=De;try{if(bn.transition=null,De=16>r?16:r,wi===null)var d=!1;else{if(r=wi,wi=null,tc=0,(Me&6)!==0)throw Error(t(331));var f=Me;for(Me|=4,ce=r.current;ce!==null;){var y=ce,T=y.child;if((ce.flags&16)!==0){var k=y.deletions;if(k!==null){for(var M=0;M<k.length;M++){var q=k[M];for(ce=q;ce!==null;){var ee=ce;switch(ee.tag){case 0:case 11:case 15:il(8,ee,y)}var te=ee.child;if(te!==null)te.return=ee,ce=te;else for(;ce!==null;){ee=ce;var Z=ee.sibling,oe=ee.return;if(qg(ee),ee===q){ce=null;break}if(Z!==null){Z.return=oe,ce=Z;break}ce=oe}}}var de=y.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var ht=fe.sibling;fe.sibling=null,fe=ht}while(fe!==null)}}ce=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,ce=T;else e:for(;ce!==null;){if(y=ce,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:il(9,y,y.return)}var $=y.sibling;if($!==null){$.return=y.return,ce=$;break e}ce=y.return}}var U=r.current;for(ce=U;ce!==null;){T=ce;var W=T.child;if((T.subtreeFlags&2064)!==0&&W!==null)W.return=T,ce=W;else e:for(T=U;ce!==null;){if(k=ce,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Yu(9,k)}}catch(pe){ut(k,k.return,pe)}if(k===T){ce=null;break e}var re=k.sibling;if(re!==null){re.return=k.return,ce=re;break e}ce=k.return}}if(Me=f,mi(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(as,r)}catch{}d=!0}return d}finally{De=l,bn.transition=s}}return!1}function ly(r,s,l){s=Co(l,s),s=Cg(r,s,1),r=yi(r,s,1),s=tn(),r!==null&&(si(r,1,s),cn(r,s))}function ut(r,s,l){if(r.tag===3)ly(r,r,l);else for(;s!==null;){if(s.tag===3){ly(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(_i===null||!_i.has(d))){r=Co(l,r),r=Rg(s,r,1),s=yi(s,r,1),r=tn(),s!==null&&(si(s,1,r),cn(s,r));break}}s=s.return}}function QI(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=tn(),r.pingedLanes|=r.suspendedLanes&l,Pt===r&&(Mt&l)===l&&(Tt===4||Tt===3&&(Mt&130023424)===Mt&&500>Ge()-$h?Ts(r,0):Bh|=l),cn(r,s)}function uy(r,s){s===0&&((r.mode&1)===0?s=1:(s=Js,Js<<=1,(Js&130023424)===0&&(Js=4194304)));var l=tn();r=Lr(r,s),r!==null&&(si(r,s,l),cn(r,l))}function YI(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),uy(r,l)}function XI(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),uy(r,l)}var cy;cy=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||on.current)ln=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return ln=!1,jI(r,s,l);ln=(r.flags&131072)!==0}else ln=!1,tt&&(s.flags&1048576)!==0&&$m(s,Du,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Gu(r,s),r=s.pendingProps;var f=vo(s,$t.current);xo(s,l),f=wh(null,s,d,r,f,l);var y=Eh();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,an(d)?(y=!0,Pu(s)):y=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,fh(s),f.updater=qu,s.stateNode=f,f._reactInternals=s,Rh(s,d,r,l),s=bh(null,s,d,!0,y,l)):(s.tag=0,tt&&y&&rh(s),en(null,s,f,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Gu(r,s),r=s.pendingProps,f=d._init,d=f(d._payload),s.type=d,f=s.tag=ZI(d),r=Kn(d,r),f){case 0:s=Ph(null,s,d,r,l);break e;case 1:s=Lg(null,s,d,r,l);break e;case 11:s=bg(null,s,d,r,l);break e;case 14:s=Ng(null,s,d,Kn(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Kn(d,f),Ph(r,s,d,f,l);case 1:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Kn(d,f),Lg(r,s,d,f,l);case 3:e:{if(Mg(s),r===null)throw Error(t(387));d=s.pendingProps,y=s.memoizedState,f=y.element,Jm(r,s),Fu(s,d,null,l);var T=s.memoizedState;if(d=T.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){f=Co(Error(t(423)),s),s=jg(r,s,d,l,f);break e}else if(d!==f){f=Co(Error(t(424)),s),s=jg(r,s,d,l,f);break e}else for(wn=hi(s.stateNode.containerInfo.firstChild),_n=s,tt=!0,qn=null,l=Ym(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Eo(),d===f){s=jr(r,s,l);break e}en(r,s,d,l)}s=s.child}return s;case 5:return tg(s),r===null&&oh(s),d=s.type,f=s.pendingProps,y=r!==null?r.memoizedProps:null,T=f.children,Xd(d,f)?T=null:y!==null&&Xd(d,y)&&(s.flags|=32),Og(r,s),en(r,s,T,l),s.child;case 6:return r===null&&oh(s),null;case 13:return Fg(r,s,l);case 4:return ph(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=Io(s,null,d,l):en(r,s,d,l),s.child;case 11:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Kn(d,f),bg(r,s,d,f,l);case 7:return en(r,s,s.pendingProps,l),s.child;case 8:return en(r,s,s.pendingProps.children,l),s.child;case 12:return en(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,f=s.pendingProps,y=s.memoizedProps,T=f.value,Qe(Lu,d._currentValue),d._currentValue=T,y!==null)if(Hn(y.value,T)){if(y.children===f.children&&!on.current){s=jr(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var k=y.dependencies;if(k!==null){T=y.child;for(var M=k.firstContext;M!==null;){if(M.context===d){if(y.tag===1){M=Mr(-1,l&-l),M.tag=2;var q=y.updateQueue;if(q!==null){q=q.shared;var ee=q.pending;ee===null?M.next=M:(M.next=ee.next,ee.next=M),q.pending=M}}y.lanes|=l,M=y.alternate,M!==null&&(M.lanes|=l),dh(y.return,l,s),k.lanes|=l;break}M=M.next}}else if(y.tag===10)T=y.type===s.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=l,k=T.alternate,k!==null&&(k.lanes|=l),dh(T,l,s),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===s){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}en(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,d=s.pendingProps.children,xo(s,l),f=kn(f),d=d(f),s.flags|=1,en(r,s,d,l),s.child;case 14:return d=s.type,f=Kn(d,s.pendingProps),f=Kn(d.type,f),Ng(r,s,d,f,l);case 15:return Dg(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Kn(d,f),Gu(r,s),s.tag=1,an(d)?(r=!0,Pu(s)):r=!1,xo(s,l),xg(s,d,f),Rh(s,d,f,l),bh(null,s,d,!0,r,l);case 19:return zg(r,s,l);case 22:return Vg(r,s,l)}throw Error(t(156,s.tag))};function dy(r,s){return Ys(r,s)}function JI(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(r,s,l,d){return new JI(r,s,l,d)}function Xh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ZI(r){if(typeof r=="function")return Xh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===st)return 14}return 2}function Ti(r,s){var l=r.alternate;return l===null?(l=Nn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function sc(r,s,l,d,f,y){var T=2;if(d=r,typeof r=="function")Xh(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case L:return Ss(l.children,f,y,s);case A:T=8,f|=8;break;case P:return r=Nn(12,l,s,f|2),r.elementType=P,r.lanes=y,r;case b:return r=Nn(13,l,s,f),r.elementType=b,r.lanes=y,r;case Be:return r=Nn(19,l,s,f),r.elementType=Be,r.lanes=y,r;case Ae:return oc(l,f,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:T=10;break e;case j:T=9;break e;case F:T=11;break e;case st:T=14;break e;case We:T=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Nn(T,l,s,f),s.elementType=r,s.type=d,s.lanes=y,s}function Ss(r,s,l,d){return r=Nn(7,r,d,s),r.lanes=l,r}function oc(r,s,l,d){return r=Nn(22,r,d,s),r.elementType=Ae,r.lanes=l,r.stateNode={isHidden:!1},r}function Jh(r,s,l){return r=Nn(6,r,null,s),r.lanes=l,r}function Zh(r,s,l){return s=Nn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function eT(r,s,l,d,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ii(0),this.expirationTimes=ii(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function ef(r,s,l,d,f,y,T,k,M){return r=new eT(r,s,l,k,M),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Nn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},fh(y),r}function tT(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:me,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function hy(r){if(!r)return pi;r=r._reactInternals;e:{if(jn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(an(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(an(l))return Um(r,l,s)}return s}function fy(r,s,l,d,f,y,T,k,M){return r=ef(l,d,!0,r,f,y,T,k,M),r.context=hy(null),l=r.current,d=tn(),f=Ei(l),y=Mr(d,f),y.callback=s??null,yi(l,y,f),r.current.lanes=f,si(r,f,d),cn(r,d),r}function ac(r,s,l,d){var f=s.current,y=tn(),T=Ei(f);return l=hy(l),s.context===null?s.context=l:s.pendingContext=l,s=Mr(y,T),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=yi(f,s,T),r!==null&&(Yn(r,f,T,y),ju(r,f,T)),T}function lc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function py(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function tf(r,s){py(r,s),(r=r.alternate)&&py(r,s)}function nT(){return null}var my=typeof reportError=="function"?reportError:function(r){console.error(r)};function nf(r){this._internalRoot=r}uc.prototype.render=nf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));ac(r,s,null,null)},uc.prototype.unmount=nf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Is(function(){ac(null,r,null,null)}),s[Nr]=null}};function uc(r){this._internalRoot=r}uc.prototype.unstable_scheduleHydration=function(r){if(r){var s=uu();r={blockedOn:null,target:r,priority:s};for(var l=0;l<lr.length&&s!==0&&s<lr[l].priority;l++);lr.splice(l,0,r),l===0&&hu(r)}};function rf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function cc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function gy(){}function rT(r,s,l,d,f){if(f){if(typeof d=="function"){var y=d;d=function(){var q=lc(T);y.call(q)}}var T=fy(s,d,r,0,null,!1,!1,"",gy);return r._reactRootContainer=T,r[Nr]=T.current,Ha(r.nodeType===8?r.parentNode:r),Is(),T}for(;f=r.lastChild;)r.removeChild(f);if(typeof d=="function"){var k=d;d=function(){var q=lc(M);k.call(q)}}var M=ef(r,0,!1,null,null,!1,!1,"",gy);return r._reactRootContainer=M,r[Nr]=M.current,Ha(r.nodeType===8?r.parentNode:r),Is(function(){ac(s,M,l,d)}),M}function dc(r,s,l,d,f){var y=l._reactRootContainer;if(y){var T=y;if(typeof f=="function"){var k=f;f=function(){var M=lc(T);k.call(M)}}ac(s,T,r,f)}else T=rT(l,s,r,f,d);return lc(T)}au=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=ri(s.pendingLanes);l!==0&&(oi(s,l|1),cn(s,Ge()),(Me&6)===0&&(ko=Ge()+500,mi()))}break;case 13:Is(function(){var d=Lr(r,1);if(d!==null){var f=tn();Yn(d,r,1,f)}}),tf(r,1)}},Zs=function(r){if(r.tag===13){var s=Lr(r,134217728);if(s!==null){var l=tn();Yn(s,r,134217728,l)}tf(r,134217728)}},lu=function(r){if(r.tag===13){var s=Ei(r),l=Lr(r,s);if(l!==null){var d=tn();Yn(l,r,s,d)}tf(r,s)}},uu=function(){return De},cu=function(r,s){var l=De;try{return De=r,s()}finally{De=l}},Ws=function(r,s,l){switch(s){case"input":if(ga(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var f=Au(d);if(!f)throw Error(t(90));js(d),ga(d,f)}}}break;case"textarea":Bs(r,l);break;case"select":s=l.value,s!=null&&xr(r,!!l.multiple,s,!1)}},ns=Gh,Ca=Is;var iT={usingClientEntryPoint:!1,Events:[Ga,go,Au,or,Sa,Gh]},ll={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sT={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ka(r),r===null?null:r.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||nT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{as=hc.inject(sT),mn=hc}catch{}}return dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iT,dn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rf(s))throw Error(t(200));return tT(r,s,null,l)},dn.createRoot=function(r,s){if(!rf(r))throw Error(t(299));var l=!1,d="",f=my;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=ef(r,1,!1,null,null,l,!1,d,f),r[Nr]=s.current,Ha(r.nodeType===8?r.parentNode:r),new nf(s)},dn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ka(s),r=r===null?null:r.stateNode,r},dn.flushSync=function(r){return Is(r)},dn.hydrate=function(r,s,l){if(!cc(s))throw Error(t(200));return dc(null,r,s,!0,l)},dn.hydrateRoot=function(r,s,l){if(!rf(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,f=!1,y="",T=my;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=fy(s,null,r,1,l??null,f,!1,y,T),r[Nr]=s.current,Ha(r),d)for(r=0;r<d.length;r++)l=d[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new uc(s)},dn.render=function(r,s,l){if(!cc(s))throw Error(t(200));return dc(null,r,s,!1,l)},dn.unmountComponentAtNode=function(r){if(!cc(r))throw Error(t(40));return r._reactRootContainer?(Is(function(){dc(null,null,r,!1,function(){r._reactRootContainer=null,r[Nr]=null})}),!0):!1},dn.unstable_batchedUpdates=Gh,dn.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!cc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return dc(r,s,l,!1,d)},dn.version="18.3.1-next-f1338f8080-20240426",dn}var xy;function __(){if(xy)return af.exports;xy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),af.exports=pT(),af.exports}var Sy;function mT(){if(Sy)return fc;Sy=1;var n=__();return fc.createRoot=n.createRoot,fc.hydrateRoot=n.hydrateRoot,fc}var gT=mT();const yT=v_(gT);var cl={},Cy;function vT(){if(Cy)return cl;Cy=1,Object.defineProperty(cl,"__esModule",{value:!0}),cl.parse=c,cl.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function c(I,S){const R=new a,D=I.length;if(D<2)return R;const V=(S==null?void 0:S.decode)||w;let N=0;do{const H=I.indexOf("=",N);if(H===-1)break;const G=I.indexOf(";",N),Q=G===-1?D:G;if(H>Q){N=I.lastIndexOf(";",H-1)+1;continue}const ae=h(I,N,H),me=p(I,H,ae),L=I.slice(ae,me);if(R[L]===void 0){let A=h(I,H+1,Q),P=p(I,Q,A);const O=V(I.slice(A,P));R[L]=O}N=Q+1}while(N<D);return R}function h(I,S,R){do{const D=I.charCodeAt(S);if(D!==32&&D!==9)return S}while(++S<R);return R}function p(I,S,R){for(;S>R;){const D=I.charCodeAt(--S);if(D!==32&&D!==9)return S+1}return R}function m(I,S,R){const D=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(I))throw new TypeError(`argument name is invalid: ${I}`);const V=D(S);if(!e.test(V))throw new TypeError(`argument val is invalid: ${S}`);let N=I+"="+V;if(!R)return N;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);N+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);N+="; Domain="+R.domain}if(R.path){if(!i.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);N+="; Path="+R.path}if(R.expires){if(!E(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);N+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(N+="; HttpOnly"),R.secure&&(N+="; Secure"),R.partitioned&&(N+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return N}function w(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function E(I){return o.call(I)==="[object Date]"}return cl}vT();var Ry="popstate";function _T(n={}){function e(i,o){let{pathname:a,search:c,hash:h}=i.location;return xf("",{pathname:a,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Rl(o)}return ET(e,t,null,n)}function it(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Zn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wT(){return Math.random().toString(36).substring(2,10)}function Ay(n,e){return{usr:n.state,key:n.key,idx:e}}function xf(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ea(e):e,state:t,key:e&&e.key||i||wT()}}function Rl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ea(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function ET(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,h="POP",p=null,m=w();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function w(){return(c.state||{idx:null}).idx}function E(){h="POP";let V=w(),N=V==null?null:V-m;m=V,p&&p({action:h,location:D.location,delta:N})}function I(V,N){h="PUSH";let H=xf(D.location,V,N);m=w()+1;let G=Ay(H,m),Q=D.createHref(H);try{c.pushState(G,"",Q)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(Q)}a&&p&&p({action:h,location:D.location,delta:1})}function S(V,N){h="REPLACE";let H=xf(D.location,V,N);m=w();let G=Ay(H,m),Q=D.createHref(H);c.replaceState(G,"",Q),a&&p&&p({action:h,location:D.location,delta:0})}function R(V){return IT(V)}let D={get action(){return h},get location(){return n(o,c)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Ry,E),p=V,()=>{o.removeEventListener(Ry,E),p=null}},createHref(V){return e(o,V)},createURL:R,encodeLocation(V){let N=R(V);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:I,replace:S,go(V){return c.go(V)}};return D}function IT(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),it(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Rl(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function w_(n,e,t="/"){return TT(n,e,t,!1)}function TT(n,e,t,i){let o=typeof e=="string"?ea(e):e,a=Kr(o.pathname||"/",t);if(a==null)return null;let c=E_(n);xT(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let m=OT(a);h=DT(c[p],m,i)}return h}function E_(n,e=[],t=[],i=""){let o=(a,c,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=Hr([i,p.relativePath]),w=t.concat(p);a.children&&a.children.length>0&&(it(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),E_(a.children,e,w,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:bT(m,a.index),routesMeta:w})};return n.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,c);else for(let p of I_(a.path))o(a,c,p)}),e}function I_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=I_(i.join("/")),h=[];return h.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&h.push(...c),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function xT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:NT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var ST=/^:[\w-]+$/,CT=3,RT=2,AT=1,kT=10,PT=-2,ky=n=>n==="*";function bT(n,e){let t=n.split("/"),i=t.length;return t.some(ky)&&(i+=PT),e&&(i+=RT),t.filter(o=>!ky(o)).reduce((o,a)=>o+(ST.test(a)?CT:a===""?AT:kT),i)}function NT(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function DT(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",c=[];for(let h=0;h<i.length;++h){let p=i[h],m=h===i.length-1,w=a==="/"?e:e.slice(a.length)||"/",E=Vc({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},w),I=p.route;if(!E&&m&&t&&!i[i.length-1].route.index&&(E=Vc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:Hr([a,E.pathname]),pathnameBase:FT(Hr([a,E.pathnameBase])),route:I}),E.pathnameBase!=="/"&&(a=Hr([a,E.pathnameBase]))}return c}function Vc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=VT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((m,{paramName:w,isOptional:E},I)=>{if(w==="*"){let R=h[I]||"";c=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const S=h[I];return E&&!S?m[w]=void 0:m[w]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:c,pattern:n}}function VT(n,e=!1,t=!0){Zn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function OT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Kr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function LT(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?ea(n):n;return{pathname:t?t.startsWith("/")?t:MT(t,e):e,search:UT(i),hash:zT(o)}}function MT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function cf(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function sp(n){let e=jT(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function op(n,e,t,i=!1){let o;typeof n=="string"?o=ea(n):(o={...n},it(!o.pathname||!o.pathname.includes("?"),cf("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),cf("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),cf("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,h;if(c==null)h=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),E-=1;o.pathname=I.join("/")}h=E>=0?e[E]:"/"}let p=LT(o,h),m=c&&c!=="/"&&c.endsWith("/"),w=(a||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||w)&&(p.pathname+="/"),p}var Hr=n=>n.join("/").replace(/\/\/+/g,"/"),FT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),UT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,zT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function BT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var T_=["POST","PUT","PATCH","DELETE"];new Set(T_);var $T=["GET",...T_];new Set($T);var ta=C.createContext(null);ta.displayName="DataRouter";var id=C.createContext(null);id.displayName="DataRouterState";var x_=C.createContext({isTransitioning:!1});x_.displayName="ViewTransition";var WT=C.createContext(new Map);WT.displayName="Fetchers";var HT=C.createContext(null);HT.displayName="Await";var rr=C.createContext(null);rr.displayName="Navigation";var Fl=C.createContext(null);Fl.displayName="Location";var ir=C.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var ap=C.createContext(null);ap.displayName="RouteError";function qT(n,{relative:e}={}){it(na(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=C.useContext(rr),{hash:o,pathname:a,search:c}=zl(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:Hr([t,a])),i.createHref({pathname:h,search:c,hash:o})}function na(){return C.useContext(Fl)!=null}function Ki(){return it(na(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Fl).location}var S_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function C_(n){C.useContext(rr).static||C.useLayoutEffect(n)}function Ul(){let{isDataRoute:n}=C.useContext(ir);return n?sx():KT()}function KT(){it(na(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(ta),{basename:e,navigator:t}=C.useContext(rr),{matches:i}=C.useContext(ir),{pathname:o}=Ki(),a=JSON.stringify(sp(i)),c=C.useRef(!1);return C_(()=>{c.current=!0}),C.useCallback((p,m={})=>{if(Zn(c.current,S_),!c.current)return;if(typeof p=="number"){t.go(p);return}let w=op(p,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Hr([e,w.pathname])),(m.replace?t.replace:t.push)(w,m.state,m)},[e,t,a,o,n])}C.createContext(null);function R_(){let{matches:n}=C.useContext(ir),e=n[n.length-1];return e?e.params:{}}function zl(n,{relative:e}={}){let{matches:t}=C.useContext(ir),{pathname:i}=Ki(),o=JSON.stringify(sp(t));return C.useMemo(()=>op(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function GT(n,e){return A_(n,e)}function A_(n,e,t,i){var N;it(na(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=C.useContext(rr),{matches:a}=C.useContext(ir),c=a[a.length-1],h=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",w=c&&c.route;{let H=w&&w.path||"";k_(p,!w||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let E=Ki(),I;if(e){let H=typeof e=="string"?ea(e):e;it(m==="/"||((N=H.pathname)==null?void 0:N.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${H.pathname}" was given in the \`location\` prop.`),I=H}else I=E;let S=I.pathname||"/",R=S;if(m!=="/"){let H=m.replace(/^\//,"").split("/");R="/"+S.replace(/^\//,"").split("/").slice(H.length).join("/")}let D=w_(n,{pathname:R});Zn(w||D!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Zn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=ZT(D&&D.map(H=>Object.assign({},H,{params:Object.assign({},h,H.params),pathname:Hr([m,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?m:Hr([m,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),a,t,i);return e&&V?C.createElement(Fl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},V):V}function QT(){let n=ix(),e=BT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:a},"ErrorBoundary")," or"," ",C.createElement("code",{style:a},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:o},t):null,c)}var YT=C.createElement(QT,null),XT=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?C.createElement(ir.Provider,{value:this.props.routeContext},C.createElement(ap.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JT({routeContext:n,match:e,children:t}){let i=C.useContext(ta);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(ir.Provider,{value:n},t)}function ZT(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let p=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,h=-1;if(t)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:w,errors:E}=t,I=m.route.loader&&!w.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||I){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,m,w)=>{let E,I=!1,S=null,R=null;t&&(E=a&&m.route.id?a[m.route.id]:void 0,S=m.route.errorElement||YT,c&&(h<0&&w===0?(k_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,R=null):h===w&&(I=!0,R=m.route.hydrateFallbackElement||null)));let D=e.concat(o.slice(0,w+1)),V=()=>{let N;return E?N=S:I?N=R:m.route.Component?N=C.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=p,C.createElement(JT,{match:m,routeContext:{outlet:p,matches:D,isDataRoute:t!=null},children:N})};return t&&(m.route.ErrorBoundary||m.route.errorElement||w===0)?C.createElement(XT,{location:t.location,revalidation:t.revalidation,component:S,error:E,children:V(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):V()},null)}function lp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ex(n){let e=C.useContext(ta);return it(e,lp(n)),e}function tx(n){let e=C.useContext(id);return it(e,lp(n)),e}function nx(n){let e=C.useContext(ir);return it(e,lp(n)),e}function up(n){let e=nx(n),t=e.matches[e.matches.length-1];return it(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function rx(){return up("useRouteId")}function ix(){var i;let n=C.useContext(ap),e=tx("useRouteError"),t=up("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function sx(){let{router:n}=ex("useNavigate"),e=up("useNavigate"),t=C.useRef(!1);return C_(()=>{t.current=!0}),C.useCallback(async(o,a={})=>{Zn(t.current,S_),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var Py={};function k_(n,e,t){!e&&!Py[n]&&(Py[n]=!0,Zn(!1,t))}C.memo(ox);function ox({routes:n,future:e,state:t}){return A_(n,void 0,t,e)}function P_({to:n,replace:e,state:t,relative:i}){it(na(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=C.useContext(rr);Zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=C.useContext(ir),{pathname:c}=Ki(),h=Ul(),p=op(n,sp(a),c,i==="path"),m=JSON.stringify(p);return C.useEffect(()=>{h(JSON.parse(m),{replace:e,state:t,relative:i})},[h,m,i,e,t]),null}function zr(n){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ax({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){it(!na(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=C.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof t=="string"&&(t=ea(t));let{pathname:p="/",search:m="",hash:w="",state:E=null,key:I="default"}=t,S=C.useMemo(()=>{let R=Kr(p,c);return R==null?null:{location:{pathname:R,search:m,hash:w,state:E,key:I},navigationType:i}},[c,p,m,w,E,I,i]);return Zn(S!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${w}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:C.createElement(rr.Provider,{value:h},C.createElement(Fl.Provider,{children:e,value:S}))}function lx({children:n,location:e}){return GT(Sf(n),e)}function Sf(n,e=[]){let t=[];return C.Children.forEach(n,(i,o)=>{if(!C.isValidElement(i))return;let a=[...e,o];if(i.type===C.Fragment){t.push.apply(t,Sf(i.props.children,a));return}it(i.type===zr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Sf(i.props.children,a)),t.push(c)}),t}var Ic="get",Tc="application/x-www-form-urlencoded";function sd(n){return n!=null&&typeof n.tagName=="string"}function ux(n){return sd(n)&&n.tagName.toLowerCase()==="button"}function cx(n){return sd(n)&&n.tagName.toLowerCase()==="form"}function dx(n){return sd(n)&&n.tagName.toLowerCase()==="input"}function hx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function fx(n,e){return n.button===0&&(!e||e==="_self")&&!hx(n)}var pc=null;function px(){if(pc===null)try{new FormData(document.createElement("form"),0),pc=!1}catch{pc=!0}return pc}var mx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function df(n){return n!=null&&!mx.has(n)?(Zn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tc}"`),null):n}function gx(n,e){let t,i,o,a,c;if(cx(n)){let h=n.getAttribute("action");i=h?Kr(h,e):null,t=n.getAttribute("method")||Ic,o=df(n.getAttribute("enctype"))||Tc,a=new FormData(n)}else if(ux(n)||dx(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(i=p?Kr(p,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Ic,o=df(n.getAttribute("formenctype"))||df(h.getAttribute("enctype"))||Tc,a=new FormData(h,n),!px()){let{name:m,type:w,value:E}=n;if(w==="image"){let I=m?`${m}.`:"";a.append(`${I}x`,"0"),a.append(`${I}y`,"0")}else m&&a.append(m,E)}}else{if(sd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ic,i=null,o=Tc,c=n}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:c}}function cp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function yx(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function _x(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await yx(a,t);return c.links?c.links():[]}return[]}));return Tx(i.flat(1).filter(vx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function by(n,e,t,i,o,a){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,h=(p,m)=>{var w;return t[m].pathname!==p.pathname||((w=t[m].route.path)==null?void 0:w.endsWith("*"))&&t[m].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,m)=>c(p,m)||h(p,m)):a==="data"?e.filter((p,m)=>{var E;let w=i.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(c(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let I=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function wx(n,e,{includeHydrateFallback:t}={}){return Ex(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function Ex(n){return[...new Set(n)]}function Ix(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function Tx(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(Ix(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xx=new Set([100,101,204,205]);function Sx(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Kr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function b_(){let n=C.useContext(ta);return cp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Cx(){let n=C.useContext(id);return cp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var dp=C.createContext(void 0);dp.displayName="FrameworkContext";function N_(){let n=C.useContext(dp);return cp(n,"You must render this element inside a <HydratedRouter> element"),n}function Rx(n,e){let t=C.useContext(dp),[i,o]=C.useState(!1),[a,c]=C.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:w,onTouchStart:E}=e,I=C.useRef(null);C.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let D=N=>{N.forEach(H=>{c(H.isIntersecting)})},V=new IntersectionObserver(D,{threshold:.5});return I.current&&V.observe(I.current),()=>{V.disconnect()}}},[n]),C.useEffect(()=>{if(i){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[i]);let S=()=>{o(!0)},R=()=>{o(!1),c(!1)};return t?n!=="intent"?[a,I,{}]:[a,I,{onFocus:dl(h,S),onBlur:dl(p,R),onMouseEnter:dl(m,S),onMouseLeave:dl(w,R),onTouchStart:dl(E,S)}]:[!1,I,{}]}function dl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Ax({page:n,...e}){let{router:t}=b_(),i=C.useMemo(()=>w_(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?C.createElement(Px,{page:n,matches:i,...e}):null}function kx(n){let{manifest:e,routeModules:t}=N_(),[i,o]=C.useState([]);return C.useEffect(()=>{let a=!1;return _x(n,e,t).then(c=>{a||o(c)}),()=>{a=!0}},[n,e,t]),i}function Px({page:n,matches:e,...t}){let i=Ki(),{manifest:o,routeModules:a}=N_(),{basename:c}=b_(),{loaderData:h,matches:p}=Cx(),m=C.useMemo(()=>by(n,e,p,o,i,"data"),[n,e,p,o,i]),w=C.useMemo(()=>by(n,e,p,o,i,"assets"),[n,e,p,o,i]),E=C.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let R=new Set,D=!1;if(e.forEach(N=>{var G;let H=o.routes[N.route.id];!H||!H.hasLoader||(!m.some(Q=>Q.route.id===N.route.id)&&N.route.id in h&&((G=a[N.route.id])!=null&&G.shouldRevalidate)||H.hasClientLoader?D=!0:R.add(N.route.id))}),R.size===0)return[];let V=Sx(n,c);return D&&R.size>0&&V.searchParams.set("_routes",e.filter(N=>R.has(N.route.id)).map(N=>N.route.id).join(",")),[V.pathname+V.search]},[c,h,i,o,m,e,n,a]),I=C.useMemo(()=>wx(w,o),[w,o]),S=kx(w);return C.createElement(C.Fragment,null,E.map(R=>C.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),I.map(R=>C.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),S.map(({key:R,link:D})=>C.createElement("link",{key:R,...D})))}function bx(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var D_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{D_&&(window.__reactRouterVersion="7.6.2")}catch{}function Nx({basename:n,children:e,window:t}){let i=C.useRef();i.current==null&&(i.current=_T({window:t,v5Compat:!0}));let o=i.current,[a,c]=C.useState({action:o.action,location:o.location}),h=C.useCallback(p=>{C.startTransition(()=>c(p))},[c]);return C.useLayoutEffect(()=>o.listen(h),[o,h]),C.createElement(ax,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var V_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=C.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:h,target:p,to:m,preventScrollReset:w,viewTransition:E,...I},S){let{basename:R}=C.useContext(rr),D=typeof m=="string"&&V_.test(m),V,N=!1;if(typeof m=="string"&&D&&(V=m,D_))try{let P=new URL(window.location.href),O=m.startsWith("//")?new URL(P.protocol+m):new URL(m),j=Kr(O.pathname,R);O.origin===P.origin&&j!=null?m=j+O.search+O.hash:N=!0}catch{Zn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=qT(m,{relative:o}),[G,Q,ae]=Rx(i,I),me=Lx(m,{replace:c,state:h,target:p,preventScrollReset:w,relative:o,viewTransition:E});function L(P){e&&e(P),P.defaultPrevented||me(P)}let A=C.createElement("a",{...I,...ae,href:V||H,onClick:N||a?e:L,ref:bx(S,Q),target:p,"data-discover":!D&&t==="render"?"true":void 0});return G&&!D?C.createElement(C.Fragment,null,A,C.createElement(Ax,{page:H})):A});xt.displayName="Link";var Dx=C.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:h,children:p,...m},w){let E=zl(c,{relative:m.relative}),I=Ki(),S=C.useContext(id),{navigator:R,basename:D}=C.useContext(rr),V=S!=null&&zx(E)&&h===!0,N=R.encodeLocation?R.encodeLocation(E).pathname:E.pathname,H=I.pathname,G=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(H=H.toLowerCase(),G=G?G.toLowerCase():null,N=N.toLowerCase()),G&&D&&(G=Kr(G,D)||G);const Q=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let ae=H===N||!o&&H.startsWith(N)&&H.charAt(Q)==="/",me=G!=null&&(G===N||!o&&G.startsWith(N)&&G.charAt(N.length)==="/"),L={isActive:ae,isPending:me,isTransitioning:V},A=ae?e:void 0,P;typeof i=="function"?P=i(L):P=[i,ae?"active":null,me?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(L):a;return C.createElement(xt,{...m,"aria-current":A,className:P,ref:w,style:O,to:c,viewTransition:h},typeof p=="function"?p(L):p)});Dx.displayName="NavLink";var Vx=C.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:c=Ic,action:h,onSubmit:p,relative:m,preventScrollReset:w,viewTransition:E,...I},S)=>{let R=Fx(),D=Ux(h,{relative:m}),V=c.toLowerCase()==="get"?"get":"post",N=typeof h=="string"&&V_.test(h),H=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let Q=G.nativeEvent.submitter,ae=(Q==null?void 0:Q.getAttribute("formmethod"))||c;R(Q||G.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:o,state:a,relative:m,preventScrollReset:w,viewTransition:E})};return C.createElement("form",{ref:S,method:V,action:D,onSubmit:i?p:H,...I,"data-discover":!N&&n==="render"?"true":void 0})});Vx.displayName="Form";function Ox(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O_(n){let e=C.useContext(ta);return it(e,Ox(n)),e}function Lx(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let h=Ul(),p=Ki(),m=zl(n,{relative:a});return C.useCallback(w=>{if(fx(w,e)){w.preventDefault();let E=t!==void 0?t:Rl(p)===Rl(m);h(n,{replace:E,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[p,h,m,t,i,e,n,o,a,c])}var Mx=0,jx=()=>`__${String(++Mx)}__`;function Fx(){let{router:n}=O_("useSubmit"),{basename:e}=C.useContext(rr),t=rx();return C.useCallback(async(i,o={})=>{let{action:a,method:c,encType:h,formData:p,body:m}=gx(i,e);if(o.navigate===!1){let w=o.fetcherKey||jx();await n.fetch(w,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function Ux(n,{relative:e}={}){let{basename:t}=C.useContext(rr),i=C.useContext(ir);it(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...zl(n||".",{relative:e})},c=Ki();if(n==null){a.search=c.search;let h=new URLSearchParams(a.search),p=h.getAll("index");if(p.some(w=>w==="")){h.delete("index"),p.filter(E=>E).forEach(E=>h.append("index",E));let w=h.toString();a.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Hr([t,a.pathname])),Rl(a)}function zx(n,e={}){let t=C.useContext(x_);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=O_("useViewTransitionState"),o=zl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Kr(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Kr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Vc(o.pathname,c)!=null||Vc(o.pathname,a)!=null}[...xx];__();const Bx=()=>{};var Ny={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},$x=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],h=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},M_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,h=c?n[o+1]:0,p=o+2<n.length,m=p?n[o+2]:0,w=a>>2,E=(a&3)<<4|h>>4;let I=(h&15)<<2|m>>6,S=m&63;p||(S=64,c||(I=64)),i.push(t[w],t[E],t[I],t[S])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(L_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$x(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||m==null||E==null)throw new Wx;const I=a<<2|h>>4;if(i.push(I),m!==64){const S=h<<4&240|m>>2;if(i.push(S),E!==64){const R=m<<6&192|E;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Wx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hx=function(n){const e=L_(n);return M_.encodeByteArray(e,!0)},Oc=function(n){return Hx(n).replace(/\./g,"")},j_=function(n){try{return M_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=()=>qx().__FIREBASE_DEFAULTS__,Gx=()=>{if(typeof process>"u"||typeof Ny>"u")return;const n=Ny.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Qx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&j_(n[1]);return e&&JSON.parse(e)},od=()=>{try{return Bx()||Kx()||Gx()||Qx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},F_=n=>{var e,t;return(t=(e=od())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Yx=n=>{const e=F_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},U_=()=>{var n;return(n=od())===null||n===void 0?void 0:n.config},z_=n=>{var e;return(e=od())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(n){return n.endsWith(".cloudworkstations.dev")}async function B_(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Oc(JSON.stringify(t)),Oc(JSON.stringify(c)),""].join(".")}const wl={};function Zx(){const n={prod:[],emulator:[]};for(const e of Object.keys(wl))wl[e]?n.emulator.push(e):n.prod.push(e);return n}function e1(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Dy=!1;function $_(n,e){if(typeof window>"u"||typeof document>"u"||!ra(window.location.host)||wl[n]===e||wl[n]||Dy)return;wl[n]=e;function t(I){return`__firebase__banner__${I}`}const i="__firebase__banner",a=Zx().prod.length>0;function c(){const I=document.getElementById(i);I&&I.remove()}function h(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function p(I,S){I.setAttribute("width","24"),I.setAttribute("id",S),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function m(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Dy=!0,c()},I}function w(I,S){I.setAttribute("id",S),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function E(){const I=e1(i),S=t("text"),R=document.getElementById(S)||document.createElement("span"),D=t("learnmore"),V=document.getElementById(D)||document.createElement("a"),N=t("preprendIcon"),H=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const G=I.element;h(G),w(V,D);const Q=m();p(H,N),G.append(H,R,V,Q),document.body.appendChild(G)}a?(R.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function n1(){var n;const e=(n=od())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function r1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function i1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function s1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o1(){const n=Xt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function a1(){return!n1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function l1(){try{return typeof indexedDB=="object"}catch{return!1}}function u1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="FirebaseError";class Jr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=c1,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?d1(a,i):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Jr(o,h,i)}}function d1(n,e){return n.replace(h1,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const h1=/\{\$([^}]+)}/g;function f1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function As(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(Vy(a)&&Vy(c)){if(!As(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Vy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function pl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function ml(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function p1(n,e){const t=new m1(n,e);return t.subscribe.bind(t)}class m1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");g1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=hf),o.error===void 0&&(o.error=hf),o.complete===void 0&&(o.complete=hf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function g1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function hf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(n){return n&&n._delegate?n._delegate:n}class ks{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Xx;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_1(e))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cs){return this.instances.has(e)}getOptions(e=Cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:v1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Cs){return this.component?this.component.multipleInstances?e:Cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function v1(n){return n===Cs?void 0:n}function _1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new y1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(be||(be={}));const E1={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},I1=be.INFO,T1={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},x1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=T1[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hp{constructor(e){this.name=e,this._logLevel=I1,this._logHandler=x1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const S1=(n,e)=>e.some(t=>n instanceof t);let Oy,Ly;function C1(){return Oy||(Oy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R1(){return Ly||(Ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W_=new WeakMap,Cf=new WeakMap,H_=new WeakMap,ff=new WeakMap,fp=new WeakMap;function A1(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Di(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&W_.set(t,n)}).catch(()=>{}),fp.set(e,n),e}function k1(n){if(Cf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Cf.set(n,e)}let Rf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Cf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||H_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Di(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function P1(n){Rf=n(Rf)}function b1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(pf(this),e,...t);return H_.set(i,e.sort?e.sort():[e]),Di(i)}:R1().includes(n)?function(...e){return n.apply(pf(this),e),Di(W_.get(this))}:function(...e){return Di(n.apply(pf(this),e))}}function N1(n){return typeof n=="function"?b1(n):(n instanceof IDBTransaction&&k1(n),S1(n,C1())?new Proxy(n,Rf):n)}function Di(n){if(n instanceof IDBRequest)return A1(n);if(ff.has(n))return ff.get(n);const e=N1(n);return e!==n&&(ff.set(n,e),fp.set(e,n)),e}const pf=n=>fp.get(n);function D1(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),h=Di(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Di(c.result),p.oldVersion,p.newVersion,Di(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const V1=["get","getKey","getAll","getAllKeys","count"],O1=["put","add","delete","clear"],mf=new Map;function My(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(mf.get(e))return mf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=O1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||V1.includes(t)))return;const a=async function(c,...h){const p=this.transaction(c,o?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),o&&p.done]))[0]};return mf.set(e,a),a}P1(n=>({...n,get:(e,t,i)=>My(e,t)||n.get(e,t,i),has:(e,t)=>!!My(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(M1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function M1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Af="@firebase/app",jy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new hp("@firebase/app"),j1="@firebase/app-compat",F1="@firebase/analytics-compat",U1="@firebase/analytics",z1="@firebase/app-check-compat",B1="@firebase/app-check",$1="@firebase/auth",W1="@firebase/auth-compat",H1="@firebase/database",q1="@firebase/data-connect",K1="@firebase/database-compat",G1="@firebase/functions",Q1="@firebase/functions-compat",Y1="@firebase/installations",X1="@firebase/installations-compat",J1="@firebase/messaging",Z1="@firebase/messaging-compat",eS="@firebase/performance",tS="@firebase/performance-compat",nS="@firebase/remote-config",rS="@firebase/remote-config-compat",iS="@firebase/storage",sS="@firebase/storage-compat",oS="@firebase/firestore",aS="@firebase/ai",lS="@firebase/firestore-compat",uS="firebase",cS="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="[DEFAULT]",dS={[Af]:"fire-core",[j1]:"fire-core-compat",[U1]:"fire-analytics",[F1]:"fire-analytics-compat",[B1]:"fire-app-check",[z1]:"fire-app-check-compat",[$1]:"fire-auth",[W1]:"fire-auth-compat",[H1]:"fire-rtdb",[q1]:"fire-data-connect",[K1]:"fire-rtdb-compat",[G1]:"fire-fn",[Q1]:"fire-fn-compat",[Y1]:"fire-iid",[X1]:"fire-iid-compat",[J1]:"fire-fcm",[Z1]:"fire-fcm-compat",[eS]:"fire-perf",[tS]:"fire-perf-compat",[nS]:"fire-rc",[rS]:"fire-rc-compat",[iS]:"fire-gcs",[sS]:"fire-gcs-compat",[oS]:"fire-fst",[lS]:"fire-fst-compat",[aS]:"fire-vertex","fire-js":"fire-js",[uS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new Map,hS=new Map,Pf=new Map;function Fy(n,e){try{n.container.addComponent(e)}catch(t){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Wo(n){const e=n.name;if(Pf.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;Pf.set(e,n);for(const t of Lc.values())Fy(t,n);for(const t of hS.values())Fy(t,n);return!0}function pp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Xn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new Bl("app","Firebase",fS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=cS;function q_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:kf,automaticDataCollectionEnabled:!0},e),o=i.name;if(typeof o!="string"||!o)throw Vi.create("bad-app-name",{appName:String(o)});if(t||(t=U_()),!t)throw Vi.create("no-options");const a=Lc.get(o);if(a){if(As(t,a.options)&&As(i,a.config))return a;throw Vi.create("duplicate-app",{appName:o})}const c=new w1(o);for(const p of Pf.values())c.addComponent(p);const h=new pS(t,i,c);return Lc.set(o,h),h}function K_(n=kf){const e=Lc.get(n);if(!e&&n===kf&&U_())return q_();if(!e)throw Vi.create("no-app",{appName:n});return e}function Oi(n,e,t){var i;let o=(i=dS[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(h.join(" "));return}Wo(new ks(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="firebase-heartbeat-database",gS=1,Al="firebase-heartbeat-store";let gf=null;function G_(){return gf||(gf=D1(mS,gS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Al)}catch(t){console.warn(t)}}}}).catch(n=>{throw Vi.create("idb-open",{originalErrorMessage:n.message})})),gf}async function yS(n){try{const t=(await G_()).transaction(Al),i=await t.objectStore(Al).get(Q_(n));return await t.done,i}catch(e){if(e instanceof Jr)Gr.warn(e.message);else{const t=Vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gr.warn(t.message)}}}async function Uy(n,e){try{const i=(await G_()).transaction(Al,"readwrite");await i.objectStore(Al).put(e,Q_(n)),await i.done}catch(t){if(t instanceof Jr)Gr.warn(t.message);else{const i=Vi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Gr.warn(i.message)}}}function Q_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=1024,_S=30;class wS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new IS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=zy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>_S){const c=TS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Gr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=zy(),{heartbeatsToSend:i,unsentEntries:o}=ES(this._heartbeatsCache.heartbeats),a=Oc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Gr.warn(t),""}}}function zy(){return new Date().toISOString().substring(0,10)}function ES(n,e=vS){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),By(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),By(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class IS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return l1()?u1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await yS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Uy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Uy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function By(n){return Oc(JSON.stringify({version:2,heartbeats:n})).length}function TS(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n){Wo(new ks("platform-logger",e=>new L1(e),"PRIVATE")),Wo(new ks("heartbeat",e=>new wS(e),"PRIVATE")),Oi(Af,jy,n),Oi(Af,jy,"esm2017"),Oi("fire-js","")}xS("");function mp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function Y_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SS=Y_,X_=new Bl("auth","Firebase",Y_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new hp("@firebase/auth");function CS(n,...e){Mc.logLevel<=be.WARN&&Mc.warn(`Auth (${ia}): ${n}`,...e)}function xc(n,...e){Mc.logLevel<=be.ERROR&&Mc.error(`Auth (${ia}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(n,...e){throw gp(n,...e)}function yr(n,...e){return gp(n,...e)}function J_(n,e,t){const i=Object.assign(Object.assign({},SS()),{[e]:t});return new Bl("auth","Firebase",i).create(e,{appName:n.name})}function Li(n){return J_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return X_.create(n,...e)}function ye(n,e,...t){if(!n)throw gp(e,...t)}function $r(n){const e="INTERNAL ASSERTION FAILED: "+n;throw xc(e),new Error(e)}function Qr(n,e){n||$r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function RS(){return $y()==="http:"||$y()==="https:"}function $y(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RS()||i1()||"connection"in navigator)?navigator.onLine:!0}function kS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qr(t>e,"Short delay should be less than long delay!"),this.isMobile=t1()||s1()}get(){return AS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(n,e){Qr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NS=new Wl(3e4,6e4);function Gi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Zr(n,e,t,i,o={}){return e0(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const h=$l(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:p},a);return r1()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&ra(n.emulatorConfig.host)&&(m.credentials="include"),Z_.fetch()(await t0(n,n.config.apiHost,t,h),m)})}async function e0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},PS),e);try{const o=new VS(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw mc(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw mc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw mc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw mc(n,"user-disabled",c);const w=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw J_(n,w,m);er(n,w)}}catch(o){if(o instanceof Jr)throw o;er(n,"network-request-failed",{message:String(o)})}}async function ad(n,e,t,i,o={}){const a=await Zr(n,e,t,i,o);return"mfaPendingCredential"in a&&er(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function t0(n,e,t,i){const o=`${e}${t}?${i}`,a=n,c=a.config.emulator?yp(n.config,o):`${n.config.apiScheme}://${o}`;return bS.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function DS(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(yr(this.auth,"network-request-failed")),NS.get())})}}function mc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=yr(n,e,i);return o.customData._tokenResponse=t,o}function Wy(n){return n!==void 0&&n.enterprise!==void 0}class OS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return DS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LS(n,e){return Zr(n,"GET","/v2/recaptchaConfig",Gi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MS(n,e){return Zr(n,"POST","/v1/accounts:delete",e)}async function Fc(n,e){return Zr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jS(n,e=!1){const t=Dt(n),i=await t.getIdToken(e),o=vp(i);ye(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:El(yf(o.auth_time)),issuedAtTime:El(yf(o.iat)),expirationTime:El(yf(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function yf(n){return Number(n)*1e3}function vp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=j_(t);return o?JSON.parse(o):(xc("Failed to decode base64 JWT payload"),null)}catch(o){return xc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Hy(n){const e=vp(n);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Jr&&FS(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function FS({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await kl(n,Fc(t,{idToken:i}));ye(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?n0(a.providerUserInfo):[],h=BS(n.providerData,c),p=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),w=p?m:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new bf(a.createdAt,a.lastLoginAt),isAnonymous:w};Object.assign(n,E)}async function zS(n){const e=Dt(n);await Uc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BS(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function n0(n){return n.map(e=>{var{providerId:t}=e,i=mp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $S(n,e){const t=await e0(n,{},async()=>{const i=$l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=await t0(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:i};return n.emulatorConfig&&ra(n.emulatorConfig.host)&&(p.credentials="include"),Z_.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function WS(n,e){return Zr(n,"POST","/v2/accounts:revokeToken",Gi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const t=Hy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await $S(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new jo;return i&&(ye(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(ye(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(ye(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jo,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(n,e){ye(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Jn{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=mp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new US(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new bf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await kl(this,this.stsTokenManager.getToken(this.auth,e));return ye(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return jS(this,e)}reload(){return zS(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Uc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Li(this.auth));const e=await this.getIdToken();return await kl(this,MS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,h,p,m,w;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,S=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,R=(c=t.photoURL)!==null&&c!==void 0?c:void 0,D=(h=t.tenantId)!==null&&h!==void 0?h:void 0,V=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,N=(m=t.createdAt)!==null&&m!==void 0?m:void 0,H=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:G,emailVerified:Q,isAnonymous:ae,providerData:me,stsTokenManager:L}=t;ye(G&&L,e,"internal-error");const A=jo.fromJSON(this.name,L);ye(typeof G=="string",e,"internal-error"),Si(E,e.name),Si(I,e.name),ye(typeof Q=="boolean",e,"internal-error"),ye(typeof ae=="boolean",e,"internal-error"),Si(S,e.name),Si(R,e.name),Si(D,e.name),Si(V,e.name),Si(N,e.name),Si(H,e.name);const P=new Jn({uid:G,auth:e,email:I,emailVerified:Q,displayName:E,isAnonymous:ae,photoURL:R,phoneNumber:S,tenantId:D,stsTokenManager:A,createdAt:N,lastLoginAt:H});return me&&Array.isArray(me)&&(P.providerData=me.map(O=>Object.assign({},O))),V&&(P._redirectEventId=V),P}static async _fromIdTokenResponse(e,t,i=!1){const o=new jo;o.updateFromServerResponse(t);const a=new Jn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Uc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];ye(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?n0(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new jo;h.updateFromIdToken(i);const p=new Jn({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new bf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=new Map;function Wr(n){Qr(n instanceof Function,"Expected a class definition");let e=qy.get(n);return e?(Qr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,qy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}r0.type="NONE";const Ky=r0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(n,e,t){return`firebase:${n}:${e}:${t}`}class Fo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Sc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Sc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Fc(this.auth,{idToken:e}).catch(()=>{});return t?Jn._fromGetAccountInfoResponse(this.auth,t,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Fo(Wr(Ky),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Wr(Ky);const c=Sc(i,e.config.apiKey,e.name);let h=null;for(const m of t)try{const w=await m._get(c);if(w){let E;if(typeof w=="string"){const I=await Fc(e,{idToken:w}).catch(()=>{});if(!I)break;E=await Jn._fromGetAccountInfoResponse(e,I,w)}else E=Jn._fromJSON(e,w);m!==a&&(h=E),a=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Fo(a,e,i):(a=p[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(c)}catch{}})),new Fo(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(i0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(u0(e))return"Blackberry";if(c0(e))return"Webos";if(s0(e))return"Safari";if((e.includes("chrome/")||o0(e))&&!e.includes("edge/"))return"Chrome";if(l0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function i0(n=Xt()){return/firefox\//i.test(n)}function s0(n=Xt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o0(n=Xt()){return/crios\//i.test(n)}function a0(n=Xt()){return/iemobile/i.test(n)}function l0(n=Xt()){return/android/i.test(n)}function u0(n=Xt()){return/blackberry/i.test(n)}function c0(n=Xt()){return/webos/i.test(n)}function _p(n=Xt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function HS(n=Xt()){var e;return _p(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qS(){return o1()&&document.documentMode===10}function d0(n=Xt()){return _p(n)||l0(n)||c0(n)||u0(n)||/windows phone/i.test(n)||a0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(n,e=[]){let t;switch(n){case"Browser":t=Gy(Xt());break;case"Worker":t=`${Gy(Xt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ia}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,h)=>{try{const p=e(a);c(p)}catch(p){h(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(n,e={}){return Zr(n,"GET","/v2/passwordPolicy",Gi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=6;class YS{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:QS,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qy(this),this.idTokenSubscription=new Qy(this),this.beforeStateQueue=new KS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wr(t)),this._initializationPromise=this.queue(async()=>{var i,o,a;if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Fc(this,{idToken:e}),i=await Jn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Uc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(Li(this));const t=e?Dt(e):null;return t&&ye(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(Li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GS(this),t=new YS(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await WS(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Wr(e)||this._popupRedirectResolver;ye(t,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[Wr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=h0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&CS(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function sa(n){return Dt(n)}class Qy{constructor(e){this.auth=e,this.observer=null,this.addObserver=p1(t=>this.observer=t)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JS(n){ld=n}function f0(n){return ld.loadJS(n)}function ZS(){return ld.recaptchaEnterpriseScript}function eC(){return ld.gapiScript}function tC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class nC{constructor(){this.enterprise=new rC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class rC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const iC="recaptcha-enterprise",p0="NO_RECAPTCHA";class sC{constructor(e){this.type=iC,this.auth=sa(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{LS(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new OS(p);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,c(m.siteKey)}}).catch(p=>{h(p)})})}function o(a,c,h){const p=window.grecaptcha;Wy(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(m=>{c(m)}).catch(()=>{c(p0)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nC().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(h=>{if(!t&&Wy(window.grecaptcha))o(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ZS();p.length!==0&&(p+=h),f0(p).then(()=>{o(h,a,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function Yy(n,e,t,i=!1,o=!1){const a=new sC(n);let c;if(o)c=p0;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Nf(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Yy(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Yy(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(n,e){const t=pp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(As(a,e??{}))return o;er(o,"already-initialized")}return t.initialize({options:e})}function aC(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Wr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function lC(n,e,t){const i=sa(n);ye(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=m0(e),{host:c,port:h}=uC(e),p=h===null?"":`:${h}`,m={url:`${a}//${c}${p}/`},w=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){ye(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ye(As(m,i.config.emulator)&&As(w,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=w,i.settings.appVerificationDisabledForTesting=!0,ra(c)?(B_(`${a}//${c}${p}`),$_("Auth",!0)):cC()}function m0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function uC(n){const e=m0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Xy(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Xy(c)}}}function Xy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function cC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,t){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}async function dC(n,e){return Zr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(n,e){return ad(n,"POST","/v1/accounts:signInWithPassword",Gi(n,e))}async function fC(n,e){return Zr(n,"POST","/v1/accounts:sendOobCode",Gi(n,e))}async function pC(n,e){return fC(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(n,e){return ad(n,"POST","/v1/accounts:signInWithEmailLink",Gi(n,e))}async function gC(n,e){return ad(n,"POST","/v1/accounts:signInWithEmailLink",Gi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends wp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Pl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Pl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nf(e,t,"signInWithPassword",hC);case"emailLink":return mC(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nf(e,i,"signUpPassword",dC);case"emailLink":return gC(e,{idToken:t,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(n,e){return ad(n,"POST","/v1/accounts:signInWithIdp",Gi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="http://localhost";class Ps extends wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=mp(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Ps(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Uo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Uo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Uo(e,t)}buildRequest(){const e={requestUri:yC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$l(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _C(n){const e=pl(ml(n)).link,t=e?pl(ml(e)).deep_link_id:null,i=pl(ml(n)).deep_link_id;return(i?pl(ml(i)).link:null)||i||t||e||n}class ud{constructor(e){var t,i,o,a,c,h;const p=pl(ml(e)),m=(t=p.apiKey)!==null&&t!==void 0?t:null,w=(i=p.oobCode)!==null&&i!==void 0?i:null,E=vC((o=p.mode)!==null&&o!==void 0?o:null);ye(m&&w&&E,"argument-error"),this.apiKey=m,this.operation=E,this.code=w,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=_C(e);try{return new ud(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.providerId=oa.PROVIDER_ID}static credential(e,t){return Pl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=ud.parseLink(t);return ye(i,"argument-error"),Pl._fromEmailAndCode(e,i.code,i.tenantId)}}oa.PROVIDER_ID="password";oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends g0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Hl{constructor(){super("facebook.com")}static credential(e){return Ps._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ps._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ki.credential(t,i)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Hl{constructor(){super("github.com")}static credential(e){return Ps._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.GITHUB_SIGN_IN_METHOD="github.com";Pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Hl{constructor(){super("twitter.com")}static credential(e,t){return Ps._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return bi.credential(t,i)}catch{return null}}}bi.TWITTER_SIGN_IN_METHOD="twitter.com";bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await Jn._fromIdTokenResponse(e,i,o),c=Jy(i);return new Ho({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Jy(i);return new Ho({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Jy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends Jr{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new zc(e,t,i,o)}}function y0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(n,a,e,i):a})}async function wC(n,e,t=!1){const i=await kl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ho._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(n,e,t=!1){const{auth:i}=n;if(Xn(i.app))return Promise.reject(Li(i));const o="reauthenticate";try{const a=await kl(n,y0(i,o,e,n),t);ye(a.idToken,i,"internal-error");const c=vp(a.idToken);ye(c,i,"internal-error");const{sub:h}=c;return ye(n.uid===h,i,"user-mismatch"),Ho._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&er(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v0(n,e,t=!1){if(Xn(n.app))return Promise.reject(Li(n));const i="signIn",o=await y0(n,i,e),a=await Ho._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function IC(n,e){return v0(sa(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(n,e,t){var i;ye(((i=t.url)===null||i===void 0?void 0:i.length)>0,n,"invalid-continue-uri"),ye(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ye(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ye(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ye(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zy(n,e,t){const i=sa(n),o={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(c,h){ye(h.handleCodeInApp,i,"argument-error"),h&&TC(i,c,h)}a(o,t),await Nf(i,o,"getOobCode",pC)}function xC(n,e){const t=ud.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function SC(n,e,t){if(Xn(n.app))return Promise.reject(Li(n));const i=Dt(n),o=oa.credentialWithLink(e,t||jc());return ye(o._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),IC(i,o)}function CC(n,e,t,i){return Dt(n).onIdTokenChanged(e,t,i)}function RC(n,e,t){return Dt(n).beforeAuthStateChanged(e,t)}function AC(n,e,t,i){return Dt(n).onAuthStateChanged(e,t,i)}function kC(n){return Dt(n).signOut()}const Bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=1e3,bC=10;class w0 extends _0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=d0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);qS()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,bC):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},PC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}w0.type="LOCAL";const NC=w0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0 extends _0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}E0.type="SESSION";const I0=E0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new cd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(c).map(async m=>m(t.origin,a)),p=await DC(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,p)=>{const m=Ep("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(E){const I=E;if(I.data.eventId===m)switch(I.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(I.data.response);break;default:clearTimeout(w),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function OC(n){vr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function LC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function jC(){return T0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="firebaseLocalStorageDb",FC=1,$c="firebaseLocalStorage",S0="fbase_key";class ql{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function dd(n,e){return n.transaction([$c],e?"readwrite":"readonly").objectStore($c)}function UC(){const n=indexedDB.deleteDatabase(x0);return new ql(n).toPromise()}function Df(){const n=indexedDB.open(x0,FC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore($c,{keyPath:S0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains($c)?e(i):(i.close(),await UC(),e(await Df()))})})}async function ev(n,e,t){const i=dd(n,!0).put({[S0]:e,value:t});return new ql(i).toPromise()}async function zC(n,e){const t=dd(n,!1).get(e),i=await new ql(t).toPromise();return i===void 0?null:i.value}function tv(n,e){const t=dd(n,!0).delete(e);return new ql(t).toPromise()}const BC=800,$C=3;class C0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Df(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>$C)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cd._getInstance(jC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await LC(),!this.activeServiceWorker)return;this.sender=new VC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Df();return await ev(e,Bc,"1"),await tv(e,Bc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ev(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>zC(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>tv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=dd(o,!1).getAll();return new ql(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}C0.type="LOCAL";const WC=C0;new Wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(n,e){return e?Wr(e):(ye(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends wp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Uo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function qC(n){return v0(n.auth,new Ip(n),n.bypassAuthState)}function KC(n){const{auth:e,user:t}=n;return ye(t,e,"internal-error"),EC(t,new Ip(n),n.bypassAuthState)}async function GC(n){const{auth:e,user:t}=n;return ye(t,e,"internal-error"),wC(t,new Ip(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qC;case"linkViaPopup":case"linkViaRedirect":return GC;case"reauthViaPopup":case"reauthViaRedirect":return KC;default:er(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=new Wl(2e3,1e4);class Lo extends R0{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Lo.currentPopupAction&&Lo.currentPopupAction.cancel(),Lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){Qr(this.filter.length===1,"Popup operations only handle one event");const e=Ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QC.get())};e()}}Lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="pendingRedirect",Cc=new Map;class XC extends R0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Cc.get(this.auth._key());if(!e){try{const i=await JC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Cc.set(this.auth._key(),e)}return this.bypassAuthState||Cc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JC(n,e){const t=tR(e),i=eR(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function ZC(n,e){Cc.set(n._key(),e)}function eR(n){return Wr(n._redirectPersistence)}function tR(n){return Sc(YC,n.config.apiKey,n.name)}async function nR(n,e,t=!1){if(Xn(n.app))return Promise.reject(Li(n));const i=sa(n),o=HC(i,e),c=await new XC(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=10*60*1e3;class iR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!A0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(yr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rR&&this.cachedEventUids.clear(),this.cachedEventUids.has(nv(e))}saveEventToCache(e){this.cachedEventUids.add(nv(e)),this.lastProcessedEventTime=Date.now()}}function nv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function A0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(n,e={}){return Zr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lR=/^https?/;async function uR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await oR(n);for(const t of e)try{if(cR(t))return}catch{}er(n,"unauthorized-domain")}function cR(n){const e=jc(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!lR.test(t))return!1;if(aR.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=new Wl(3e4,6e4);function rv(){const n=vr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function hR(n){return new Promise((e,t)=>{var i,o,a;function c(){rv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rv(),t(yr(n,"network-request-failed"))},timeout:dR.get()})}if(!((o=(i=vr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=vr().gapi)===null||a===void 0)&&a.load)c();else{const h=tC("iframefcb");return vr()[h]=()=>{gapi.load?c():t(yr(n,"network-request-failed"))},f0(`${eC()}?onload=${h}`).catch(p=>t(p))}}).catch(e=>{throw Rc=null,e})}let Rc=null;function fR(n){return Rc=Rc||hR(n),Rc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=new Wl(5e3,15e3),mR="__/auth/iframe",gR="emulator/auth/iframe",yR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _R(n){const e=n.config;ye(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?yp(e,gR):`https://${n.config.authDomain}/${mR}`,i={apiKey:e.apiKey,appName:n.name,v:ia},o=vR.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${$l(i).slice(1)}`}async function wR(n){const e=await fR(n),t=vr().gapi;return ye(t,n,"internal-error"),e.open({where:document.body,url:_R(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yR,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=yr(n,"network-request-failed"),h=vr().setTimeout(()=>{a(c)},pR.get());function p(){vr().clearTimeout(h),o(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IR=500,TR=600,xR="_blank",SR="http://localhost";class iv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CR(n,e,t,i=IR,o=TR){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const p=Object.assign(Object.assign({},ER),{width:i.toString(),height:o.toString(),top:a,left:c}),m=Xt().toLowerCase();t&&(h=o0(m)?xR:t),i0(m)&&(e=e||SR,p.scrollbars="yes");const w=Object.entries(p).reduce((I,[S,R])=>`${I}${S}=${R},`,"");if(HS(m)&&h!=="_self")return RR(e||"",h),new iv(null);const E=window.open(e||"",h,w);ye(E,n,"popup-blocked");try{E.focus()}catch{}return new iv(E)}function RR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="__/auth/handler",kR="emulator/auth/handler",PR=encodeURIComponent("fac");async function sv(n,e,t,i,o,a){ye(n.config.authDomain,n,"auth-domain-config-required"),ye(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ia,eventId:o};if(e instanceof g0){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",f1(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,E]of Object.entries({}))c[w]=E}if(e instanceof Hl){const w=e.getScopes().filter(E=>E!=="");w.length>0&&(c.scopes=w.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const w of Object.keys(h))h[w]===void 0&&delete h[w];const p=await n._getAppCheckToken(),m=p?`#${PR}=${encodeURIComponent(p)}`:"";return`${bR(n)}?${$l(h).slice(1)}${m}`}function bR({config:n}){return n.emulator?yp(n,kR):`https://${n.authDomain}/${AR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="webStorageSupport";class NR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I0,this._completeRedirectFn=nR,this._overrideRedirectResult=ZC}async _openPopup(e,t,i,o){var a;Qr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await sv(e,t,i,jc(),o);return CR(e,c,Ep())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await sv(e,t,i,jc(),o);return OC(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Qr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await wR(e),i=new iR(e);return t.register("authEvent",o=>(ye(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vf,{type:vf},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[vf];c!==void 0&&t(!!c),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return d0()||s0()||_p()}}const DR=NR;var ov="@firebase/auth",av="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LR(n){Wo(new ks("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;ye(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:h0(n)},m=new XS(i,o,a,p);return aC(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Wo(new ks("auth-internal",e=>{const t=sa(e.getProvider("auth").getImmediate());return(i=>new VR(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oi(ov,av,OR(n)),Oi(ov,av,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=5*60,jR=z_("authIdTokenMaxAge")||MR;let lv=null;const FR=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>jR)return;const o=t==null?void 0:t.token;lv!==o&&(lv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function UR(n=K_()){const e=pp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=oC(n,{popupRedirectResolver:DR,persistence:[WC,NC,I0]}),i=z_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=FR(a.toString());RC(t,c,()=>c(t.currentUser)),CC(t,h=>c(h))}}const o=F_("auth");return o&&lC(t,`http://${o}`),t}function zR(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}JS({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=yr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",zR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LR("Browser");var uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mi,k0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,A){function P(){}P.prototype=A.prototype,L.D=A.prototype,L.prototype=new P,L.prototype.constructor=L,L.C=function(O,j,F){for(var b=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)b[Be-2]=arguments[Be];return A.prototype[j].apply(O,b)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(L,A,P){P||(P=0);var O=Array(16);if(typeof A=="string")for(var j=0;16>j;++j)O[j]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(j=0;16>j;++j)O[j]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=L.g[0],P=L.g[1],j=L.g[2];var F=L.g[3],b=A+(F^P&(j^F))+O[0]+3614090360&4294967295;A=P+(b<<7&4294967295|b>>>25),b=F+(j^A&(P^j))+O[1]+3905402710&4294967295,F=A+(b<<12&4294967295|b>>>20),b=j+(P^F&(A^P))+O[2]+606105819&4294967295,j=F+(b<<17&4294967295|b>>>15),b=P+(A^j&(F^A))+O[3]+3250441966&4294967295,P=j+(b<<22&4294967295|b>>>10),b=A+(F^P&(j^F))+O[4]+4118548399&4294967295,A=P+(b<<7&4294967295|b>>>25),b=F+(j^A&(P^j))+O[5]+1200080426&4294967295,F=A+(b<<12&4294967295|b>>>20),b=j+(P^F&(A^P))+O[6]+2821735955&4294967295,j=F+(b<<17&4294967295|b>>>15),b=P+(A^j&(F^A))+O[7]+4249261313&4294967295,P=j+(b<<22&4294967295|b>>>10),b=A+(F^P&(j^F))+O[8]+1770035416&4294967295,A=P+(b<<7&4294967295|b>>>25),b=F+(j^A&(P^j))+O[9]+2336552879&4294967295,F=A+(b<<12&4294967295|b>>>20),b=j+(P^F&(A^P))+O[10]+4294925233&4294967295,j=F+(b<<17&4294967295|b>>>15),b=P+(A^j&(F^A))+O[11]+2304563134&4294967295,P=j+(b<<22&4294967295|b>>>10),b=A+(F^P&(j^F))+O[12]+1804603682&4294967295,A=P+(b<<7&4294967295|b>>>25),b=F+(j^A&(P^j))+O[13]+4254626195&4294967295,F=A+(b<<12&4294967295|b>>>20),b=j+(P^F&(A^P))+O[14]+2792965006&4294967295,j=F+(b<<17&4294967295|b>>>15),b=P+(A^j&(F^A))+O[15]+1236535329&4294967295,P=j+(b<<22&4294967295|b>>>10),b=A+(j^F&(P^j))+O[1]+4129170786&4294967295,A=P+(b<<5&4294967295|b>>>27),b=F+(P^j&(A^P))+O[6]+3225465664&4294967295,F=A+(b<<9&4294967295|b>>>23),b=j+(A^P&(F^A))+O[11]+643717713&4294967295,j=F+(b<<14&4294967295|b>>>18),b=P+(F^A&(j^F))+O[0]+3921069994&4294967295,P=j+(b<<20&4294967295|b>>>12),b=A+(j^F&(P^j))+O[5]+3593408605&4294967295,A=P+(b<<5&4294967295|b>>>27),b=F+(P^j&(A^P))+O[10]+38016083&4294967295,F=A+(b<<9&4294967295|b>>>23),b=j+(A^P&(F^A))+O[15]+3634488961&4294967295,j=F+(b<<14&4294967295|b>>>18),b=P+(F^A&(j^F))+O[4]+3889429448&4294967295,P=j+(b<<20&4294967295|b>>>12),b=A+(j^F&(P^j))+O[9]+568446438&4294967295,A=P+(b<<5&4294967295|b>>>27),b=F+(P^j&(A^P))+O[14]+3275163606&4294967295,F=A+(b<<9&4294967295|b>>>23),b=j+(A^P&(F^A))+O[3]+4107603335&4294967295,j=F+(b<<14&4294967295|b>>>18),b=P+(F^A&(j^F))+O[8]+1163531501&4294967295,P=j+(b<<20&4294967295|b>>>12),b=A+(j^F&(P^j))+O[13]+2850285829&4294967295,A=P+(b<<5&4294967295|b>>>27),b=F+(P^j&(A^P))+O[2]+4243563512&4294967295,F=A+(b<<9&4294967295|b>>>23),b=j+(A^P&(F^A))+O[7]+1735328473&4294967295,j=F+(b<<14&4294967295|b>>>18),b=P+(F^A&(j^F))+O[12]+2368359562&4294967295,P=j+(b<<20&4294967295|b>>>12),b=A+(P^j^F)+O[5]+4294588738&4294967295,A=P+(b<<4&4294967295|b>>>28),b=F+(A^P^j)+O[8]+2272392833&4294967295,F=A+(b<<11&4294967295|b>>>21),b=j+(F^A^P)+O[11]+1839030562&4294967295,j=F+(b<<16&4294967295|b>>>16),b=P+(j^F^A)+O[14]+4259657740&4294967295,P=j+(b<<23&4294967295|b>>>9),b=A+(P^j^F)+O[1]+2763975236&4294967295,A=P+(b<<4&4294967295|b>>>28),b=F+(A^P^j)+O[4]+1272893353&4294967295,F=A+(b<<11&4294967295|b>>>21),b=j+(F^A^P)+O[7]+4139469664&4294967295,j=F+(b<<16&4294967295|b>>>16),b=P+(j^F^A)+O[10]+3200236656&4294967295,P=j+(b<<23&4294967295|b>>>9),b=A+(P^j^F)+O[13]+681279174&4294967295,A=P+(b<<4&4294967295|b>>>28),b=F+(A^P^j)+O[0]+3936430074&4294967295,F=A+(b<<11&4294967295|b>>>21),b=j+(F^A^P)+O[3]+3572445317&4294967295,j=F+(b<<16&4294967295|b>>>16),b=P+(j^F^A)+O[6]+76029189&4294967295,P=j+(b<<23&4294967295|b>>>9),b=A+(P^j^F)+O[9]+3654602809&4294967295,A=P+(b<<4&4294967295|b>>>28),b=F+(A^P^j)+O[12]+3873151461&4294967295,F=A+(b<<11&4294967295|b>>>21),b=j+(F^A^P)+O[15]+530742520&4294967295,j=F+(b<<16&4294967295|b>>>16),b=P+(j^F^A)+O[2]+3299628645&4294967295,P=j+(b<<23&4294967295|b>>>9),b=A+(j^(P|~F))+O[0]+4096336452&4294967295,A=P+(b<<6&4294967295|b>>>26),b=F+(P^(A|~j))+O[7]+1126891415&4294967295,F=A+(b<<10&4294967295|b>>>22),b=j+(A^(F|~P))+O[14]+2878612391&4294967295,j=F+(b<<15&4294967295|b>>>17),b=P+(F^(j|~A))+O[5]+4237533241&4294967295,P=j+(b<<21&4294967295|b>>>11),b=A+(j^(P|~F))+O[12]+1700485571&4294967295,A=P+(b<<6&4294967295|b>>>26),b=F+(P^(A|~j))+O[3]+2399980690&4294967295,F=A+(b<<10&4294967295|b>>>22),b=j+(A^(F|~P))+O[10]+4293915773&4294967295,j=F+(b<<15&4294967295|b>>>17),b=P+(F^(j|~A))+O[1]+2240044497&4294967295,P=j+(b<<21&4294967295|b>>>11),b=A+(j^(P|~F))+O[8]+1873313359&4294967295,A=P+(b<<6&4294967295|b>>>26),b=F+(P^(A|~j))+O[15]+4264355552&4294967295,F=A+(b<<10&4294967295|b>>>22),b=j+(A^(F|~P))+O[6]+2734768916&4294967295,j=F+(b<<15&4294967295|b>>>17),b=P+(F^(j|~A))+O[13]+1309151649&4294967295,P=j+(b<<21&4294967295|b>>>11),b=A+(j^(P|~F))+O[4]+4149444226&4294967295,A=P+(b<<6&4294967295|b>>>26),b=F+(P^(A|~j))+O[11]+3174756917&4294967295,F=A+(b<<10&4294967295|b>>>22),b=j+(A^(F|~P))+O[2]+718787259&4294967295,j=F+(b<<15&4294967295|b>>>17),b=P+(F^(j|~A))+O[9]+3951481745&4294967295,L.g[0]=L.g[0]+A&4294967295,L.g[1]=L.g[1]+(j+(b<<21&4294967295|b>>>11))&4294967295,L.g[2]=L.g[2]+j&4294967295,L.g[3]=L.g[3]+F&4294967295}i.prototype.u=function(L,A){A===void 0&&(A=L.length);for(var P=A-this.blockSize,O=this.B,j=this.h,F=0;F<A;){if(j==0)for(;F<=P;)o(this,L,F),F+=this.blockSize;if(typeof L=="string"){for(;F<A;)if(O[j++]=L.charCodeAt(F++),j==this.blockSize){o(this,O),j=0;break}}else for(;F<A;)if(O[j++]=L[F++],j==this.blockSize){o(this,O),j=0;break}}this.h=j,this.o+=A},i.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var A=1;A<L.length-8;++A)L[A]=0;var P=8*this.o;for(A=L.length-8;A<L.length;++A)L[A]=P&255,P/=256;for(this.u(L),L=Array(16),A=P=0;4>A;++A)for(var O=0;32>O;O+=8)L[P++]=this.g[A]>>>O&255;return L};function a(L,A){var P=h;return Object.prototype.hasOwnProperty.call(P,L)?P[L]:P[L]=A(L)}function c(L,A){this.h=A;for(var P=[],O=!0,j=L.length-1;0<=j;j--){var F=L[j]|0;O&&F==A||(P[j]=F,O=!1)}this.g=P}var h={};function p(L){return-128<=L&&128>L?a(L,function(A){return new c([A|0],0>A?-1:0)}):new c([L|0],0>L?-1:0)}function m(L){if(isNaN(L)||!isFinite(L))return E;if(0>L)return V(m(-L));for(var A=[],P=1,O=0;L>=P;O++)A[O]=L/P|0,P*=4294967296;return new c(A,0)}function w(L,A){if(L.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(L.charAt(0)=="-")return V(w(L.substring(1),A));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=m(Math.pow(A,8)),O=E,j=0;j<L.length;j+=8){var F=Math.min(8,L.length-j),b=parseInt(L.substring(j,j+F),A);8>F?(F=m(Math.pow(A,F)),O=O.j(F).add(m(b))):(O=O.j(P),O=O.add(m(b)))}return O}var E=p(0),I=p(1),S=p(16777216);n=c.prototype,n.m=function(){if(D(this))return-V(this).m();for(var L=0,A=1,P=0;P<this.g.length;P++){var O=this.i(P);L+=(0<=O?O:4294967296+O)*A,A*=4294967296}return L},n.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(R(this))return"0";if(D(this))return"-"+V(this).toString(L);for(var A=m(Math.pow(L,6)),P=this,O="";;){var j=Q(P,A).g;P=N(P,j.j(A));var F=((0<P.g.length?P.g[0]:P.h)>>>0).toString(L);if(P=j,R(P))return F+O;for(;6>F.length;)F="0"+F;O=F+O}},n.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function R(L){if(L.h!=0)return!1;for(var A=0;A<L.g.length;A++)if(L.g[A]!=0)return!1;return!0}function D(L){return L.h==-1}n.l=function(L){return L=N(this,L),D(L)?-1:R(L)?0:1};function V(L){for(var A=L.g.length,P=[],O=0;O<A;O++)P[O]=~L.g[O];return new c(P,~L.h).add(I)}n.abs=function(){return D(this)?V(this):this},n.add=function(L){for(var A=Math.max(this.g.length,L.g.length),P=[],O=0,j=0;j<=A;j++){var F=O+(this.i(j)&65535)+(L.i(j)&65535),b=(F>>>16)+(this.i(j)>>>16)+(L.i(j)>>>16);O=b>>>16,F&=65535,b&=65535,P[j]=b<<16|F}return new c(P,P[P.length-1]&-2147483648?-1:0)};function N(L,A){return L.add(V(A))}n.j=function(L){if(R(this)||R(L))return E;if(D(this))return D(L)?V(this).j(V(L)):V(V(this).j(L));if(D(L))return V(this.j(V(L)));if(0>this.l(S)&&0>L.l(S))return m(this.m()*L.m());for(var A=this.g.length+L.g.length,P=[],O=0;O<2*A;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var j=0;j<L.g.length;j++){var F=this.i(O)>>>16,b=this.i(O)&65535,Be=L.i(j)>>>16,st=L.i(j)&65535;P[2*O+2*j]+=b*st,H(P,2*O+2*j),P[2*O+2*j+1]+=F*st,H(P,2*O+2*j+1),P[2*O+2*j+1]+=b*Be,H(P,2*O+2*j+1),P[2*O+2*j+2]+=F*Be,H(P,2*O+2*j+2)}for(O=0;O<A;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=A;O<2*A;O++)P[O]=0;return new c(P,0)};function H(L,A){for(;(L[A]&65535)!=L[A];)L[A+1]+=L[A]>>>16,L[A]&=65535,A++}function G(L,A){this.g=L,this.h=A}function Q(L,A){if(R(A))throw Error("division by zero");if(R(L))return new G(E,E);if(D(L))return A=Q(V(L),A),new G(V(A.g),V(A.h));if(D(A))return A=Q(L,V(A)),new G(V(A.g),A.h);if(30<L.g.length){if(D(L)||D(A))throw Error("slowDivide_ only works with positive integers.");for(var P=I,O=A;0>=O.l(L);)P=ae(P),O=ae(O);var j=me(P,1),F=me(O,1);for(O=me(O,2),P=me(P,2);!R(O);){var b=F.add(O);0>=b.l(L)&&(j=j.add(P),F=b),O=me(O,1),P=me(P,1)}return A=N(L,j.j(A)),new G(j,A)}for(j=E;0<=L.l(A);){for(P=Math.max(1,Math.floor(L.m()/A.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),F=m(P),b=F.j(A);D(b)||0<b.l(L);)P-=O,F=m(P),b=F.j(A);R(F)&&(F=I),j=j.add(F),L=N(L,b)}return new G(j,L)}n.A=function(L){return Q(this,L).h},n.and=function(L){for(var A=Math.max(this.g.length,L.g.length),P=[],O=0;O<A;O++)P[O]=this.i(O)&L.i(O);return new c(P,this.h&L.h)},n.or=function(L){for(var A=Math.max(this.g.length,L.g.length),P=[],O=0;O<A;O++)P[O]=this.i(O)|L.i(O);return new c(P,this.h|L.h)},n.xor=function(L){for(var A=Math.max(this.g.length,L.g.length),P=[],O=0;O<A;O++)P[O]=this.i(O)^L.i(O);return new c(P,this.h^L.h)};function ae(L){for(var A=L.g.length+1,P=[],O=0;O<A;O++)P[O]=L.i(O)<<1|L.i(O-1)>>>31;return new c(P,L.h)}function me(L,A){var P=A>>5;A%=32;for(var O=L.g.length-P,j=[],F=0;F<O;F++)j[F]=0<A?L.i(F+P)>>>A|L.i(F+P+1)<<32-A:L.i(F+P);return new c(j,L.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,k0=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=w,Mi=c}).apply(typeof uv<"u"?uv:typeof self<"u"?self:typeof window<"u"?window:{});var gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var P0,gl,b0,Ac,Vf,N0,D0,V0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof gc=="object"&&gc];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,g){if(g)e:{var _=i;u=u.split(".");for(var x=0;x<u.length-1;x++){var B=u[x];if(!(B in _))break e;_=_[B]}u=u[u.length-1],x=_[u],g=g(x),g!=x&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function a(u,g){u instanceof String&&(u+="");var _=0,x=!1,B={next:function(){if(!x&&_<u.length){var K=_++;return{value:g(K,u[K]),done:!1}}return x=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(u){return u||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function w(u,g,_){return u.call.apply(u.bind,arguments)}function E(u,g,_){if(!u)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,x),u.apply(g,B)}}return function(){return u.apply(g,arguments)}}function I(u,g,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:E,I.apply(null,arguments)}function S(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function R(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(x,B,K){for(var ie=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ie[$e-2]=arguments[$e];return g.prototype[B].apply(x,ie)}}function D(u){const g=u.length;if(0<g){const _=Array(g);for(let x=0;x<g;x++)_[x]=u[x];return _}return[]}function V(u,g){for(let _=1;_<arguments.length;_++){const x=arguments[_];if(p(x)){const B=u.length||0,K=x.length||0;u.length=B+K;for(let ie=0;ie<K;ie++)u[B+ie]=x[ie]}else u.push(x)}}class N{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function H(u){return/^[\s\xa0]*$/.test(u)}function G(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function Q(u){return Q[" "](u),u}Q[" "]=function(){};var ae=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function me(u,g,_){for(const x in u)g.call(_,u[x],x,u)}function L(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function A(u){const g={};for(const _ in u)g[_]=u[_];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,g){let _,x;for(let B=1;B<arguments.length;B++){x=arguments[B];for(_ in x)u[_]=x[_];for(let K=0;K<P.length;K++)_=P[K],Object.prototype.hasOwnProperty.call(x,_)&&(u[_]=x[_])}}function j(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function F(u){h.setTimeout(()=>{throw u},0)}function b(){var u=he;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Be{constructor(){this.h=this.g=null}add(g,_){const x=st.get();x.set(g,_),this.h?this.h.next=x:this.g=x,this.h=x}}var st=new N(()=>new We,u=>u.reset());class We{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,ne=!1,he=new Be,se=()=>{const u=h.Promise.resolve(void 0);Ae=()=>{u.then(z)}};var z=()=>{for(var u;u=b();){try{u.h.call(u.g)}catch(_){F(_)}var g=st;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}ne=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return u}();function ke(u,g){if(ge.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ae){e:{try{Q(g.nodeName);var B=!0;break e}catch{}B=!1}B||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ve[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ke.aa.h.call(this)}}R(ke,ge);var Ve={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function Ke(u,g,_,x,B){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!x,this.ha=B,this.key=++Ue,this.da=this.fa=!1}function Rt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ir(u){this.src=u,this.g={},this.h=0}Ir.prototype.add=function(u,g,_,x,B){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var ie=ei(u,g,x,B);return-1<ie?(g=u[ie],_||(g.fa=!1)):(g=new Ke(g,this.src,K,!!x,B),g.fa=_,u.push(g)),g};function js(u,g){var _=g.type;if(_ in u.g){var x=u.g[_],B=Array.prototype.indexOf.call(x,g,void 0),K;(K=0<=B)&&Array.prototype.splice.call(x,B,1),K&&(Rt(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function ei(u,g,_,x){for(var B=0;B<u.length;++B){var K=u[B];if(!K.da&&K.listener==g&&K.capture==!!_&&K.ha==x)return B}return-1}var Ji="closure_lm_"+(1e6*Math.random()|0),Fs={};function ma(u,g,_,x,B){if(Array.isArray(g)){for(var K=0;K<g.length;K++)ma(u,g[K],_,x,B);return null}return _=va(_),u&&u[Fe]?u.K(g,_,m(x)?!!x.capture:!1,B):ga(u,g,_,!1,x,B)}function ga(u,g,_,x,B,K){if(!g)throw Error("Invalid event type");var ie=m(B)?!!B.capture:!!B,$e=zs(u);if($e||(u[Ji]=$e=new Ir(u)),_=$e.add(g,_,x,ie,K),_.proxy)return _;if(x=Jl(),_.proxy=x,x.src=u,x.listener=_,u.addEventListener)Ce||(B=ie),B===void 0&&(B=!1),u.addEventListener(g.toString(),x,B);else if(u.attachEvent)u.attachEvent(xr(g.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Jl(){function u(_){return g.call(u.src,u.listener,_)}const g=ya;return u}function Us(u,g,_,x,B){if(Array.isArray(g))for(var K=0;K<g.length;K++)Us(u,g[K],_,x,B);else x=m(x)?!!x.capture:!!x,_=va(_),u&&u[Fe]?(u=u.i,g=String(g).toString(),g in u.g&&(K=u.g[g],_=ei(K,_,x,B),-1<_&&(Rt(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete u.g[g],u.h--)))):u&&(u=zs(u))&&(g=u.g[g.toString()],u=-1,g&&(u=ei(g,_,x,B)),(_=-1<u?g[u]:null)&&Tr(_))}function Tr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Fe])js(g.i,u);else{var _=u.type,x=u.proxy;g.removeEventListener?g.removeEventListener(_,x,u.capture):g.detachEvent?g.detachEvent(xr(_),x):g.addListener&&g.removeListener&&g.removeListener(x),(_=zs(g))?(js(_,u),_.h==0&&(_.src=null,g[Ji]=null)):Rt(u)}}}function xr(u){return u in Fs?Fs[u]:Fs[u]="on"+u}function ya(u,g){if(u.da)u=!0;else{g=new ke(g,this);var _=u.listener,x=u.ha||u.src;u.fa&&Tr(u),u=_.call(x,g)}return u}function zs(u){return u=u[Ji],u instanceof Ir?u:null}var Bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function va(u){return typeof u=="function"?u:(u[Bs]||(u[Bs]=function(g){return u.handleEvent(g)}),u[Bs])}function _t(){J.call(this),this.i=new Ir(this),this.M=this,this.F=null}R(_t,J),_t.prototype[Fe]=!0,_t.prototype.removeEventListener=function(u,g,_,x){Us(this,u,g,_,x)};function wt(u,g){var _,x=u.F;if(x)for(_=[];x;x=x.F)_.push(x);if(u=u.M,x=g.type||g,typeof g=="string")g=new ge(g,u);else if(g instanceof ge)g.target=g.target||u;else{var B=g;g=new ge(x,u),O(g,B)}if(B=!0,_)for(var K=_.length-1;0<=K;K--){var ie=g.g=_[K];B=Sr(ie,x,!0,g)&&B}if(ie=g.g=u,B=Sr(ie,x,!0,g)&&B,B=Sr(ie,x,!1,g)&&B,_)for(K=0;K<_.length;K++)ie=g.g=_[K],B=Sr(ie,x,!1,g)&&B}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],x=0;x<_.length;x++)Rt(_[x]);delete u.g[g],u.h--}}this.F=null},_t.prototype.K=function(u,g,_,x){return this.i.add(String(u),g,!1,_,x)},_t.prototype.L=function(u,g,_,x){return this.i.add(String(u),g,!0,_,x)};function Sr(u,g,_,x){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var B=!0,K=0;K<g.length;++K){var ie=g[K];if(ie&&!ie.da&&ie.capture==_){var $e=ie.listener,Et=ie.ha||ie.src;ie.fa&&js(u.i,ie),B=$e.call(Et,x)!==!1&&B}}return B&&!x.defaultPrevented}function _a(u,g,_){if(typeof u=="function")_&&(u=I(u,_));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(u,g||0)}function ti(u){u.g=_a(()=>{u.g=null,u.i&&(u.i=!1,ti(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Zi extends J{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ti(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(u){J.call(this),this.h=u,this.g={}}R(es,J);var wa=[];function Ea(u){me(u.g,function(g,_){this.g.hasOwnProperty(_)&&Tr(g)},u),u.g={}}es.prototype.N=function(){es.aa.N.call(this),Ea(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ia=h.JSON.stringify,Ta=h.JSON.parse,xa=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function ts(){}ts.prototype.h=null;function $s(u){return u.h||(u.h=u.i())}function Ws(){}var Tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sr(){ge.call(this,"d")}R(sr,ge);function Hs(){ge.call(this,"c")}R(Hs,ge);var or={},Sa=null;function ns(){return Sa=Sa||new _t}or.La="serverreachability";function Ca(u){ge.call(this,or.La,u)}R(Ca,ge);function Cr(u){const g=ns();wt(g,new Ca(g))}or.STAT_EVENT="statevent";function Ra(u,g){ge.call(this,or.STAT_EVENT,u),this.stat=g}R(Ra,ge);function dt(u){const g=ns();wt(g,new Ra(g,u))}or.Ma="timingevent";function qs(u,g){ge.call(this,or.Ma,u),this.size=g}R(qs,ge);function Ln(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},g)}function rs(){this.g=!0}rs.prototype.xa=function(){this.g=!1};function is(u,g,_,x,B,K){u.info(function(){if(u.g)if(K)for(var ie="",$e=K.split("&"),Et=0;Et<$e.length;Et++){var Oe=$e[Et].split("=");if(1<Oe.length){var At=Oe[0];Oe=Oe[1];var mt=At.split("_");ie=2<=mt.length&&mt[1]=="type"?ie+(At+"="+Oe+"&"):ie+(At+"=redacted&")}}else ie=null;else ie=K;return"XMLHTTP REQ ("+x+") [attempt "+B+"]: "+g+`
`+_+`
`+ie})}function Ks(u,g,_,x,B,K,ie){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+B+"]: "+g+`
`+_+`
`+K+" "+ie})}function Mn(u,g,_,x){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Nd(u,_)+(x?" "+x:"")})}function Aa(u,g){u.info(function(){return"TIMEOUT: "+g})}rs.prototype.info=function(){};function Nd(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var x=_[u];if(!(2>x.length)){var B=x[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ie=1;ie<B.length;ie++)B[ie]=""}}}}return Ia(_)}catch{return g}}var Gs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function ss(){}R(ss,ts),ss.prototype.g=function(){return new XMLHttpRequest},ss.prototype.i=function(){return{}},jn=new ss;function Fn(u,g,_,x){this.j=u,this.i=g,this.l=_,this.R=x||1,this.U=new es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eu}function eu(){this.i=null,this.g="",this.h=!1}var ka={},Qs={};function Ys(u,g,_){u.L=1,u.v=oi(gn(g)),u.m=_,u.P=!0,Pa(u,null)}function Pa(u,g){u.F=Date.now(),Ge(u),u.A=gn(u.v);var _=u.A,x=u.R;Array.isArray(x)||(x=[String(x)]),li(_.i,"t",x),u.C=0,_=u.j.J,u.h=new eu,u.g=vu(u.j,_?g:null,!u.m),0<u.O&&(u.M=new Zi(I(u.Y,u,u.g),u.O)),g=u.U,_=u.g,x=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(wa[0]=B.toString()),B=wa);for(var K=0;K<B.length;K++){var ie=ma(_,B[K],x||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Cr(),is(u.i,u.u,u.A,u.l,u.R,u.m)}Fn.prototype.ca=function(u){u=u.target;const g=this.M;g&&sn(u)==3?g.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)e:{const mt=sn(this.g);var g=this.g.Ba();const Cn=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||La(this.g)))){this.J||mt!=4||g==7||(g==8||0>=Cn?Cr(3):Cr(2)),os(this);var _=this.g.Z();this.X=_;t:if(tu(this)){var x=La(this.g);u="";var B=x.length,K=sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xn(this),ni(this);var ie="";break t}this.h.i=new h.TextDecoder}for(g=0;g<B;g++)this.h.h=!0,u+=this.h.i.decode(x[g],{stream:!(K&&g==B-1)});x.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,Ks(this.i,this.u,this.A,this.l,this.R,mt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Et=this.g;if(($e=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H($e)){var Oe=$e;break t}}Oe=null}if(_=Oe)Mn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ba(this,_);else{this.o=!1,this.s=3,dt(12),xn(this),ni(this);break e}}if(this.P){_=!0;let vn;for(;!this.J&&this.C<ie.length;)if(vn=Dd(this,ie),vn==Qs){mt==4&&(this.s=4,dt(14),_=!1),Mn(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==ka){this.s=4,dt(15),Mn(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else Mn(this.i,this.l,vn,null),ba(this,vn);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||ie.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)Mn(this.i,this.l,ie,"[Invalid Chunked Response]"),xn(this),ni(this);else if(0<ie.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),ja(At),At.M=!0,dt(11))}}else Mn(this.i,this.l,ie,null),ba(this,ie);mt==4&&xn(this),this.o&&!this.J&&(mt==4?ao(this.j,this):(this.o=!1,Ge(this)))}else no(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),xn(this),ni(this)}}}catch{}finally{}};function tu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Dd(u,g){var _=u.C,x=g.indexOf(`
`,_);return x==-1?Qs:(_=Number(g.substring(_,x)),isNaN(_)?ka:(x+=1,x+_>g.length?Qs:(g=g.slice(x,x+_),u.C=x+_,g)))}Fn.prototype.cancel=function(){this.J=!0,xn(this)};function Ge(u){u.S=Date.now()+u.I,nu(u,u.I)}function nu(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ln(I(u.ba,u),g)}function os(u){u.B&&(h.clearTimeout(u.B),u.B=null)}Fn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Aa(this.i,this.A),this.L!=2&&(Cr(),dt(17)),xn(this),this.s=2,ni(this)):nu(this,this.S-u)};function ni(u){u.j.G==0||u.J||ao(u.j,u)}function xn(u){os(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Ea(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function ba(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||Jt(_.h,u))){if(!u.K&&Jt(_.h,u)&&_.G==3){try{var x=_.Da.g.parse(g)}catch{x=null}if(Array.isArray(x)&&x.length==3){var B=x;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)oo(_),Wn(_);else break e;so(_),dt(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ln(I(_.Za,_),6e3));if(1>=iu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else br(_,11)}else if((u.K||_.g==u)&&oo(_),!H(g))for(B=_.Da.g.parse(g),g=0;g<B.length;g++){let Oe=B[g];if(_.T=Oe[0],Oe=Oe[1],_.G==2)if(Oe[0]=="c"){_.K=Oe[1],_.ia=Oe[2];const At=Oe[3];At!=null&&(_.la=At,_.j.info("VER="+_.la));const mt=Oe[4];mt!=null&&(_.Aa=mt,_.j.info("SVER="+_.Aa));const Cn=Oe[5];Cn!=null&&typeof Cn=="number"&&0<Cn&&(x=1.5*Cn,_.L=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const vn=u.g;if(vn){const fs=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fs){var K=x.h;K.g||fs.indexOf("spdy")==-1&&fs.indexOf("quic")==-1&&fs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Na(K,K.h),K.h=null))}if(x.D){const uo=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;uo&&(x.ya=uo,He(x.I,x.D,uo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),x=_;var ie=u;if(x.qa=yu(x,x.J?x.ia:null,x.W),ie.K){su(x.h,ie);var $e=ie,Et=x.L;Et&&($e.I=Et),$e.B&&(os($e),Ge($e)),x.g=ie}else hs(x);0<_.i.length&&cr(_)}else Oe[0]!="stop"&&Oe[0]!="close"||br(_,7);else _.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?br(_,7):Ot(_):Oe[0]!="noop"&&_.l&&_.l.ta(Oe),_.v=0)}}Cr(4)}catch{}}var ru=class{constructor(u,g){this.g=u,this.map=g}};function as(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function iu(u){return u.h?1:u.g?u.g.size:0}function Jt(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Na(u,g){u.g?u.g.add(g):u.h=g}function su(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}as.prototype.cancel=function(){if(this.i=ou(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ou(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return D(u.i)}function Xs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],_=u.length,x=0;x<_;x++)g.push(u[x]);return g}g=[],_=0;for(x in u)g[_++]=u[x];return g}function Js(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const x in u)g[_++]=x;return g}}}function ri(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=Js(u),x=Xs(u),B=x.length,K=0;K<B;K++)g.call(void 0,x[K],_&&_[K],u)}var ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vd(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var x=u[_].indexOf("="),B=null;if(0<=x){var K=u[_].substring(0,x);B=u[_].substring(x+1)}else K=u[_];g(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Rr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Rr){this.h=u.h,us(this,u.j),this.o=u.o,this.g=u.g,ii(this,u.s),this.l=u.l;var g=u.i,_=new ar;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),si(this,_),this.m=u.m}else u&&(g=String(u).match(ls))?(this.h=!1,us(this,g[1]||"",!0),this.o=De(g[2]||""),this.g=De(g[3]||"",!0),ii(this,g[4]),this.l=De(g[5]||"",!0),si(this,g[6]||"",!0),this.m=De(g[7]||"")):(this.h=!1,this.i=new ar(null,this.h))}Rr.prototype.toString=function(){var u=[],g=this.j;g&&u.push(ai(g,Zs,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ai(g,Zs,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ai(_,_.charAt(0)=="/"?uu:lu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ai(_,Da)),u.join("")};function gn(u){return new Rr(u)}function us(u,g,_){u.j=_?De(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ii(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function si(u,g,_){g instanceof ar?(u.i=g,lr(u.i,u.h)):(_||(g=ai(g,cu)),u.i=new ar(g,u.h))}function He(u,g,_){u.i.set(g,_)}function oi(u){return He(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function De(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ai(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,au),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function au(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zs=/[#\/\?@]/g,lu=/[#\?:]/g,uu=/[#\?]/g,cu=/[#\?@]/g,Da=/#/g;function ar(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Vt(u){u.g||(u.g=new Map,u.h=0,u.i&&Vd(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=ar.prototype,n.add=function(u,g){Vt(this),this.i=null,u=Sn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Un(u,g){Vt(u),g=Sn(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function zn(u,g){return Vt(u),g=Sn(u,g),u.g.has(g)}n.forEach=function(u,g){Vt(this),this.g.forEach(function(_,x){_.forEach(function(B){u.call(g,B,x,this)},this)},this)},n.na=function(){Vt(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let x=0;x<g.length;x++){const B=u[x];for(let K=0;K<B.length;K++)_.push(g[x])}return _},n.V=function(u){Vt(this);let g=[];if(typeof u=="string")zn(this,u)&&(g=g.concat(this.g.get(Sn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},n.set=function(u,g){return Vt(this),this.i=null,u=Sn(this,u),zn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function li(u,g,_){Un(u,g),0<_.length&&(u.i=null,u.g.set(Sn(u,g),D(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var x=g[_];const K=encodeURIComponent(String(x)),ie=this.V(x);for(x=0;x<ie.length;x++){var B=K;ie[x]!==""&&(B+="="+encodeURIComponent(String(ie[x]))),u.push(B)}}return this.i=u.join("&")};function Sn(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function lr(u,g){g&&!u.j&&(Vt(u),u.i=null,u.g.forEach(function(_,x){var B=x.toLowerCase();x!=B&&(Un(this,x),li(this,B,_))},u)),u.j=g}function Od(u,g){const _=new rs;if(h.Image){const x=new Image;x.onload=S(rn,_,"TestLoadImage: loaded",!0,g,x),x.onerror=S(rn,_,"TestLoadImage: error",!1,g,x),x.onabort=S(rn,_,"TestLoadImage: abort",!1,g,x),x.ontimeout=S(rn,_,"TestLoadImage: timeout",!1,g,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else g(!1)}function du(u,g){const _=new rs,x=new AbortController,B=setTimeout(()=>{x.abort(),rn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:x.signal}).then(K=>{clearTimeout(B),K.ok?rn(_,"TestPingServer: ok",!0,g):rn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),rn(_,"TestPingServer: error",!1,g)})}function rn(u,g,_,x,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),x(_)}catch{}}function Ld(){this.g=new xa}function hu(u,g,_){const x=_||"";try{ri(u,function(B,K){let ie=B;m(B)&&(ie=Ia(B)),g.push(x+K+"="+encodeURIComponent(ie))})}catch(B){throw g.push(x+"type="+encodeURIComponent("_badmap")),B}}function Ar(u){this.l=u.Ub||null,this.j=u.eb||!1}R(Ar,ts),Ar.prototype.g=function(){return new cs(this.l,this.j)},Ar.prototype.i=function(u){return function(){return u}}({});function cs(u,g){_t.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(cs,_t),n=cs.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,$n(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function fu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Bn(this):$n(this),this.readyState==3&&fu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Bn(this))},n.Qa=function(u){this.g&&(this.response=u,Bn(this))},n.ga=function(){this.g&&Bn(this)};function Bn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$n(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function kr(u){let g="";return me(u,function(_,x){g+=x,g+=":",g+=_,g+=`\r
`}),g}function ui(u,g,_){e:{for(x in _){var x=!1;break e}x=!0}x||(_=kr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):He(u,g,_))}function et(u){_t.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(et,_t);var Md=/^https?$/i,Va=["POST","PUT"];n=et.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?$s(this.o):$s(jn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(K){ds(this,K);return}if(u=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var B in x)_.set(B,x[B]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const K of x.keys())_.set(K,x.get(K));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),B=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Va,g,void 0))||x||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ie]of _)this.g.setRequestHeader(K,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{to(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){ds(this,K)}};function ds(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,eo(u),yn(u)}function eo(u){u.A||(u.A=!0,wt(u,"complete"),wt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,wt(this,"complete"),wt(this,"abort"),yn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yn(this,!0)),et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Oa(this):this.bb())},n.bb=function(){Oa(this)};function Oa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||sn(u)!=4||u.Z()!=2)){if(u.u&&sn(u)==4)_a(u.Ea,0,u);else if(wt(u,"readystatechange"),sn(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var x;if(x=ie===0){var B=String(u.D).match(ls)[1]||null;!B&&h.self&&h.self.location&&(B=h.self.location.protocol.slice(0,-1)),x=!Md.test(B?B.toLowerCase():"")}_=x}if(_)wt(u,"complete"),wt(u,"success");else{u.m=6;try{var K=2<sn(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",eo(u)}}finally{yn(u)}}}}function yn(u,g){if(u.g){to(u);const _=u.g,x=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||wt(u,"ready");try{_.onreadystatechange=x}catch{}}}function to(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function sn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<sn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Ta(g)}};function La(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function no(u){const g={};u=(u.g&&2<=sn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(H(u[x]))continue;var _=j(u[x]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=g[B]||[];g[B]=K,K.push(_)}L(g,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ur(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Ma(u){this.Aa=0,this.i=[],this.j=new rs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ur("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ur("baseRetryDelayMs",5e3,u),this.cb=ur("retryDelaySeedMs",1e4,u),this.Wa=ur("forwardChannelMaxRetries",2,u),this.wa=ur("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new as(u&&u.concurrentRequestLimit),this.Da=new Ld,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ma.prototype,n.la=8,n.G=1,n.connect=function(u,g,_,x){dt(0),this.W=u,this.H=g||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.I=yu(this,null,this.W),cr(this)};function Ot(u){if(ro(u),u.G==3){var g=u.U++,_=gn(u.I);if(He(_,"SID",u.K),He(_,"RID",g),He(_,"TYPE","terminate"),Pr(u,_),g=new Fn(u,u.j,g),g.L=2,g.v=oi(gn(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=vu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ge(g)}gu(u)}function Wn(u){u.g&&(ja(u),u.g.cancel(),u.g=null)}function ro(u){Wn(u),u.u&&(h.clearTimeout(u.u),u.u=null),oo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function cr(u){if(!mn(u.h)&&!u.s){u.s=!0;var g=u.Ga;Ae||se(),ne||(Ae(),ne=!0),he.add(g,u),u.B=0}}function jd(u,g){return iu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ln(I(u.Ga,u,g),mu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new Fn(this,this.j,u);let K=this.o;if(this.S&&(K?(K=A(K),O(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(g+=x,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ci(this,B,g),_=gn(this.I),He(_,"RID",u),He(_,"CVER",22),this.D&&He(_,"X-HTTP-Session-Id",this.D),Pr(this,_),K&&(this.O?g="headers="+encodeURIComponent(String(kr(K)))+"&"+g:this.m&&ui(_,this.m,K)),Na(this.h,B),this.Ua&&He(_,"TYPE","init"),this.P?(He(_,"$req",g),He(_,"SID","null"),B.T=!0,Ys(B,_,null)):Ys(B,_,g),this.G=2}}else this.G==3&&(u?io(this,u):this.i.length==0||mn(this.h)||io(this))};function io(u,g){var _;g?_=g.l:_=u.U++;const x=gn(u.I);He(x,"SID",u.K),He(x,"RID",_),He(x,"AID",u.T),Pr(u,x),u.m&&u.o&&ui(x,u.m,u.o),_=new Fn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=ci(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Na(u.h,_),Ys(_,x,g)}function Pr(u,g){u.H&&me(u.H,function(_,x){He(g,x,_)}),u.l&&ri({},function(_,x){He(g,x,_)})}function ci(u,g,_){_=Math.min(u.i.length,_);var x=u.l?I(u.l.Na,u.l,u):null;e:{var B=u.i;let K=-1;for(;;){const ie=["count="+_];K==-1?0<_?(K=B[0].g,ie.push("ofs="+K)):K=0:ie.push("ofs="+K);let $e=!0;for(let Et=0;Et<_;Et++){let Oe=B[Et].g;const At=B[Et].map;if(Oe-=K,0>Oe)K=Math.max(0,B[Et].g-100),$e=!1;else try{hu(At,ie,"req"+Oe+"_")}catch{x&&x(At)}}if($e){x=ie.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,x}function hs(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;Ae||se(),ne||(Ae(),ne=!0),he.add(g,u),u.v=0}}function so(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ln(I(u.Fa,u),mu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ln(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Wn(this),pu(this))};function ja(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function pu(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=gn(u.qa);He(g,"RID","rpc"),He(g,"SID",u.K),He(g,"AID",u.T),He(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&He(g,"TO",u.ja),He(g,"TYPE","xmlhttp"),Pr(u,g),u.m&&u.o&&ui(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=oi(gn(g)),_.m=null,_.P=!0,Pa(_,u)}n.Za=function(){this.C!=null&&(this.C=null,Wn(this),so(this),dt(19))};function oo(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function ao(u,g){var _=null;if(u.g==g){oo(u),ja(u),u.g=null;var x=2}else if(Jt(u.h,g))_=g.D,su(u.h,g),x=1;else return;if(u.G!=0){if(g.o)if(x==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var B=u.B;x=ns(),wt(x,new qs(x,_)),cr(u)}else hs(u);else if(B=g.s,B==3||B==0&&0<g.X||!(x==1&&jd(u,g)||x==2&&so(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),B){case 1:br(u,5);break;case 4:br(u,10);break;case 3:br(u,6);break;default:br(u,2)}}}function mu(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function br(u,g){if(u.j.info("Error code "+g),g==2){var _=I(u.fb,u),x=u.Xa;const B=!x;x=new Rr(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||us(x,"https"),oi(x),B?Od(x.toString(),_):du(x.toString(),_)}else dt(2);u.G=0,u.l&&u.l.sa(g),gu(u),ro(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function gu(u){if(u.G=0,u.ka=[],u.l){const g=ou(u.h);(g.length!=0||u.i.length!=0)&&(V(u.ka,g),V(u.ka,u.i),u.h.i.length=0,D(u.i),u.i.length=0),u.l.ra()}}function yu(u,g,_){var x=_ instanceof Rr?gn(_):new Rr(_);if(x.g!="")g&&(x.g=g+"."+x.g),ii(x,x.s);else{var B=h.location;x=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;var K=new Rr(null);x&&us(K,x),g&&(K.g=g),B&&ii(K,B),_&&(K.l=_),x=K}return _=u.D,g=u.ya,_&&g&&He(x,_,g),He(x,"VER",u.la),Pr(u,x),x}function vu(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new et(new Ar({eb:_})):new et(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fa(){}n=Fa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function lo(){}lo.prototype.g=function(u,g){return new Zt(u,g)};function Zt(u,g){_t.call(this),this.g=new Ma(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!H(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!H(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new dr(this)}R(Zt,_t),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){Ot(this.g)},Zt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Ia(u),u=_);g.i.push(new ru(g.Ya++,u)),g.G==3&&cr(g)},Zt.prototype.N=function(){this.g.l=null,delete this.j,Ot(this.g),delete this.g,Zt.aa.N.call(this)};function _u(u){sr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}R(_u,sr);function wu(){Hs.call(this),this.status=1}R(wu,Hs);function dr(u){this.g=u}R(dr,Fa),dr.prototype.ua=function(){wt(this.g,"a")},dr.prototype.ta=function(u){wt(this.g,new _u(u))},dr.prototype.sa=function(u){wt(this.g,new wu)},dr.prototype.ra=function(){wt(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,V0=function(){return new lo},D0=function(){return ns()},N0=or,Vf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gs.NO_ERROR=0,Gs.TIMEOUT=8,Gs.HTTP_ERROR=6,Ac=Gs,Zl.COMPLETE="complete",b0=Zl,Ws.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",_t.prototype.listen=_t.prototype.K,gl=Ws,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,P0=et}).apply(typeof gc<"u"?gc:typeof self<"u"?self:typeof window<"u"?window:{});const cv="@firebase/firestore",dv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new hp("@firebase/firestore");function No(){return bs.logLevel}function le(n,...e){if(bs.logLevel<=be.DEBUG){const t=e.map(Tp);bs.debug(`Firestore (${aa}): ${n}`,...t)}}function Yr(n,...e){if(bs.logLevel<=be.ERROR){const t=e.map(Tp);bs.error(`Firestore (${aa}): ${n}`,...t)}}function qo(n,...e){if(bs.logLevel<=be.WARN){const t=e.map(Tp);bs.warn(`Firestore (${aa}): ${n}`,...t)}}function Tp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,O0(n,i,t)}function O0(n,e,t){let i=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Yr(i),new Error(i)}function ze(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||O0(e,o,i)}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gt.UNAUTHENTICATED))}shutdown(){}}class $R{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class WR{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new qr,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},h=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qr)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ze(typeof i.accessToken=="string",31837,{l:i}),new L0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class HR{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qR{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new HR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ze(this.o===void 0,3512);const i=a=>{a.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new hv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=GR(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%62))}return i}}function Re(n,e){return n<e?-1:n>e?1:0}function Of(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),o=e.codePointAt(t);if(i!==o){if(i<128&&o<128)return Re(i,o);{const a=M0(),c=QR(a.encode(fv(n,t)),a.encode(fv(e,t)));return c!==0?c:Re(i,o)}}t+=i>65535?2:1}return Re(n.length,e.length)}function fv(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function QR(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Re(n[t],e[t]);return Re(n.length,e.length)}function Ko(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=-62135596800,mv=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*mv);return new St(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<pv)throw new ue(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mv}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-pv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new St(0,0))}static max(){return new Te(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="__name__";class gr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ee(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=gr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Re(e.length,t.length)}static compareSegments(e,t){const i=gr.isNumericId(e),o=gr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?gr.extractNumericId(e).compare(gr.extractNumericId(t)):Of(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mi.fromString(e.substring(4,e.length-2))}}class Ze extends gr{construct(e,t,i){return new Ze(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ue(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Ze(t)}static emptyPath(){return new Ze([])}}const YR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends gr{construct(e,t,i){return new Ut(e,t,i)}static isValidIdentifier(e){return YR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gv}static keyField(){return new Ut([gv])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new ue(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new ue(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(i+=h,o++):(a(),o++)}if(a(),c)throw new ue(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(t)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Ze.fromString(e))}static fromName(e){return new ve(Ze.fromString(e).popFirst(5))}static empty(){return new ve(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=-1;function XR(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(i===1e9?new St(t+1,0):new St(t,i));return new Ui(o,ve.empty(),e)}function JR(n){return new Ui(n.readTime,n.key,bl)}class Ui{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ui(Te.min(),ve.empty(),bl)}static max(){return new Ui(Te.max(),ve.empty(),bl)}}function ZR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Re(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==eA)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,i)=>{t(e)})}static reject(e){return new X((t,i)=>{i(e)})}static waitFor(e){return new X((t,i)=>{let o=0,a=0,c=!1;e.forEach(h=>{++o,h.next(()=>{++a,c&&a===o&&t()},p=>i(p))}),c=!0,a===o&&t()})}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next(o=>o?X.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new X((i,o)=>{const a=e.length,c=new Array(a);let h=0;for(let p=0;p<a;p++){const m=p;t(e[m]).next(w=>{c[m]=w,++h,h===a&&i(c)},w=>o(w))}})}static doWhile(e,t){return new X((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function nA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ua(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}hd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=-1;function fd(n){return n==null}function Wc(n){return n===0&&1/n==-1/0}function rA(n){return typeof n=="number"&&Number.isInteger(n)&&!Wc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="";function iA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=yv(e)),e=sA(n.get(t),e);return yv(e)}function sA(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case F0:t+="";break;default:t+=a}}return t}function yv(n){return n+F0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function U0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this.comparator=e,this.root=t||jt.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yc(this.root,e,this.comparator,!0)}}class yc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??jt.RED,this.left=o??jt.EMPTY,this.right=a??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new jt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return jt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,i,o,a){return this}insert(e,t,i){return new jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _v(this.data.getIterator())}getIteratorFrom(e){return new _v(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ct(this.comparator);return t.data=e,t}}class _v{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new In([])}unionWith(e){let t=new Ct(Ut.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new In(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new z0("Invalid base64 string: "+a):a}}(e);return new zt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const oA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(n){if(ze(!!n,39018),typeof n=="string"){let e=0;const t=oA.exec(n);if(ze(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Bi(n){return typeof n=="string"?zt.fromBase64String(n):zt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="server_timestamp",$0="__type__",W0="__previous_value__",H0="__local_write_time__";function Sp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[$0])===null||t===void 0?void 0:t.stringValue)===B0}function pd(n){const e=n.mapValue.fields[W0];return Sp(e)?pd(e):e}function Nl(n){const e=zi(n.mapValue.fields[H0].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,t,i,o,a,c,h,p,m,w){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=w}}const Hc="(default)";class Dl{constructor(e,t){this.projectId=e,this.database=t||Hc}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="__type__",lA="__max__",vc={mapValue:{}},K0="__vector__",qc="value";function $i(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sp(n)?4:cA(n)?9007199254740991:uA(n)?10:11:Ee(28295,{value:n})}function Er(n,e){if(n===e)return!0;const t=$i(n);if(t!==$i(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Nl(n).isEqual(Nl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=zi(o.timestampValue),h=zi(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Bi(o.bytesValue).isEqual(Bi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return ft(o.geoPointValue.latitude)===ft(a.geoPointValue.latitude)&&ft(o.geoPointValue.longitude)===ft(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return ft(o.integerValue)===ft(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=ft(o.doubleValue),h=ft(a.doubleValue);return c===h?Wc(c)===Wc(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return Ko(n.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(vv(c)!==vv(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!Er(c[p],h[p])))return!1;return!0}(n,e);default:return Ee(52216,{left:n})}}function Vl(n,e){return(n.values||[]).find(t=>Er(t,e))!==void 0}function Go(n,e){if(n===e)return 0;const t=$i(n),i=$i(e);if(t!==i)return Re(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Re(n.booleanValue,e.booleanValue);case 2:return function(a,c){const h=ft(a.integerValue||a.doubleValue),p=ft(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return wv(n.timestampValue,e.timestampValue);case 4:return wv(Nl(n),Nl(e));case 5:return Of(n.stringValue,e.stringValue);case 6:return function(a,c){const h=Bi(a),p=Bi(c);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const h=a.split("/"),p=c.split("/");for(let m=0;m<h.length&&m<p.length;m++){const w=Re(h[m],p[m]);if(w!==0)return w}return Re(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const h=Re(ft(a.latitude),ft(c.latitude));return h!==0?h:Re(ft(a.longitude),ft(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Ev(n.arrayValue,e.arrayValue);case 10:return function(a,c){var h,p,m,w;const E=a.fields||{},I=c.fields||{},S=(h=E[qc])===null||h===void 0?void 0:h.arrayValue,R=(p=I[qc])===null||p===void 0?void 0:p.arrayValue,D=Re(((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0,((w=R==null?void 0:R.values)===null||w===void 0?void 0:w.length)||0);return D!==0?D:Ev(S,R)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===vc.mapValue&&c===vc.mapValue)return 0;if(a===vc.mapValue)return 1;if(c===vc.mapValue)return-1;const h=a.fields||{},p=Object.keys(h),m=c.fields||{},w=Object.keys(m);p.sort(),w.sort();for(let E=0;E<p.length&&E<w.length;++E){const I=Of(p[E],w[E]);if(I!==0)return I;const S=Go(h[p[E]],m[w[E]]);if(S!==0)return S}return Re(p.length,w.length)}(n.mapValue,e.mapValue);default:throw Ee(23264,{Pe:t})}}function wv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Re(n,e);const t=zi(n),i=zi(e),o=Re(t.seconds,i.seconds);return o!==0?o:Re(t.nanos,i.nanos)}function Ev(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=Go(t[o],i[o]);if(a)return a}return Re(t.length,i.length)}function Qo(n){return Lf(n)}function Lf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=zi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Bi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Lf(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${Lf(t.fields[c])}`;return o+"}"}(n.mapValue):Ee(61005,{value:n})}function kc(n){switch($i(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pd(n);return e?16+kc(e):16;case 5:return 2*n.stringValue.length;case 6:return Bi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+kc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Qi(i.fields,(a,c)=>{o+=a.length+kc(c)}),o}(n.mapValue);default:throw Ee(13486,{value:n})}}function Iv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Mf(n){return!!n&&"integerValue"in n}function Cp(n){return!!n&&"arrayValue"in n}function Tv(n){return!!n&&"nullValue"in n}function xv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pc(n){return!!n&&"mapValue"in n}function uA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[q0])===null||t===void 0?void 0:t.stringValue)===K0}function Il(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Qi(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Il(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Il(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Pc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Il(t)}setAll(e){let t=Ut.emptyPath(),i={},o=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=h.popLast()}c?i[h.lastSegment()]=Il(c):o.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Pc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Pc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Qi(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new fn(Il(this.value))}}function G0(n){const e=[];return Qi(n.fields,(t,i)=>{const o=new Ut([t]);if(Pc(i)){const a=G0(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,t,i,o,a,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Qt(e,0,Te.min(),Te.min(),Te.min(),fn.empty(),0)}static newFoundDocument(e,t,i,o){return new Qt(e,1,t,Te.min(),i,o,0)}static newNoDocument(e,t){return new Qt(e,2,t,Te.min(),Te.min(),fn.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,Te.min(),Te.min(),fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t){this.position=e,this.inclusive=t}}function Sv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=ve.comparator(ve.fromName(c.referenceValue),t.key):i=Go(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Cv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Er(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t="asc"){this.field=e,this.dir=t}}function dA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{}class vt extends Q0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new fA(e,t,i):t==="array-contains"?new gA(e,i):t==="in"?new yA(e,i):t==="not-in"?new vA(e,i):t==="array-contains-any"?new _A(e,i):new vt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new pA(e,i):new mA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Go(t,this.value)):t!==null&&$i(this.value)===$i(t)&&this.matchesComparison(Go(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends Q0{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new tr(e,t)}matches(e){return Y0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Y0(n){return n.op==="and"}function X0(n){return hA(n)&&Y0(n)}function hA(n){for(const e of n.filters)if(e instanceof tr)return!1;return!0}function jf(n){if(n instanceof vt)return n.field.canonicalString()+n.op.toString()+Qo(n.value);if(X0(n))return n.filters.map(e=>jf(e)).join(",");{const e=n.filters.map(t=>jf(t)).join(",");return`${n.op}(${e})`}}function J0(n,e){return n instanceof vt?function(i,o){return o instanceof vt&&i.op===o.op&&i.field.isEqual(o.field)&&Er(i.value,o.value)}(n,e):n instanceof tr?function(i,o){return o instanceof tr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,h)=>a&&J0(c,o.filters[h]),!0):!1}(n,e):void Ee(19439)}function Z0(n){return n instanceof vt?function(t){return`${t.field.canonicalString()} ${t.op} ${Qo(t.value)}`}(n):n instanceof tr?function(t){return t.op.toString()+" {"+t.getFilters().map(Z0).join(" ,")+"}"}(n):"Filter"}class fA extends vt{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class pA extends vt{constructor(e,t){super(e,"in",t),this.keys=ew("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mA extends vt{constructor(e,t){super(e,"not-in",t),this.keys=ew("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ew(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ve.fromName(i.referenceValue))}class gA extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cp(t)&&Vl(t.arrayValue,this.value)}}class yA extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Vl(this.value.arrayValue,t)}}class vA extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Vl(this.value.arrayValue,t)}}class _A extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Vl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,t=null,i=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.Ie=null}}function Rv(n,e=null,t=[],i=[],o=null,a=null,c=null){return new wA(n,e,t,i,o,a,c)}function Rp(n){const e=xe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>jf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),fd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Qo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Qo(i)).join(",")),e.Ie=t}return e.Ie}function Ap(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!J0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Cv(n.startAt,e.startAt)&&Cv(n.endAt,e.endAt)}function Ff(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,t=null,i=[],o=[],a=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function EA(n,e,t,i,o,a,c,h){return new ca(n,e,t,i,o,a,c,h)}function kp(n){return new ca(n)}function Av(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function tw(n){return n.collectionGroup!==null}function Tl(n){const e=xe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ct(Ut.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Ol(a,i))}),t.has(Ut.keyField().canonicalString())||e.Ee.push(new Ol(Ut.keyField(),i))}return e.Ee}function _r(n){const e=xe(n);return e.de||(e.de=IA(e,Tl(n))),e.de}function IA(n,e){if(n.limitType==="F")return Rv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Ol(o.field,a)});const t=n.endAt?new Kc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Kc(n.startAt.position,n.startAt.inclusive):null;return Rv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Uf(n,e){const t=n.filters.concat([e]);return new ca(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function zf(n,e,t){return new ca(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function md(n,e){return Ap(_r(n),_r(e))&&n.limitType===e.limitType}function nw(n){return`${Rp(_r(n))}|lt:${n.limitType}`}function Do(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>Z0(o)).join(", ")}]`),fd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Qo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Qo(o)).join(",")),`Target(${i})`}(_r(n))}; limitType=${n.limitType})`}function gd(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):ve.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of Tl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,h,p){const m=Sv(c,h,p);return c.inclusive?m<=0:m<0}(i.startAt,Tl(i),o)||i.endAt&&!function(c,h,p){const m=Sv(c,h,p);return c.inclusive?m>=0:m>0}(i.endAt,Tl(i),o))}(n,e)}function TA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rw(n){return(e,t)=>{let i=!1;for(const o of Tl(n)){const a=xA(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function xA(n,e,t){const i=n.field.isKeyField()?ve.comparator(e.key,t.key):function(a,c,h){const p=c.data.field(a),m=h.data.field(a);return p!==null&&m!==null?Go(p,m):Ee(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ee(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return U0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new lt(ve.comparator);function Xr(){return SA}const iw=new lt(ve.comparator);function yl(...n){let e=iw;for(const t of n)e=e.insert(t.key,t);return e}function sw(n){let e=iw;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Rs(){return xl()}function ow(){return xl()}function xl(){return new Vs(n=>n.toString(),(n,e)=>n.isEqual(e))}const CA=new lt(ve.comparator),RA=new Ct(ve.comparator);function Ne(...n){let e=RA;for(const t of n)e=e.add(t);return e}const AA=new Ct(Re);function kA(){return AA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(e)?"-0":e}}function aw(n){return{integerValue:""+n}}function PA(n,e){return rA(e)?aw(e):Pp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this._=void 0}}function bA(n,e,t){return n instanceof Gc?function(o,a){const c={fields:{[$0]:{stringValue:B0},[H0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Sp(a)&&(a=pd(a)),a&&(c.fields[W0]=a),{mapValue:c}}(t,e):n instanceof Ll?uw(n,e):n instanceof Ml?cw(n,e):function(o,a){const c=lw(o,a),h=kv(c)+kv(o.Re);return Mf(c)&&Mf(o.Re)?aw(h):Pp(o.serializer,h)}(n,e)}function NA(n,e,t){return n instanceof Ll?uw(n,e):n instanceof Ml?cw(n,e):t}function lw(n,e){return n instanceof Qc?function(i){return Mf(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Gc extends yd{}class Ll extends yd{constructor(e){super(),this.elements=e}}function uw(n,e){const t=dw(e);for(const i of n.elements)t.some(o=>Er(o,i))||t.push(i);return{arrayValue:{values:t}}}class Ml extends yd{constructor(e){super(),this.elements=e}}function cw(n,e){let t=dw(e);for(const i of n.elements)t=t.filter(o=>!Er(o,i));return{arrayValue:{values:t}}}class Qc extends yd{constructor(e,t){super(),this.serializer=e,this.Re=t}}function kv(n){return ft(n.integerValue||n.doubleValue)}function dw(n){return Cp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function DA(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Ll&&o instanceof Ll||i instanceof Ml&&o instanceof Ml?Ko(i.elements,o.elements,Er):i instanceof Qc&&o instanceof Qc?Er(i.Re,o.Re):i instanceof Gc&&o instanceof Gc}(n.transform,e.transform)}class VA{constructor(e,t){this.version=e,this.transformResults=t}}class Dn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class vd{}function hw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new bp(n.key,Dn.none()):new Kl(n.key,n.data,Dn.none());{const t=n.data,i=fn.empty();let o=new Ct(Ut.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new Yi(n.key,i,new In(o.toArray()),Dn.none())}}function OA(n,e,t){n instanceof Kl?function(o,a,c){const h=o.value.clone(),p=bv(o.fieldTransforms,a,c.transformResults);h.setAll(p),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Yi?function(o,a,c){if(!bc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=bv(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(fw(o)),p.setAll(h),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Sl(n,e,t,i){return n instanceof Kl?function(a,c,h,p){if(!bc(a.precondition,c))return h;const m=a.value.clone(),w=Nv(a.fieldTransforms,p,c);return m.setAll(w),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof Yi?function(a,c,h,p){if(!bc(a.precondition,c))return h;const m=Nv(a.fieldTransforms,p,c),w=c.data;return w.setAll(fw(a)),w.setAll(m),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(a,c,h){return bc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function LA(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=lw(i.transform,o||null);a!=null&&(t===null&&(t=fn.empty()),t.set(i.field,a))}return t||null}function Pv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ko(i,o,(a,c)=>DA(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Kl extends vd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Yi extends vd{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function fw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function bv(n,e,t){const i=new Map;ze(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,h=e.data.field(a.field);i.set(a.field,NA(c,h,t[o]))}return i}function Nv(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,bA(a,c,e))}return i}class bp extends vd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MA extends vd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&OA(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Sl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Sl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=ow();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(o.key)?null:h;const p=hw(c,h);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Te.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,(t,i)=>Pv(t,i))&&Ko(this.baseMutations,e.baseMutations,(t,i)=>Pv(t,i))}}class Np{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){ze(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let o=function(){return CA}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new Np(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Le;function zA(n){switch(n){case Y.OK:return Ee(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Ee(15467,{code:n})}}function pw(n){if(n===void 0)return Yr("GRPC error has no .code"),Y.UNKNOWN;switch(n){case yt.OK:return Y.OK;case yt.CANCELLED:return Y.CANCELLED;case yt.UNKNOWN:return Y.UNKNOWN;case yt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case yt.INTERNAL:return Y.INTERNAL;case yt.UNAVAILABLE:return Y.UNAVAILABLE;case yt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case yt.NOT_FOUND:return Y.NOT_FOUND;case yt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case yt.ABORTED:return Y.ABORTED;case yt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case yt.DATA_LOSS:return Y.DATA_LOSS;default:return Ee(39323,{code:n})}}(Le=yt||(yt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=new Mi([4294967295,4294967295],0);function Dv(n){const e=M0().encode(n),t=new k0;return t.update(e),new Uint8Array(t.digest())}function Vv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Mi([t,i],0),new Mi([o,a],0)]}class Dp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new vl(`Invalid padding: ${t}`);if(i<0)throw new vl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new vl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Mi.fromNumber(this.pe)}we(e,t,i){let o=e.add(t.multiply(Mi.fromNumber(i)));return o.compare(BA)===1&&(o=new Mi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Dv(e),[i,o]=Vv(t);for(let a=0;a<this.hashCount;a++){const c=this.we(i,o,a);if(!this.be(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Dp(a,o,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.pe===0)return;const t=Dv(e),[i,o]=Vv(t);for(let a=0;a<this.hashCount;a++){const c=this.we(i,o,a);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Gl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new _d(Te.min(),o,new lt(Re),Xr(),Ne())}}class Gl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Gl(i,t,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t,i,o){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=o}}class mw{constructor(e,t){this.targetId=e,this.Ce=t}}class gw{constructor(e,t,i=zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Ov{constructor(){this.Fe=0,this.Me=Lv(),this.xe=zt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ne(),t=Ne(),i=Ne();return this.Me.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ee(38017,{changeType:a})}}),new Gl(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=Lv()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class $A{constructor(e){this.ze=e,this.je=new Map,this.He=Xr(),this.Je=_c(),this.Ye=_c(),this.Ze=new lt(Re)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,i=e.Ce.count,o=this._t(t);if(o){const a=o.target;if(Ff(a))if(i===0){const c=new ve(a.path);this.tt(t,c,Qt.newNoDocument(c,Te.min()))}else ze(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const h=this.ct(e),p=h?this.lt(h,e,c):1;if(p!==0){this.st(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,h;try{c=Bi(i).toUint8Array()}catch(p){if(p instanceof z0)return qo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new Dp(c,o,a)}catch(p){return qo(p instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.pe===0?null:h}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.ze.Pt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,a,null),o++)}),o}It(e){const t=new Map;this.je.forEach((a,c)=>{const h=this._t(c);if(h){if(a.current&&Ff(h.target)){const p=new ve(h.target.path);this.Et(p).has(c)||this.dt(c,p)||this.tt(c,p,Qt.newNoDocument(p,e))}a.Le&&(t.set(c,a.qe()),a.Qe())}});let i=Ne();this.Ye.forEach((a,c)=>{let h=!0;c.forEachWhile(p=>{const m=this._t(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(a))}),this.He.forEach((a,c)=>c.setReadTime(e));const o=new _d(e,t,this.Ze,this.He,i);return this.He=Xr(),this.Je=_c(),this.Ye=_c(),this.Ze=new lt(Re),o}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Ov,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ct(Re),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ct(Re),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ov),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function _c(){return new lt(ve.comparator)}function Lv(){return new lt(ve.comparator)}const WA={asc:"ASCENDING",desc:"DESCENDING"},HA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qA={and:"AND",or:"OR"};class KA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Bf(n,e){return n.useProto3Json||fd(e)?e:{value:e}}function Yc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function GA(n,e){return Yc(n,e.toTimestamp())}function wr(n){return ze(!!n,49232),Te.fromTimestamp(function(t){const i=zi(t);return new St(i.seconds,i.nanos)}(n))}function Vp(n,e){return $f(n,e).canonicalString()}function $f(n,e){const t=function(o){return new Ze(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function vw(n){const e=Ze.fromString(n);return ze(Tw(e),10190,{key:e.toString()}),e}function Wf(n,e){return Vp(n.databaseId,e.path)}function _f(n,e){const t=vw(e);if(t.get(1)!==n.databaseId.projectId)throw new ue(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ue(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(ww(t))}function _w(n,e){return Vp(n.databaseId,e)}function QA(n){const e=vw(n);return e.length===4?Ze.emptyPath():ww(e)}function Hf(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ww(n){return ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Mv(n,e,t){return{name:Wf(n,e),fields:t.value.mapValue.fields}}function YA(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ee(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,w){return m.useProto3Json?(ze(w===void 0||typeof w=="string",58123),zt.fromBase64String(w||"")):(ze(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),zt.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(m){const w=m.code===void 0?Y.UNKNOWN:pw(m.code);return new ue(w,m.message||"")}(c);t=new gw(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=_f(n,i.document.name),a=wr(i.document.updateTime),c=i.document.createTime?wr(i.document.createTime):Te.min(),h=new fn({mapValue:{fields:i.document.fields}}),p=Qt.newFoundDocument(o,a,c,h),m=i.targetIds||[],w=i.removedTargetIds||[];t=new Nc(m,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=_f(n,i.document),a=i.readTime?wr(i.readTime):Te.min(),c=Qt.newNoDocument(o,a),h=i.removedTargetIds||[];t=new Nc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=_f(n,i.document),a=i.removedTargetIds||[];t=new Nc([],a,o,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new UA(o,a),h=i.targetId;t=new mw(h,c)}}return t}function XA(n,e){let t;if(e instanceof Kl)t={update:Mv(n,e.key,e.value)};else if(e instanceof bp)t={delete:Wf(n,e.key)};else if(e instanceof Yi)t={update:Mv(n,e.key,e.data),updateMask:ok(e.fieldMask)};else{if(!(e instanceof MA))return Ee(16599,{ft:e.type});t={verify:Wf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const h=c.transform;if(h instanceof Gc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ll)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ml)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Qc)return{fieldPath:c.field.canonicalString(),increment:h.Re};throw Ee(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:GA(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ee(27497)}(n,e.precondition)),t}function JA(n,e){return n&&n.length>0?(ze(e!==void 0,14353),n.map(t=>function(o,a){let c=o.updateTime?wr(o.updateTime):wr(a);return c.isEqual(Te.min())&&(c=wr(a)),new VA(c,o.transformResults||[])}(t,e))):[]}function ZA(n,e){return{documents:[_w(n,e.path)]}}function ek(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=_w(n,o);const a=function(m){if(m.length!==0)return Iw(tr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(m){if(m.length!==0)return m.map(w=>function(I){return{field:Vo(I.field),direction:rk(I.dir)}}(w))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=Bf(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:t,parent:o}}function tk(n){let e=QA(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){ze(i===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let a=[];t.where&&(a=function(E){const I=Ew(E);return I instanceof tr&&X0(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(I=>function(R){return new Ol(Oo(R.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(I))}(t.orderBy));let h=null;t.limit&&(h=function(E){let I;return I=typeof E=="object"?E.value:E,fd(I)?null:I}(t.limit));let p=null;t.startAt&&(p=function(E){const I=!!E.before,S=E.values||[];return new Kc(S,I)}(t.startAt));let m=null;return t.endAt&&(m=function(E){const I=!E.before,S=E.values||[];return new Kc(S,I)}(t.endAt)),EA(e,o,c,a,h,"F",p,m)}function nk(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Ew(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Oo(t.unaryFilter.field);return vt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(t.unaryFilter.field);return vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Oo(t.unaryFilter.field);return vt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Oo(t.unaryFilter.field);return vt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(n):n.fieldFilter!==void 0?function(t){return vt.create(Oo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return tr.create(t.compositeFilter.filters.map(i=>Ew(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(t.compositeFilter.op))}(n):Ee(30097,{filter:n})}function rk(n){return WA[n]}function ik(n){return HA[n]}function sk(n){return qA[n]}function Vo(n){return{fieldPath:n.canonicalString()}}function Oo(n){return Ut.fromServerFormat(n.fieldPath)}function Iw(n){return n instanceof vt?function(t){if(t.op==="=="){if(xv(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NAN"}};if(Tv(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(xv(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NAN"}};if(Tv(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(t.field),op:ik(t.op),value:t.value}}}(n):n instanceof tr?function(t){const i=t.getFilters().map(o=>Iw(o));return i.length===1?i[0]:{compositeFilter:{op:sk(t.op),filters:i}}}(n):Ee(54877,{filter:n})}function ok(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Tw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,t,i,o,a=Te.min(),c=Te.min(),h=zt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.wt=e}}function lk(n){const e=tk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this.Cn=new ck}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Ui.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class ck{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Ct(Ze.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ct(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xw=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(xw,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Yo(0)}static lr(){return new Yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="LruGarbageCollector",dk=1048576;function Uv([n,e],[t,i]){const o=Re(n,t);return o===0?Re(e,i):o}class hk{constructor(e){this.Er=e,this.buffer=new Ct(Uv),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Uv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){le(Fv,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ua(t)?le(Fv,"Ignoring IndexedDB error during garbage collection: ",t):await la(t)}await this.mr(3e5)})}}class pk{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return X.resolve(hd.le);const i=new hk(t);return this.gr.forEachTarget(e,o=>i.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>i.Rr(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(jv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jv):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,o,a,c,h,p,m;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(i=E,h=Date.now(),this.removeTargets(e,i,t))).next(E=>(a=E,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(m=Date.now(),No()<=be.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${a} targets in `+(p-h)+`ms
	Removed ${E} documents in `+(m-p)+`ms
Total Duration: ${m-w}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E})))}}function mk(n,e){return new pk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.changes=new Vs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Sl(i.mutation,o,In.empty(),St.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ne()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ne()){const o=Rs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=yl();return a.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Rs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ne()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,o){let a=Xr();const c=xl(),h=function(){return xl()}();return t.forEach((p,m)=>{const w=i.get(m.key);o.has(m.key)&&(w===void 0||w.mutation instanceof Yi)?a=a.insert(m.key,m):w!==void 0?(c.set(m.key,w.mutation.getFieldMask()),Sl(w.mutation,m,w.mutation.getFieldMask(),St.now())):c.set(m.key,In.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((m,w)=>c.set(m,w)),t.forEach((m,w)=>{var E;return h.set(m,new yk(w,(E=c.get(m))!==null&&E!==void 0?E:null))}),h))}recalculateAndSaveOverlays(e,t){const i=xl();let o=new lt((c,h)=>c-h),a=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let w=i.get(p)||In.empty();w=h.applyToLocalView(m,w),i.set(p,w);const E=(o.get(h.batchId)||Ne()).add(p);o=o.insert(h.batchId,E)})}).next(()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),m=p.key,w=p.value,E=ow();w.forEach(I=>{if(!a.has(I)){const S=hw(t.get(I),i.get(I));S!==null&&E.set(I,S),a=a.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,E))}return X.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):X.resolve(Rs());let h=bl,p=a;return c.next(m=>X.forEach(m,(w,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),a.get(w)?X.resolve():this.remoteDocumentCache.getEntry(e,w).next(I=>{p=p.insert(w,I)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,p,m,Ne())).next(w=>({batchId:h,changes:sw(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(i=>{let o=yl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=yl();return this.indexManager.getCollectionParents(e,a).next(h=>X.forEach(h,p=>{const m=function(E,I){return new ca(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next(w=>{w.forEach((E,I)=>{c=c.insert(E,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((p,m)=>{const w=m.getKey();c.get(w)===null&&(c=c.insert(w,Qt.newInvalidDocument(w)))});let h=yl();return c.forEach((p,m)=>{const w=a.get(p);w!==void 0&&Sl(w.mutation,m,In.empty(),St.now()),gd(t,m)&&(h=h.insert(p,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return X.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:wr(o.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(o){return{name:o.name,query:lk(o.bundledQuery),readTime:wr(o.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(){this.overlays=new lt(ve.comparator),this.Qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Rs();return X.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.St(e,t,a)}),X.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Qr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const o=Rs(),a=t.length+1,c=new ve(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new lt((m,w)=>m-w);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let w=a.get(m.largestBatchId);w===null&&(w=Rs(),a=a.insert(m.largestBatchId,w)),w.set(m.getKey(),m)}}const h=Rs(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,w)=>h.set(m,w)),!(h.size()>=o)););return X.resolve(h)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Qr.get(o.largestBatchId).delete(i.key);this.Qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new FA(t,i));let a=this.Qr.get(t);a===void 0&&(a=Ne(),this.Qr.set(t,a)),this.Qr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.$r=new Ct(Nt.Ur),this.Kr=new Ct(Nt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new Nt(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new Nt(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new ve(new Ze([])),i=new Nt(t,e),o=new Nt(t,e+1),a=[];return this.Kr.forEachInRange([i,o],c=>{this.zr(c),a.push(c.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ve(new Ze([])),i=new Nt(t,e),o=new Nt(t,e+1);let a=Ne();return this.Kr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Nt(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Nt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ve.comparator(e.key,t.key)||Re(e.Zr,t.Zr)}static Wr(e,t){return Re(e.Zr,t.Zr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Ct(Nt.Ur)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new jA(a,t,i,o);this.mutationQueue.push(c);for(const h of o)this.Xr=this.Xr.add(new Nt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(c)}lookupMutationBatch(e,t){return X.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ti(i),a=o<0?0:o;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?xp:this.nr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Nt(t,0),o=new Nt(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([i,o],c=>{const h=this.ei(c.Zr);a.push(h)}),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ct(Re);return t.forEach(o=>{const a=new Nt(o,0),c=new Nt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,c],h=>{i=i.add(h.Zr)})}),X.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;ve.isDocumentKey(a)||(a=a.child(""));const c=new Nt(new ve(a),0);let h=new Ct(Re);return this.Xr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(h=h.add(p.Zr)),!0)},c),X.resolve(this.ni(h))}ni(e){const t=[];return e.forEach(i=>{const o=this.ei(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ze(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return X.forEach(t.mutations,o=>{const a=new Nt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new Nt(t,0),o=this.Xr.firstAfterOrEqual(i);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.ii=e,this.docs=function(){return new lt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let i=Xr();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Qt.newInvalidDocument(o))}),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=Xr();const c=t.path,h=new ve(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:m,value:{document:w}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||ZR(JR(w),i)<=0||(o.has(w.key)||gd(t,w))&&(a=a.insert(w.key,w.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Ee(9500)}si(e,t){return X.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new xk(this)}getSize(e){return X.resolve(this.size)}}class xk extends gk{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Br.addEntry(e,o)):this.Br.removeEntry(i)}),X.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.persistence=e,this.oi=new Vs(t=>Rp(t),Ap),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this._i=0,this.ai=new Op,this.targetCount=0,this.ui=Yo.cr()}forEachTarget(e,t){return this.oi.forEach((i,o)=>t(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),X.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Yo(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Tr(t),X.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.oi.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.oi.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),X.waitFor(a).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),X.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t){this.ci={},this.overlays={},this.li=new hd(0),this.hi=!1,this.hi=!0,this.Pi=new Ek,this.referenceDelegate=e(this),this.Ti=new Sk(this),this.indexManager=new uk,this.remoteDocumentCache=function(o){return new Tk(o)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new ak(t),this.Ei=new _k(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new Ik(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const o=new Ck(this.li.next());return this.referenceDelegate.di(),i(o).next(a=>this.referenceDelegate.Ai(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Ri(e,t){return X.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class Ck extends tA{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.Vi=new Op,this.mi=null}static fi(e){return new Lp(e)}get gi(){if(this.mi)return this.mi;throw Ee(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(o=>this.gi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.gi.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.gi,i=>{const o=ve.fromPath(i);return this.pi(e,o).next(a=>{a||t.removeEntry(o,Te.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return X.or([()=>X.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Xc{constructor(e,t){this.persistence=e,this.yi=new Vs(i=>iA(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=mk(this,t)}static fi(e,t){return new Xc(e,t)}di(){}Ai(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return X.forEach(this.yi,(i,o)=>this.Dr(e,i,o).next(a=>a?X.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.si(e,c=>this.Dr(e,c,t).next(h=>{h||(i++,a.removeEntry(c,Te.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),X.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kc(e.data.value)),t}Dr(e,t,i){return X.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.yi.get(t);return X.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.ds=i,this.As=o}static Rs(e,t){let i=Ne(),o=Ne();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Mp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return a1()?8:nA(Xt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.ws(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.bs(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new Rk;return this.Ss(e,t,c).next(h=>{if(a.result=h,this.fs)return this.Ds(e,t,c,h.size)})}).next(()=>a.result)}Ds(e,t,i,o){return i.documentReadCount<this.gs?(No()<=be.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Do(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),X.resolve()):(No()<=be.DEBUG&&le("QueryEngine","Query:",Do(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ps*o?(No()<=be.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Do(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(t))):X.resolve())}ws(e,t){if(Av(t))return X.resolve(null);let i=_r(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=zf(t,null,"F"),i=_r(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Ne(...a);return this.ys.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.vs(t,h);return this.Cs(t,m,c,p.readTime)?this.ws(e,zf(t,null,"F")):this.Fs(e,m,t,p)}))})))}bs(e,t,i,o){return Av(t)||o.isEqual(Te.min())?X.resolve(null):this.ys.getDocuments(e,i).next(a=>{const c=this.vs(t,a);return this.Cs(t,c,i,o)?X.resolve(null):(No()<=be.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Do(t)),this.Fs(e,c,t,XR(o,bl)).next(h=>h))})}vs(e,t){let i=new Ct(rw(e));return t.forEach((o,a)=>{gd(e,a)&&(i=i.add(a))}),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,i){return No()<=be.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Do(t)),this.ys.getDocumentsMatchingQuery(e,t,Ui.min(),i)}Fs(e,t,i,o){return this.ys.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="LocalStore",kk=3e8;class Pk{constructor(e,t,i,o){this.persistence=e,this.Ms=t,this.serializer=o,this.xs=new lt(Re),this.Os=new Vs(a=>Rp(a),Ap),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vk(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function bk(n,e,t,i){return new Pk(n,e,t,i)}async function Cw(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],h=[];let p=Ne();for(const m of o){c.push(m.batchId);for(const w of m.mutations)p=p.add(w.key)}for(const m of a){h.push(m.batchId);for(const w of m.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(i,p).next(m=>({ks:m,removedBatchIds:c,addedBatchIds:h}))})})}function Nk(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(h,p,m,w){const E=m.batch,I=E.keys();let S=X.resolve();return I.forEach(R=>{S=S.next(()=>w.getEntry(p,R)).next(D=>{const V=m.docVersions.get(R);ze(V!==null,48541),D.version.compareTo(V)<0&&(E.applyToRemoteDocument(D,m),D.isValidDocument()&&(D.setReadTime(m.commitVersion),w.addEntry(D)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(p,E))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let p=Ne();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(p=p.add(h.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function Rw(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function Dk(n,e){const t=xe(n),i=e.snapshotVersion;let o=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});o=t.xs;const h=[];e.targetChanges.forEach((w,E)=>{const I=o.get(E);if(!I)return;h.push(t.Ti.removeMatchingKeys(a,w.removedDocuments,E).next(()=>t.Ti.addMatchingKeys(a,w.addedDocuments,E)));let S=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?S=S.withResumeToken(zt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):w.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(w.resumeToken,i)),o=o.insert(E,S),function(D,V,N){return D.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=kk?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(I,S,w)&&h.push(t.Ti.updateTargetData(a,S))});let p=Xr(),m=Ne();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,w))}),h.push(Vk(a,c,e.documentUpdates).next(w=>{p=w.qs,m=w.Qs})),!i.isEqual(Te.min())){const w=t.Ti.getLastRemoteSnapshotVersion(a).next(E=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(w)}return X.waitFor(h).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,m)).next(()=>p)}).then(a=>(t.xs=o,a))}function Vk(n,e,t){let i=Ne(),o=Ne();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=Xr();return t.forEach((h,p)=>{const m=a.get(h);p.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):le(jp,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",p.version)}),{qs:c,Qs:o}})}function Ok(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=xp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Lk(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Ti.getTargetData(i,e).next(a=>a?(o=a,X.resolve(o)):t.Ti.allocateTargetId(i).next(c=>(o=new Ni(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.xs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function qf(n,e,t){const i=xe(n),o=i.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!ua(c))throw c;le(jp,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(o.target)}function zv(n,e,t){const i=xe(n);let o=Te.min(),a=Ne();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,w){const E=xe(p),I=E.Os.get(w);return I!==void 0?X.resolve(E.xs.get(I)):E.Ti.getTargetData(m,w)}(i,c,_r(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,h.targetId).next(p=>{a=p})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,t?o:Te.min(),t?a:Ne())).next(h=>(Mk(i,TA(e),h),{documents:h,$s:a})))}function Mk(n,e,t){let i=n.Ns.get(e)||Te.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ns.set(e,i)}class Bv{constructor(){this.activeTargetIds=kA()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jk{constructor(){this.xo=new Bv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Bv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="ConnectivityMonitor";class Wv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){le($v,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){le($v,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc=null;function Kf(){return wc===null?wc=function(){return 268435456+Math.round(2147483648*Math.random())}():wc++,"0x"+wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="RestConnection",Uk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zk{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${o}`,this.Go=this.databaseId.database===Hc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}zo(e,t,i,o,a){const c=Kf(),h=this.jo(e,t.toUriEncodedString());le(wf,`Sending RPC '${e}' ${c}:`,h,i);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,a);const{host:m}=new URL(h),w=ra(m);return this.Jo(e,h,p,i,w).then(E=>(le(wf,`Received RPC '${e}' ${c}: `,E),E),E=>{throw qo(wf,`RPC '${e}' ${c} failed with error: `,E,"url: ",h,"request:",i),E})}Yo(e,t,i,o,a,c){return this.zo(e,t,i,o,a)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+aa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}jo(e,t){const i=Uk[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class $k extends zk{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,a){const c=Kf();return new Promise((h,p)=>{const m=new P0;m.setWithCredentials(!0),m.listenOnce(b0.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Ac.NO_ERROR:const E=m.getResponseJson();le(Kt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),h(E);break;case Ac.TIMEOUT:le(Kt,`RPC '${e}' ${c} timed out`),p(new ue(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:const I=m.getStatus();if(le(Kt,`RPC '${e}' ${c} failed with status:`,I,"response text:",m.getResponseText()),I>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S==null?void 0:S.error;if(R&&R.status&&R.message){const D=function(N){const H=N.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(H)>=0?H:Y.UNKNOWN}(R.status);p(new ue(D,R.message))}else p(new ue(Y.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new ue(Y.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{h_:e,streamId:c,P_:m.getLastErrorCode(),T_:m.getLastError()})}}finally{le(Kt,`RPC '${e}' ${c} completed.`)}});const w=JSON.stringify(o);le(Kt,`RPC '${e}' ${c} sending request:`,o),m.send(t,"POST",w,i,15)})}I_(e,t,i){const o=Kf(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=V0(),h=D0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const w=a.join("");le(Kt,`Creating RPC '${e}' stream ${o}: ${w}`,p);const E=c.createWebChannel(w,p);this.E_(E);let I=!1,S=!1;const R=new Bk({Zo:V=>{S?le(Kt,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(I||(le(Kt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),I=!0),le(Kt,`RPC '${e}' stream ${o} sending:`,V),E.send(V))},Xo:()=>E.close()}),D=(V,N,H)=>{V.listen(N,G=>{try{H(G)}catch(Q){setTimeout(()=>{throw Q},0)}})};return D(E,gl.EventType.OPEN,()=>{S||(le(Kt,`RPC '${e}' stream ${o} transport opened.`),R.__())}),D(E,gl.EventType.CLOSE,()=>{S||(S=!0,le(Kt,`RPC '${e}' stream ${o} transport closed`),R.u_(),this.d_(E))}),D(E,gl.EventType.ERROR,V=>{S||(S=!0,qo(Kt,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),R.u_(new ue(Y.UNAVAILABLE,"The operation could not be completed")))}),D(E,gl.EventType.MESSAGE,V=>{var N;if(!S){const H=V.data[0];ze(!!H,16349);const G=H,Q=(G==null?void 0:G.error)||((N=G[0])===null||N===void 0?void 0:N.error);if(Q){le(Kt,`RPC '${e}' stream ${o} received error:`,Q);const ae=Q.status;let me=function(P){const O=yt[P];if(O!==void 0)return pw(O)}(ae),L=Q.message;me===void 0&&(me=Y.INTERNAL,L="Unknown error status: "+ae+" with message "+Q.message),S=!0,R.u_(new ue(me,L)),E.close()}else le(Kt,`RPC '${e}' stream ${o} received:`,H),R.c_(H)}}),D(h,N0.STAT_EVENT,V=>{V.stat===Vf.PROXY?le(Kt,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===Vf.NOPROXY&&le(Kt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{R.a_()},0),R}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(n){return new KA(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,t,i=1e3,o=1.5,a=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=o,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),o=Math.max(0,t-i);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="PersistentStream";class kw{constructor(e,t,i,o,a,c,h,p){this.xi=e,this.S_=i,this.D_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Aw(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(Yr(t.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.v_===t&&this.z_(i,o)},i=>{e(()=>{const o=new ue(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(o)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{i(()=>this.j_(o))}),this.stream.onMessage(o=>{i(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return le(Hv,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(le(Hv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wk extends kw{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=YA(this.serializer,e),i=function(a){if(!("targetChange"in a))return Te.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Te.min():c.readTime?wr(c.readTime):Te.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=Hf(this.serializer),t.addTarget=function(a,c){let h;const p=c.target;if(h=Ff(p)?{documents:ZA(a,p)}:{query:ek(a,p).gt},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=yw(a,c.resumeToken);const m=Bf(a,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Te.min())>0){h.readTime=Yc(a,c.snapshotVersion.toTimestamp());const m=Bf(a,c.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const i=nk(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=Hf(this.serializer),t.removeTarget=e,this.Q_(t)}}class Hk extends kw{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=JA(e.writeResults,e.commitTime),i=wr(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=Hf(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>XA(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{}class Kk extends qk{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new ue(Y.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.zo(e,$f(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ue(Y.UNKNOWN,a.toString())})}Yo(e,t,i,o,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Yo(e,$f(t,i),o,c,h,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(Y.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Gk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Yr(t),this.ua=!1):le("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="RemoteStore";class Qk{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(c=>{i.enqueueAndForget(async()=>{Os(this)&&(le(Ns,"Restarting streams for network reachability change."),await async function(p){const m=xe(p);m.da.add(4),await Ql(m),m.Va.set("Unknown"),m.da.delete(4),await Ed(m)}(this))})}),this.Va=new Gk(i,o)}}async function Ed(n){if(Os(n))for(const e of n.Aa)await e(!0)}async function Ql(n){for(const e of n.Aa)await e(!1)}function Pw(n,e){const t=xe(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Bp(t)?zp(t):da(t).N_()&&Up(t,e))}function Fp(n,e){const t=xe(n),i=da(t);t.Ea.delete(e),i.N_()&&bw(t,e),t.Ea.size===0&&(i.N_()?i.k_():Os(t)&&t.Va.set("Unknown"))}function Up(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}da(n).Z_(e)}function bw(n,e){n.ma.Ke(e),da(n).X_(e)}function zp(n){n.ma=new $A({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),da(n).start(),n.Va.ca()}function Bp(n){return Os(n)&&!da(n).O_()&&n.Ea.size>0}function Os(n){return xe(n).da.size===0}function Nw(n){n.ma=void 0}async function Yk(n){n.Va.set("Online")}async function Xk(n){n.Ea.forEach((e,t)=>{Up(n,e)})}async function Jk(n,e){Nw(n),Bp(n)?(n.Va.Pa(e),zp(n)):n.Va.set("Unknown")}async function Zk(n,e,t){if(n.Va.set("Online"),e instanceof gw&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const h of a.targetIds)o.Ea.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.Ea.delete(h),o.ma.removeTarget(h))}(n,e)}catch(i){le(Ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Jc(n,i)}else if(e instanceof Nc?n.ma.Xe(e):e instanceof mw?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Te.min()))try{const i=await Rw(n.localStore);t.compareTo(i)>=0&&await function(a,c){const h=a.ma.It(c);return h.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const w=a.Ea.get(m);w&&a.Ea.set(m,w.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach((p,m)=>{const w=a.Ea.get(p);if(!w)return;a.Ea.set(p,w.withResumeToken(zt.EMPTY_BYTE_STRING,w.snapshotVersion)),bw(a,p);const E=new Ni(w.target,p,m,w.sequenceNumber);Up(a,E)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){le(Ns,"Failed to raise snapshot:",i),await Jc(n,i)}}async function Jc(n,e,t){if(!ua(e))throw e;n.da.add(1),await Ql(n),n.Va.set("Offline"),t||(t=()=>Rw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le(Ns,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Ed(n)})}function Dw(n,e){return e().catch(t=>Jc(n,t,e))}async function Id(n){const e=xe(n),t=Wi(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:xp;for(;eP(e);)try{const o=await Ok(e.localStore,i);if(o===null){e.Ia.length===0&&t.k_();break}i=o.batchId,tP(e,o)}catch(o){await Jc(e,o)}Vw(e)&&Ow(e)}function eP(n){return Os(n)&&n.Ia.length<10}function tP(n,e){n.Ia.push(e);const t=Wi(n);t.N_()&&t.ea&&t.ta(e.mutations)}function Vw(n){return Os(n)&&!Wi(n).O_()&&n.Ia.length>0}function Ow(n){Wi(n).start()}async function nP(n){Wi(n).ia()}async function rP(n){const e=Wi(n);for(const t of n.Ia)e.ta(t.mutations)}async function iP(n,e,t){const i=n.Ia.shift(),o=Np.from(i,e,t);await Dw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Id(n)}async function sP(n,e){e&&Wi(n).ea&&await async function(i,o){if(function(c){return zA(c)&&c!==Y.ABORTED}(o.code)){const a=i.Ia.shift();Wi(i).L_(),await Dw(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Id(i)}}(n,e),Vw(n)&&Ow(n)}async function qv(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),le(Ns,"RemoteStore received new credentials");const i=Os(t);t.da.add(3),await Ql(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Ed(t)}async function oP(n,e){const t=xe(n);e?(t.da.delete(2),await Ed(t)):e||(t.da.add(2),await Ql(t),t.Va.set("Unknown"))}function da(n){return n.fa||(n.fa=function(t,i,o){const a=xe(t);return a.oa(),new Wk(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{e_:Yk.bind(null,n),n_:Xk.bind(null,n),i_:Jk.bind(null,n),Y_:Zk.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),Bp(n)?zp(n):n.Va.set("Unknown")):(await n.fa.stop(),Nw(n))})),n.fa}function Wi(n){return n.ga||(n.ga=function(t,i,o){const a=xe(t);return a.oa(),new Hk(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:nP.bind(null,n),i_:sP.bind(null,n),na:rP.bind(null,n),ra:iP.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Id(n)):(await n.ga.stop(),n.Ia.length>0&&(le(Ns,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,h=new $p(e,t,c,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wp(n,e){if(Yr("AsyncQueue",`${e}: ${n}`),ua(n))return new ue(Y.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{static emptySet(e){return new zo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=yl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new zo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(){this.pa=new lt(ve.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Ee(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Xo{constructor(e,t,i,o,a,c,h,p,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new Xo(e,t,zo.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class lP{constructor(){this.queries=Gv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=xe(t),a=o.queries;o.queries=Gv(),a.forEach((c,h)=>{for(const p of h.Sa)p.onError(i)})})(this,new ue(Y.ABORTED,"Firestore shutting down"))}}function Gv(){return new Vs(n=>nw(n),md)}async function Lw(n,e){const t=xe(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Da()&&e.va()&&(i=2):(a=new aP,i=e.va()?0:1);try{switch(i){case 0:a.ba=await t.onListen(o,!0);break;case 1:a.ba=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=Wp(c,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.Sa.push(e),e.Fa(t.onlineState),a.ba&&e.Ma(a.ba)&&Hp(t)}async function Mw(n,e){const t=xe(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?o=e.va()?0:1:!a.Da()&&e.va()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function uP(n,e){const t=xe(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const h of c.Sa)h.Ma(o)&&(i=!0);c.ba=o}}i&&Hp(t)}function cP(n,e,t){const i=xe(n),o=i.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);i.queries.delete(e)}function Hp(n){n.Ca.forEach(e=>{e.next()})}var Gf,Qv;(Qv=Gf||(Gf={})).xa="default",Qv.Cache="cache";class jw{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Xo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Gf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.key=e}}class Uw{constructor(e){this.key=e}}class dP{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ne(),this.mutatedKeys=Ne(),this.Za=rw(e),this.Xa=new zo(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new Kv,o=t?t.Xa:this.Xa;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,E)=>{const I=o.get(w),S=gd(this.query,E)?E:null,R=!!I&&this.mutatedKeys.has(I.key),D=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let V=!1;I&&S?I.data.isEqual(S.data)?R!==D&&(i.track({type:3,doc:S}),V=!0):this.ru(I,S)||(i.track({type:2,doc:S}),V=!0,(p&&this.Za(S,p)>0||m&&this.Za(S,m)<0)&&(h=!0)):!I&&S?(i.track({type:0,doc:S}),V=!0):I&&!S&&(i.track({type:1,doc:I}),V=!0,(p||m)&&(h=!0)),V&&(S?(c=c.add(S),a=D?a.add(w):a.delete(w)):(c=c.delete(w),a=a.delete(w)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),a=a.delete(w.key),i.track({type:1,doc:w})}return{Xa:c,nu:i,Cs:h,mutatedKeys:a}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((w,E)=>function(S,R){const D=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:V})}};return D(S)-D(R)}(w.type,E.type)||this.Za(w.doc,E.doc)),this.iu(i),o=o!=null&&o;const h=t&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,m=p!==this.Ja;return this.Ja=p,c.length!==0||m?{snapshot:new Xo(this.query,e.Xa,a,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:h}:{ou:h}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Kv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ne(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new Uw(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new Fw(i))}),t}au(e){this.Ha=e.$s,this.Ya=Ne();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Xo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const qp="SyncEngine";class hP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class fP{constructor(e){this.key=e,this.cu=!1}}class pP{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Vs(h=>nw(h),md),this.Pu=new Map,this.Tu=new Set,this.Iu=new lt(ve.comparator),this.Eu=new Map,this.du=new Op,this.Au={},this.Ru=new Map,this.Vu=Yo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function mP(n,e,t=!0){const i=qw(n);let o;const a=i.hu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.uu()):o=await zw(i,e,t,!0),o}async function gP(n,e){const t=qw(n);await zw(t,e,!0,!1)}async function zw(n,e,t,i){const o=await Lk(n.localStore,_r(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await yP(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&Pw(n.remoteStore,o),h}async function yP(n,e,t,i,o){n.fu=(E,I,S)=>async function(D,V,N,H){let G=V.view.tu(N);G.Cs&&(G=await zv(D.localStore,V.query,!1).then(({documents:L})=>V.view.tu(L,G)));const Q=H&&H.targetChanges.get(V.targetId),ae=H&&H.targetMismatches.get(V.targetId)!=null,me=V.view.applyChanges(G,D.isPrimaryClient,Q,ae);return Xv(D,V.targetId,me.ou),me.snapshot}(n,E,I,S);const a=await zv(n.localStore,e,!0),c=new dP(e,a.$s),h=c.tu(a.documents),p=Gl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=c.applyChanges(h,n.isPrimaryClient,p);Xv(n,t,m.ou);const w=new hP(e,t,c);return n.hu.set(e,w),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),m.snapshot}async function vP(n,e,t){const i=xe(n),o=i.hu.get(e),a=i.Pu.get(o.targetId);if(a.length>1)return i.Pu.set(o.targetId,a.filter(c=>!md(c,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await qf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Fp(i.remoteStore,o.targetId),Qf(i,o.targetId)}).catch(la)):(Qf(i,o.targetId),await qf(i.localStore,o.targetId,!0))}async function _P(n,e){const t=xe(n),i=t.hu.get(e),o=t.Pu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Fp(t.remoteStore,i.targetId))}async function wP(n,e,t){const i=RP(n);try{const o=await function(c,h){const p=xe(c),m=St.now(),w=h.reduce((S,R)=>S.add(R.key),Ne());let E,I;return p.persistence.runTransaction("Locally write mutations","readwrite",S=>{let R=Xr(),D=Ne();return p.Bs.getEntries(S,w).next(V=>{R=V,R.forEach((N,H)=>{H.isValidDocument()||(D=D.add(N))})}).next(()=>p.localDocuments.getOverlayedDocuments(S,R)).next(V=>{E=V;const N=[];for(const H of h){const G=LA(H,E.get(H.key).overlayedDocument);G!=null&&N.push(new Yi(H.key,G,G0(G.value.mapValue),Dn.exists(!0)))}return p.mutationQueue.addMutationBatch(S,m,N,h)}).next(V=>{I=V;const N=V.applyToLocalDocumentSet(E,D);return p.documentOverlayCache.saveOverlays(S,V.batchId,N)})}).then(()=>({batchId:I.batchId,changes:sw(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,h,p){let m=c.Au[c.currentUser.toKey()];m||(m=new lt(Re)),m=m.insert(h,p),c.Au[c.currentUser.toKey()]=m}(i,o.batchId,t),await Yl(i,o.changes),await Id(i.remoteStore)}catch(o){const a=Wp(o,"Failed to persist write");t.reject(a)}}async function Bw(n,e){const t=xe(n);try{const i=await Dk(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t.Eu.get(a);c&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.cu=!0:o.modifiedDocuments.size>0?ze(c.cu,14607):o.removedDocuments.size>0&&(ze(c.cu,42227),c.cu=!1))}),await Yl(t,i,e)}catch(i){await la(i)}}function Yv(n,e,t){const i=xe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.hu.forEach((a,c)=>{const h=c.view.Fa(e);h.snapshot&&o.push(h.snapshot)}),function(c,h){const p=xe(c);p.onlineState=h;let m=!1;p.queries.forEach((w,E)=>{for(const I of E.Sa)I.Fa(h)&&(m=!0)}),m&&Hp(p)}(i.eventManager,e),o.length&&i.lu.Y_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function EP(n,e,t){const i=xe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Eu.get(e),a=o&&o.key;if(a){let c=new lt(ve.comparator);c=c.insert(a,Qt.newNoDocument(a,Te.min()));const h=Ne().add(a),p=new _d(Te.min(),new Map,new lt(Re),c,h);await Bw(i,p),i.Iu=i.Iu.remove(a),i.Eu.delete(e),Kp(i)}else await qf(i.localStore,e,!1).then(()=>Qf(i,e,t)).catch(la)}async function IP(n,e){const t=xe(n),i=e.batch.batchId;try{const o=await Nk(t.localStore,e);Ww(t,i,null),$w(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Yl(t,o)}catch(o){await la(o)}}async function TP(n,e,t){const i=xe(n);try{const o=await function(c,h){const p=xe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let w;return p.mutationQueue.lookupMutationBatch(m,h).next(E=>(ze(E!==null,37113),w=E.keys(),p.mutationQueue.removeMutationBatch(m,E))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,w,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,w)).next(()=>p.localDocuments.getDocuments(m,w))})}(i.localStore,e);Ww(i,e,t),$w(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Yl(i,o)}catch(o){await la(o)}}function $w(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function Ww(n,e,t){const i=xe(n);let o=i.Au[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Au[i.currentUser.toKey()]=o}}function Qf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||Hw(n,i)})}function Hw(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(Fp(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),Kp(n))}function Xv(n,e,t){for(const i of t)i instanceof Fw?(n.du.addReference(i.key,e),xP(n,i)):i instanceof Uw?(le(qp,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||Hw(n,i.key)):Ee(19791,{pu:i})}function xP(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(le(qp,"New document in limbo: "+t),n.Tu.add(i),Kp(n))}function Kp(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new ve(Ze.fromString(e)),i=n.Vu.next();n.Eu.set(i,new fP(t)),n.Iu=n.Iu.insert(t,i),Pw(n.remoteStore,new Ni(_r(kp(t.path)),i,"TargetPurposeLimboResolution",hd.le))}}async function Yl(n,e,t){const i=xe(n),o=[],a=[],c=[];i.hu.isEmpty()||(i.hu.forEach((h,p)=>{c.push(i.fu(p,e,t).then(m=>{var w;if((m||t)&&i.isPrimaryClient){const E=m?!m.fromCache:(w=t==null?void 0:t.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(m){o.push(m);const E=Mp.Rs(p.targetId,m);a.push(E)}}))}),await Promise.all(c),i.lu.Y_(o),await async function(p,m){const w=xe(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>X.forEach(m,I=>X.forEach(I.ds,S=>w.persistence.referenceDelegate.addReference(E,I.targetId,S)).next(()=>X.forEach(I.As,S=>w.persistence.referenceDelegate.removeReference(E,I.targetId,S)))))}catch(E){if(!ua(E))throw E;le(jp,"Failed to update sequence numbers: "+E)}for(const E of m){const I=E.targetId;if(!E.fromCache){const S=w.xs.get(I),R=S.snapshotVersion,D=S.withLastLimboFreeSnapshotVersion(R);w.xs=w.xs.insert(I,D)}}}(i.localStore,a))}async function SP(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){le(qp,"User change. New user:",e.toKey());const i=await Cw(t.localStore,e);t.currentUser=e,function(a,c){a.Ru.forEach(h=>{h.forEach(p=>{p.reject(new ue(Y.CANCELLED,c))})}),a.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Yl(t,i.ks)}}function CP(n,e){const t=xe(n),i=t.Eu.get(e);if(i&&i.cu)return Ne().add(i.key);{let o=Ne();const a=t.Pu.get(e);if(!a)return o;for(const c of a){const h=t.hu.get(c);o=o.unionWith(h.view.eu)}return o}}function qw(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EP.bind(null,e),e.lu.Y_=uP.bind(null,e.eventManager),e.lu.gu=cP.bind(null,e.eventManager),e}function RP(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TP.bind(null,e),e}class Zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return bk(this.persistence,new Ak,e.initialUser,this.serializer)}Su(e){return new Sw(Lp.fi,this.serializer)}bu(e){return new jk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zc.provider={build:()=>new Zc};class AP extends Zc{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){ze(this.persistence.referenceDelegate instanceof Xc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new fk(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new Sw(i=>Xc.fi(i,t),this.serializer)}}class Yf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Yv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=SP.bind(null,this.syncEngine),await oP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lP}()}createDatastore(e){const t=wd(e.databaseInfo.databaseId),i=function(a){return new $k(a)}(e.databaseInfo);return function(a,c,h,p){return new Kk(a,c,h,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,h){return new Qk(i,o,a,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Yv(this.syncEngine,t,0),function(){return Wv.C()?new Wv:new Fk}())}createSyncEngine(e,t){return function(o,a,c,h,p,m,w){const E=new pP(o,a,c,h,p,m);return w&&(E.mu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=xe(o);le(Ns,"RemoteStore shutting down."),a.da.add(5),await Ql(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Yf.provider={build:()=>new Yf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="FirestoreClient";class kP{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Gt.UNAUTHENTICATED,this.clientId=j0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{le(Hi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(le(Hi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Wp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function If(n,e){n.asyncQueue.verifyOperationInProgress(),le(Hi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await Cw(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Jv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await PP(n);le(Hi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>qv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>qv(e.remoteStore,o)),n._onlineComponents=e}async function PP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(Hi,"Using user provided OfflineComponentProvider");try{await If(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;qo("Error using user provided cache. Falling back to memory cache: "+t),await If(n,new Zc)}}else le(Hi,"Using default OfflineComponentProvider"),await If(n,new AP(void 0));return n._offlineComponents}async function Gw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(Hi,"Using user provided OnlineComponentProvider"),await Jv(n,n._uninitializedComponentsProvider._online)):(le(Hi,"Using default OnlineComponentProvider"),await Jv(n,new Yf))),n._onlineComponents}function bP(n){return Gw(n).then(e=>e.syncEngine)}async function Qw(n){const e=await Gw(n),t=e.eventManager;return t.onListen=mP.bind(null,e.syncEngine),t.onUnlisten=vP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_P.bind(null,e.syncEngine),t}function NP(n,e,t={}){const i=new qr;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,h,p,m){const w=new Kw({next:I=>{w.xu(),c.enqueueAndForget(()=>Mw(a,E));const S=I.docs.has(h);!S&&I.fromCache?m.reject(new ue(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&I.fromCache&&p&&p.source==="server"?m.reject(new ue(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(I)},error:I=>m.reject(I)}),E=new jw(kp(h.path),w,{includeMetadataChanges:!0,Qa:!0});return Lw(a,E)}(await Qw(n),n.asyncQueue,e,t,i)),i.promise}function DP(n,e,t={}){const i=new qr;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,h,p,m){const w=new Kw({next:I=>{w.xu(),c.enqueueAndForget(()=>Mw(a,E)),I.fromCache&&p.source==="server"?m.reject(new ue(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(I)},error:I=>m.reject(I)}),E=new jw(h,w,{includeMetadataChanges:!0,Qa:!0});return Lw(a,E)}(await Qw(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(n,e,t){if(!t)throw new ue(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VP(n,e,t,i){if(e===!0&&i===!0)throw new ue(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function e_(n){if(!ve.isDocumentKey(n))throw new ue(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function t_(n){if(ve.isDocumentKey(n))throw new ue(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Td(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee(12329,{type:typeof n})}function nr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ue(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Td(n);throw new ue(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="firestore.googleapis.com",n_=!0;class r_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Jw,this.ssl=n_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:n_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dk)throw new ue(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xd{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new BR;switch(i.type){case"firstParty":return new qR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ue(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Zv.get(t);i&&(le("ComponentProvider","Removing Datastore"),Zv.delete(t),i.terminate())}(this),Promise.resolve()}}function OP(n,e,t,i={}){var o;n=nr(n,xd);const a=ra(e),c=n._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;a&&(B_(`https://${p}`),$_("Firestore",!0)),c.host!==Jw&&c.host!==p&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},c),{host:p,ssl:a,emulatorOptions:i});if(!As(m,h)&&(n._setSettings(m),i.mockUserToken)){let w,E;if(typeof i.mockUserToken=="string")w=i.mockUserToken,E=Gt.MOCK_USER;else{w=Jx(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const I=i.mockUserToken.sub||i.mockUserToken.user_id;if(!I)throw new ue(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Gt(I)}n._authCredentials=new $R(new L0(w,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ls(this.firestore,e,this._query)}}class nn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class ji extends Ls{constructor(e,t,i){super(e,t,kp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new ve(e))}withConverter(e){return new ji(this.firestore,e,this._path)}}function Zw(n,e,...t){if(n=Dt(n),Xw("collection","path",e),n instanceof xd){const i=Ze.fromString(e,...t);return t_(i),new ji(n,null,i)}{if(!(n instanceof nn||n instanceof ji))throw new ue(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ze.fromString(e,...t));return t_(i),new ji(n.firestore,null,i)}}function Jo(n,e,...t){if(n=Dt(n),arguments.length===1&&(e=j0.newId()),Xw("doc","path",e),n instanceof xd){const i=Ze.fromString(e,...t);return e_(i),new nn(n,null,new ve(i))}{if(!(n instanceof nn||n instanceof ji))throw new ue(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ze.fromString(e,...t));return e_(i),new nn(n.firestore,n instanceof ji?n.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="AsyncQueue";class s_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Aw(this,"async_queue_retry"),this.rc=()=>{const i=Ef();i&&le(i_,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Ef();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Ef();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new qr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ua(e))throw e;le(i_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Yr("INTERNAL UNHANDLED ERROR: ",o_(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const o=$p.createAndSchedule(this,e,t,i,a=>this.uc(a));return this.Zu.push(o),o}oc(){this.Xu&&Ee(47125,{cc:o_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function o_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ms extends xd{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new s_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s_(e),this._firestoreClient=void 0,await e}}}function LP(n,e){const t=typeof n=="object"?n:K_(),i=typeof n=="string"?n:Hc,o=pp(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=Yx("firestore");a&&OP(o,...a)}return o}function Gp(n){if(n._terminated)throw new ue(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||MP(n),n._firestoreClient}function MP(n){var e,t,i;const o=n._freezeSettings(),a=function(h,p,m,w){return new aA(h,p,m,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Yw(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new kP(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zo(zt.fromBase64String(e))}catch(t){throw new ue(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zo(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=/^__.*__$/;class FP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Yi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kl(e,this.data,t,this.fieldTransforms)}}class eE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Yi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ic:n})}}class Jp{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Jp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:i,Rc:!1});return o.Vc(e),o}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:i,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return ed(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(tE(this.Ic)&&jP.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class UP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||wd(e)}bc(e,t,i,o=!1){return new Jp({Ic:e,methodName:t,wc:i,path:Ut.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cd(n){const e=n._freezeSettings(),t=wd(n._databaseId);return new UP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nE(n,e,t,i,o,a={}){const c=n.bc(a.merge||a.mergeFields?2:0,e,t,o);Zp("Data must be an object, but it was:",c,i);const h=rE(i,c);let p,m;if(a.merge)p=new In(c.fieldMask),m=c.fieldTransforms;else if(a.mergeFields){const w=[];for(const E of a.mergeFields){const I=Xf(e,E,t);if(!c.contains(I))throw new ue(Y.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);sE(w,I)||w.push(I)}p=new In(w),m=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,m=c.fieldTransforms;return new FP(new fn(h),p,m)}class Rd extends Qp{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rd}}function zP(n,e,t,i){const o=n.bc(1,e,t);Zp("Data must be an object, but it was:",o,i);const a=[],c=fn.empty();Qi(i,(p,m)=>{const w=em(e,p,t);m=Dt(m);const E=o.mc(w);if(m instanceof Rd)a.push(w);else{const I=Xl(m,E);I!=null&&(a.push(w),c.set(w,I))}});const h=new In(a);return new eE(c,h,o.fieldTransforms)}function BP(n,e,t,i,o,a){const c=n.bc(1,e,t),h=[Xf(e,i,t)],p=[o];if(a.length%2!=0)throw new ue(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<a.length;I+=2)h.push(Xf(e,a[I])),p.push(a[I+1]);const m=[],w=fn.empty();for(let I=h.length-1;I>=0;--I)if(!sE(m,h[I])){const S=h[I];let R=p[I];R=Dt(R);const D=c.mc(S);if(R instanceof Rd)m.push(S);else{const V=Xl(R,D);V!=null&&(m.push(S),w.set(S,V))}}const E=new In(m);return new eE(w,E,c.fieldTransforms)}function $P(n,e,t,i=!1){return Xl(t,n.bc(i?4:3,e))}function Xl(n,e){if(iE(n=Dt(n)))return Zp("Unsupported field value:",e,n),rE(n,e);if(n instanceof Qp)return function(i,o){if(!tE(o.Ic))throw o.gc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const h of i){let p=Xl(h,o.fc(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=Dt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return PA(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=St.fromDate(i);return{timestampValue:Yc(o.serializer,a)}}if(i instanceof St){const a=new St(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Yc(o.serializer,a)}}if(i instanceof Yp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Zo)return{bytesValue:yw(o.serializer,i._byteString)};if(i instanceof nn){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Vp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Xp)return function(c,h){return{mapValue:{fields:{[q0]:{stringValue:K0},[qc]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw h.gc("VectorValues must only contain numeric values.");return Pp(h.serializer,m)})}}}}}}(i,o);throw o.gc(`Unsupported field value: ${Td(i)}`)}(n,e)}function rE(n,e){const t={};return U0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(n,(i,o)=>{const a=Xl(o,e.Ac(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function iE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof St||n instanceof Yp||n instanceof Zo||n instanceof nn||n instanceof Qp||n instanceof Xp)}function Zp(n,e,t){if(!iE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Td(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function Xf(n,e,t){if((e=Dt(e))instanceof Sd)return e._internalPath;if(typeof e=="string")return em(n,e);throw ed("Field path arguments must be of type string or ",n,!1,void 0,t)}const WP=new RegExp("[~\\*/\\[\\]]");function em(n,e,t){if(e.search(WP)>=0)throw ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sd(...e.split("."))._internalPath}catch{throw ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ed(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new ue(Y.INVALID_ARGUMENT,h+n+p)}function sE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ad("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class HP extends oE{data(){return super.data()}}function Ad(n,e){return typeof e=="string"?em(n,e):e instanceof Sd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ue(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tm{}class aE extends tm{}function KP(n,e,...t){let i=[];e instanceof tm&&i.push(e),i=i.concat(t),function(a){const c=a.filter(p=>p instanceof nm).length,h=a.filter(p=>p instanceof kd).length;if(c>1||c>0&&h>0)throw new ue(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class kd extends aE{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new kd(e,t,i)}_apply(e){const t=this._parse(e);return lE(e._query,t),new Ls(e.firestore,e.converter,Uf(e._query,t))}_parse(e){const t=Cd(e.firestore);return function(a,c,h,p,m,w,E){let I;if(m.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ue(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){l_(E,w);const R=[];for(const D of E)R.push(a_(p,a,D));I={arrayValue:{values:R}}}else I=a_(p,a,E)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||l_(E,w),I=$P(h,c,E,w==="in"||w==="not-in");return vt.create(m,w,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function GP(n,e,t){const i=e,o=Ad("where",n);return kd._create(o,i,t)}class nm extends tm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new nm(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:tr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let c=o;const h=a.getFlattenedFilters();for(const p of h)lE(c,p),c=Uf(c,p)}(e._query,t),new Ls(e.firestore,e.converter,Uf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rm extends aE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new rm(e,t)}_apply(e){const t=function(o,a,c){if(o.startAt!==null)throw new ue(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ol(a,c)}(e._query,this._field,this._direction);return new Ls(e.firestore,e.converter,function(o,a){const c=o.explicitOrderBy.concat([a]);return new ca(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function QP(n,e="asc"){const t=e,i=Ad("orderBy",n);return rm._create(i,t)}function a_(n,e,t){if(typeof(t=Dt(t))=="string"){if(t==="")throw new ue(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tw(e)&&t.indexOf("/")!==-1)throw new ue(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ze.fromString(t));if(!ve.isDocumentKey(i))throw new ue(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Iv(n,new ve(i))}if(t instanceof nn)return Iv(n,t._key);throw new ue(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Td(t)}.`)}function l_(n,e){if(!Array.isArray(n)||n.length===0)throw new ue(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lE(n,e){const t=function(o,a){for(const c of o)for(const h of c.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ue(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class YP{convertValue(e,t="none"){switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Qi(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[qc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>ft(c.doubleValue));return new Xp(a)}convertGeoPoint(e){return new Yp(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=pd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Nl(e));default:return null}}convertTimestamp(e){const t=zi(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ze.fromString(e);ze(Tw(i),9688,{name:e});const o=new Dl(i.get(1),i.get(3)),a=new ve(i.popFirst(5));return o.isEqual(t)||Yr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cE extends oE{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ad("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Dc extends cE{data(e={}){return super.data(e)}}class XP{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new _l(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Dc(this._firestore,this._userDataWriter,i.key,i,new _l(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(h=>{const p=new Dc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new _l(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const p=new Dc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new _l(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,w=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),w=c.indexOf(h.doc.key)),{type:JP(h.type),doc:p,oldIndex:m,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function JP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(n){n=nr(n,nn);const e=nr(n.firestore,Ms);return NP(Gp(e),n._key).then(t=>rb(e,n,t))}class hE extends YP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,t)}}function ZP(n){n=nr(n,Ls);const e=nr(n.firestore,Ms),t=Gp(e),i=new hE(e);return qP(n._query),DP(t,n._query).then(o=>new XP(e,i,n,o))}function u_(n,e,t){n=nr(n,nn);const i=nr(n.firestore,Ms),o=uE(n.converter,e);return Pd(i,[nE(Cd(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Dn.none())])}function eb(n,e,t,...i){n=nr(n,nn);const o=nr(n.firestore,Ms),a=Cd(o);let c;return c=typeof(e=Dt(e))=="string"||e instanceof Sd?BP(a,"updateDoc",n._key,e,t,i):zP(a,"updateDoc",n._key,e),Pd(o,[c.toMutation(n._key,Dn.exists(!0))])}function tb(n){return Pd(nr(n.firestore,Ms),[new bp(n._key,Dn.none())])}function nb(n,e){const t=nr(n.firestore,Ms),i=Jo(n),o=uE(n.converter,e);return Pd(t,[nE(Cd(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Dn.exists(!1))]).then(()=>i)}function Pd(n,e){return function(i,o){const a=new qr;return i.asyncQueue.enqueueAndForget(async()=>wP(await bP(i),o,a)),a.promise}(Gp(n),e)}function rb(n,e,t){const i=t.docs.get(e._key),o=new hE(n);return new cE(n,o,e._key,i,new _l(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){aa=o})(ia),Wo(new ks("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),h=new Ms(new WR(i.getProvider("auth-internal")),new KR(c,i.getProvider("app-check-internal")),function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ue(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(m.options.projectId,w)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Oi(cv,dv,e),Oi(cv,dv,"esm2017")})();var ib="firebase",sb="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi(ib,sb,"app");const ob={apiKey:"AIzaSyDJk_Zd3YvS3QV2_mYfJBASI0DSGXxVKpc",authDomain:"progress-widget.firebaseapp.com",projectId:"progress-widget",storageBucket:"progress-widget.firebasestorage.app",messagingSenderId:"192731333640",appId:"1:192731333640:web:70aac6079e2de36e533dbd",measurementId:"G-D7X4YWP8SP"},fE=q_(ob),bo=UR(fE),Ds=LP(fE),pE=C.createContext({});function Xi(){return C.useContext(pE)}function ab({children:n}){const[e,t]=C.useState(null),[i,o]=C.useState(!0);C.useEffect(()=>AC(bo,w=>{t(w),o(!1)}),[]),C.useEffect(()=>{if(xC(bo,window.location.href)){const w=window.localStorage.getItem("emailForSignIn");w&&c(w)}},[]);const a=async w=>{const E={url:`${window.location.origin}/auth/complete`,handleCodeInApp:!0};await Zy(bo,w,E),window.localStorage.setItem("emailForSignIn",w)},c=async w=>{const I=(await SC(bo,w,window.location.href)).user,S=Jo(Ds,"users",I.uid);(await dE(S)).exists()||await u_(S,{name:w.split("@")[0],email:I.email,provider:"email_link",createdAt:new Date().toISOString()}),window.localStorage.removeItem("emailForSignIn"),window.location.href="/dashboard"},m={user:e,loading:i,sendMagicLink:a,completeMagicLinkSignIn:c,logout:async()=>{await kC(bo)},signUp:async(w,E)=>{const I={url:`${window.location.origin}/auth/complete`,handleCodeInApp:!0},S=Jo(Ds,"signup_profiles",w);await u_(S,{name:E,email:w,createdAt:new Date().toISOString()}),await Zy(bo,w,I),window.localStorage.setItem("emailForSignIn",w)}};return v.jsx(pE.Provider,{value:m,children:n})}function Bo({children:n}){const{user:e,loading:t}=Xi();return t?v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e?v.jsx(v.Fragment,{children:n}):v.jsx(P_,{to:"/login",replace:!0})}function c_({children:n}){const{user:e,loading:t}=Xi();return t?v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e?v.jsx(P_,{to:"/dashboard",replace:!0}):v.jsx(v.Fragment,{children:n})}function d_(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function mE(...n){return e=>{let t=!1;const i=n.map(o=>{const a=d_(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<i.length;o++){const a=i[o];typeof a=="function"?a():d_(n[o],null)}}}}function qi(...n){return C.useCallback(mE(...n),n)}function td(n){const e=ub(n),t=C.forwardRef((i,o)=>{const{children:a,...c}=i,h=C.Children.toArray(a),p=h.find(db);if(p){const m=p.props.children,w=h.map(E=>E===p?C.Children.count(m)>1?C.Children.only(null):C.isValidElement(m)?m.props.children:null:E);return v.jsx(e,{...c,ref:o,children:C.isValidElement(m)?C.cloneElement(m,void 0,w):null})}return v.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}var lb=td("Slot");function ub(n){const e=C.forwardRef((t,i)=>{const{children:o,...a}=t;if(C.isValidElement(o)){const c=fb(o),h=hb(a,o.props);return o.type!==C.Fragment&&(h.ref=i?mE(i,c):c),C.cloneElement(o,h)}return C.Children.count(o)>1?C.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var cb=Symbol("radix.slottable");function db(n){return C.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===cb}function hb(n,e){const t={...e};for(const i in e){const o=n[i],a=e[i];/^on[A-Z]/.test(i)?o&&a?t[i]=(...h)=>{const p=a(...h);return o(...h),p}:o&&(t[i]=o):i==="style"?t[i]={...o,...a}:i==="className"&&(t[i]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function fb(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function gE(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=gE(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function yE(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=gE(n))&&(i&&(i+=" "),i+=e);return i}const h_=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,f_=yE,im=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return f_(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:a}=e,c=Object.keys(o).map(m=>{const w=t==null?void 0:t[m],E=a==null?void 0:a[m];if(w===null)return null;const I=h_(w)||h_(E);return o[m][I]}),h=t&&Object.entries(t).reduce((m,w)=>{let[E,I]=w;return I===void 0||(m[E]=I),m},{}),p=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((m,w)=>{let{class:E,className:I,...S}=w;return Object.entries(S).every(R=>{let[D,V]=R;return Array.isArray(V)?V.includes({...a,...h}[D]):{...a,...h}[D]===V})?[...m,E,I]:m},[]);return f_(n,c,p,t==null?void 0:t.class,t==null?void 0:t.className)},sm="-",pb=n=>{const e=gb(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:c=>{const h=c.split(sm);return h[0]===""&&h.length!==1&&h.shift(),vE(h,e)||mb(c)},getConflictingClassGroupIds:(c,h)=>{const p=t[c]||[];return h&&i[c]?[...p,...i[c]]:p}}},vE=(n,e)=>{var c;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),o=i?vE(n.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const a=n.join(sm);return(c=e.validators.find(({validator:h})=>h(a)))==null?void 0:c.classGroupId},p_=/^\[(.+)\]$/,mb=n=>{if(p_.test(n)){const e=p_.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},gb=n=>{const{theme:e,prefix:t}=n,i={nextPart:new Map,validators:[]};return vb(Object.entries(n.classGroups),t).forEach(([a,c])=>{Jf(c,i,a,e)}),i},Jf=(n,e,t,i)=>{n.forEach(o=>{if(typeof o=="string"){const a=o===""?e:m_(e,o);a.classGroupId=t;return}if(typeof o=="function"){if(yb(o)){Jf(o(i),e,t,i);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([a,c])=>{Jf(c,m_(e,a),t,i)})})},m_=(n,e)=>{let t=n;return e.split(sm).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},yb=n=>n.isThemeGetter,vb=(n,e)=>e?n.map(([t,i])=>{const o=i.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([c,h])=>[e+c,h])):a);return[t,o]}):n,_b=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const o=(a,c)=>{t.set(a,c),e++,e>n&&(e=0,i=t,t=new Map)};return{get(a){let c=t.get(a);if(c!==void 0)return c;if((c=i.get(a))!==void 0)return o(a,c),c},set(a,c){t.has(a)?t.set(a,c):o(a,c)}}},_E="!",wb=n=>{const{separator:e,experimentalParseClassName:t}=n,i=e.length===1,o=e[0],a=e.length,c=h=>{const p=[];let m=0,w=0,E;for(let V=0;V<h.length;V++){let N=h[V];if(m===0){if(N===o&&(i||h.slice(V,V+a)===e)){p.push(h.slice(w,V)),w=V+a;continue}if(N==="/"){E=V;continue}}N==="["?m++:N==="]"&&m--}const I=p.length===0?h:h.substring(w),S=I.startsWith(_E),R=S?I.substring(1):I,D=E&&E>w?E-w:void 0;return{modifiers:p,hasImportantModifier:S,baseClassName:R,maybePostfixModifierPosition:D}};return t?h=>t({className:h,parseClassName:c}):c},Eb=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(i=>{i[0]==="["?(e.push(...t.sort(),i),t=[]):t.push(i)}),e.push(...t.sort()),e},Ib=n=>({cache:_b(n.cacheSize),parseClassName:wb(n),...pb(n)}),Tb=/\s+/,xb=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:o}=e,a=[],c=n.trim().split(Tb);let h="";for(let p=c.length-1;p>=0;p-=1){const m=c[p],{modifiers:w,hasImportantModifier:E,baseClassName:I,maybePostfixModifierPosition:S}=t(m);let R=!!S,D=i(R?I.substring(0,S):I);if(!D){if(!R){h=m+(h.length>0?" "+h:h);continue}if(D=i(I),!D){h=m+(h.length>0?" "+h:h);continue}R=!1}const V=Eb(w).join(":"),N=E?V+_E:V,H=N+D;if(a.includes(H))continue;a.push(H);const G=o(D,R);for(let Q=0;Q<G.length;++Q){const ae=G[Q];a.push(N+ae)}h=m+(h.length>0?" "+h:h)}return h};function Sb(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=wE(e))&&(i&&(i+=" "),i+=t);return i}const wE=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=wE(n[i]))&&(t&&(t+=" "),t+=e);return t};function Cb(n,...e){let t,i,o,a=c;function c(p){const m=e.reduce((w,E)=>E(w),n());return t=Ib(m),i=t.cache.get,o=t.cache.set,a=h,h(p)}function h(p){const m=i(p);if(m)return m;const w=xb(p,t);return o(p,w),w}return function(){return a(Sb.apply(null,arguments))}}const Je=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},EE=/^\[(?:([a-z-]+):)?(.+)\]$/i,Rb=/^\d+\/\d+$/,Ab=new Set(["px","full","screen"]),kb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Pb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Nb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Db=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ur=n=>$o(n)||Ab.has(n)||Rb.test(n),Ci=n=>ha(n,"length",zb),$o=n=>!!n&&!Number.isNaN(Number(n)),Tf=n=>ha(n,"number",$o),hl=n=>!!n&&Number.isInteger(Number(n)),Vb=n=>n.endsWith("%")&&$o(n.slice(0,-1)),Se=n=>EE.test(n),Ri=n=>kb.test(n),Ob=new Set(["length","size","percentage"]),Lb=n=>ha(n,Ob,IE),Mb=n=>ha(n,"position",IE),jb=new Set(["image","url"]),Fb=n=>ha(n,jb,$b),Ub=n=>ha(n,"",Bb),fl=()=>!0,ha=(n,e,t)=>{const i=EE.exec(n);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):t(i[2]):!1},zb=n=>Pb.test(n)&&!bb.test(n),IE=()=>!1,Bb=n=>Nb.test(n),$b=n=>Db.test(n),Wb=()=>{const n=Je("colors"),e=Je("spacing"),t=Je("blur"),i=Je("brightness"),o=Je("borderColor"),a=Je("borderRadius"),c=Je("borderSpacing"),h=Je("borderWidth"),p=Je("contrast"),m=Je("grayscale"),w=Je("hueRotate"),E=Je("invert"),I=Je("gap"),S=Je("gradientColorStops"),R=Je("gradientColorStopPositions"),D=Je("inset"),V=Je("margin"),N=Je("opacity"),H=Je("padding"),G=Je("saturate"),Q=Je("scale"),ae=Je("sepia"),me=Je("skew"),L=Je("space"),A=Je("translate"),P=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",Se,e],F=()=>[Se,e],b=()=>["",Ur,Ci],Be=()=>["auto",$o,Se],st=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],We=()=>["solid","dashed","dotted","double","none"],Ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>["start","end","center","between","around","evenly","stretch"],he=()=>["","0",Se],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[$o,Se];return{cacheSize:500,separator:":",theme:{colors:[fl],spacing:[Ur,Ci],blur:["none","",Ri,Se],brightness:z(),borderColor:[n],borderRadius:["none","","full",Ri,Se],borderSpacing:F(),borderWidth:b(),contrast:z(),grayscale:he(),hueRotate:z(),invert:he(),gap:F(),gradientColorStops:[n],gradientColorStopPositions:[Vb,Ci],inset:j(),margin:j(),opacity:z(),padding:F(),saturate:z(),scale:z(),sepia:he(),skew:z(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Se]}],container:["container"],columns:[{columns:[Ri]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...st(),Se]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[D]}],"inset-x":[{"inset-x":[D]}],"inset-y":[{"inset-y":[D]}],start:[{start:[D]}],end:[{end:[D]}],top:[{top:[D]}],right:[{right:[D]}],bottom:[{bottom:[D]}],left:[{left:[D]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hl,Se]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Se]}],grow:[{grow:he()}],shrink:[{shrink:he()}],order:[{order:["first","last","none",hl,Se]}],"grid-cols":[{"grid-cols":[fl]}],"col-start-end":[{col:["auto",{span:["full",hl,Se]},Se]}],"col-start":[{"col-start":Be()}],"col-end":[{"col-end":Be()}],"grid-rows":[{"grid-rows":[fl]}],"row-start-end":[{row:["auto",{span:[hl,Se]},Se]}],"row-start":[{"row-start":Be()}],"row-end":[{"row-end":Be()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Se]}],gap:[{gap:[I]}],"gap-x":[{"gap-x":[I]}],"gap-y":[{"gap-y":[I]}],"justify-content":[{justify:["normal",...ne()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ne(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ne(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[H]}],px:[{px:[H]}],py:[{py:[H]}],ps:[{ps:[H]}],pe:[{pe:[H]}],pt:[{pt:[H]}],pr:[{pr:[H]}],pb:[{pb:[H]}],pl:[{pl:[H]}],m:[{m:[V]}],mx:[{mx:[V]}],my:[{my:[V]}],ms:[{ms:[V]}],me:[{me:[V]}],mt:[{mt:[V]}],mr:[{mr:[V]}],mb:[{mb:[V]}],ml:[{ml:[V]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Se,e]}],"min-w":[{"min-w":[Se,e,"min","max","fit"]}],"max-w":[{"max-w":[Se,e,"none","full","min","max","fit","prose",{screen:[Ri]},Ri]}],h:[{h:[Se,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Se,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Se,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Se,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ri,Ci]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Tf]}],"font-family":[{font:[fl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Se]}],"line-clamp":[{"line-clamp":["none",$o,Tf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ur,Se]}],"list-image":[{"list-image":["none",Se]}],"list-style-type":[{list:["none","disc","decimal",Se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...We(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ur,Ci]}],"underline-offset":[{"underline-offset":["auto",Ur,Se]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...st(),Mb]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Lb]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Fb]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...We(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:We()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...We()]}],"outline-offset":[{"outline-offset":[Ur,Se]}],"outline-w":[{outline:[Ur,Ci]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:b()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Ur,Ci]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Ri,Ub]}],"shadow-color":[{shadow:[fl]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...Ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ae()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",Ri,Se]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[w]}],invert:[{invert:[E]}],saturate:[{saturate:[G]}],sepia:[{sepia:[ae]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[w]}],"backdrop-invert":[{"backdrop-invert":[E]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[G]}],"backdrop-sepia":[{"backdrop-sepia":[ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Se]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Se]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Q]}],"scale-x":[{"scale-x":[Q]}],"scale-y":[{"scale-y":[Q]}],rotate:[{rotate:[hl,Se]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[me]}],"skew-y":[{"skew-y":[me]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Se]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Ur,Ci,Tf]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Hb=Cb(Wb);function On(...n){return Hb(yE(n))}const qb=im("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),qe=C.forwardRef(({className:n,variant:e,size:t,asChild:i=!1,...o},a)=>{const c=i?lb:"button";return v.jsx(c,{className:On(qb({variant:e,size:t,className:n})),ref:a,...o})});qe.displayName="Button";const ct=C.forwardRef(({className:n,...e},t)=>v.jsx("div",{ref:t,className:On("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));ct.displayName="Card";const pt=C.forwardRef(({className:n,...e},t)=>v.jsx("div",{ref:t,className:On("flex flex-col space-y-1.5 p-6",n),...e}));pt.displayName="CardHeader";const nt=C.forwardRef(({className:n,...e},t)=>v.jsx("h3",{ref:t,className:On("text-2xl font-semibold leading-none tracking-tight",n),...e}));nt.displayName="CardTitle";const rt=C.forwardRef(({className:n,...e},t)=>v.jsx("p",{ref:t,className:On("text-sm text-muted-foreground",n),...e}));rt.displayName="CardDescription";const Yt=C.forwardRef(({className:n,...e},t)=>v.jsx("div",{ref:t,className:On("p-6 pt-0",n),...e}));Yt.displayName="CardContent";const Kb=C.forwardRef(({className:n,...e},t)=>v.jsx("div",{ref:t,className:On("flex items-center p-6 pt-0",n),...e}));Kb.displayName="CardFooter";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TE=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=C.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:c,...h},p)=>C.createElement("svg",{ref:p,...Qb,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:TE("lucide",o),...h},[...c.map(([m,w])=>C.createElement(m,w)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=(n,e)=>{const t=C.forwardRef(({className:i,...o},a)=>C.createElement(Yb,{ref:a,iconNode:e,className:TE(`lucide-${Gb(n)}`,i),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=Bt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Bt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=Bt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=Bt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Bt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=Bt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=Bt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=Bt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=Bt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Bt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=Bt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=Bt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=Bt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=Bt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=Bt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=Bt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=Bt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function aN(){return v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[v.jsx("header",{className:"border-b bg-white/80 backdrop-blur-sm",children:v.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[v.jsxs(xt,{to:"/",className:"flex items-center gap-2 group",children:[v.jsx(Vn,{className:"w-8 h-8 text-blue-600 group-hover:text-blue-400 transition-colors"}),v.jsx("span",{className:"text-xl font-bold text-foreground group-hover:text-blue-400 transition-colors",children:"ProgressWidget"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(xt,{to:"/login",className:"text-blue-600 font-medium hover:text-blue-400 hover:scale-95",children:"Sign In"}),v.jsx(xt,{to:"/signup",children:v.jsx(qe,{className:"hover:bg-blue-500 hover:scale-95",children:"Sign Up"})})]})]})}),v.jsxs("section",{className:"container mx-auto px-4 py-20 text-center",children:[v.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-6",children:"Beautiful Progress Bars for Your Website"}),v.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Create stunning, customizable progress bar widgets that showcase your skills, project completion, or any metric. Embed them anywhere with a simple code snippet."}),v.jsxs("div",{className:"flex items-center justify-center gap-4",children:[v.jsx(xt,{to:"/login",children:v.jsxs(qe,{size:"lg",className:"px-8",children:[v.jsx(jl,{className:"w-4 h-4 mr-2"}),"Get Started"]})}),v.jsx(qe,{size:"lg",variant:"outline",className:"px-8",children:"View Demo"})]})]}),v.jsxs("section",{className:"container mx-auto px-4 py-16",children:[v.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Why Choose ProgressWidget?"}),v.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[v.jsx(ct,{children:v.jsxs(pt,{children:[v.jsx(iN,{className:"w-12 h-12 text-blue-600 mb-4"}),v.jsx(nt,{children:"Fully Customizable"}),v.jsx(rt,{children:"Change colors, icons, text, and percentages to match your brand perfectly."})]})}),v.jsx(ct,{children:v.jsxs(pt,{children:[v.jsx(oN,{className:"w-12 h-12 text-green-600 mb-4"}),v.jsx(nt,{children:"Easy to Embed"}),v.jsx(rt,{children:"Copy and paste a simple code snippet to add your progress bars anywhere."})]})}),v.jsx(ct,{children:v.jsxs(pt,{children:[v.jsx(rd,{className:"w-12 h-12 text-purple-600 mb-4"}),v.jsx(nt,{children:"Real-time Updates"}),v.jsx(rt,{children:"Update your progress bars from your dashboard and see changes instantly."})]})})]})]}),v.jsx("section",{className:"container mx-auto px-4 py-16",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-2xl mx-auto",children:[v.jsx("h3",{className:"text-2xl font-bold text-center mb-8",children:"Live Preview"}),v.jsxs("div",{className:"bg-slate-900 rounded-lg p-6 space-y-6",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center",children:v.jsx(Vn,{className:"w-6 h-6 text-white"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"text-white font-medium mb-2",children:"Photography"}),v.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:v.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"70%"}})})]}),v.jsx("div",{className:"text-white font-medium",children:"70%"})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center",children:v.jsx(rd,{className:"w-6 h-6 text-white"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"text-white font-medium mb-2",children:"Videography"}),v.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:v.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"82%"}})})]}),v.jsx("div",{className:"text-white font-medium",children:"82%"})]})]})]})}),v.jsx("footer",{className:"bg-gray-900 text-white py-12",children:v.jsxs("div",{className:"container mx-auto px-4 text-center",children:[v.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[v.jsx(Vn,{className:"w-6 h-6"}),v.jsx("span",{className:"text-lg font-bold",children:"ProgressWidget"})]}),v.jsx("p",{className:"text-gray-400",children:" 2024 ProgressWidget. All rights reserved."})]})})]})}const pn=C.forwardRef(({className:n,type:e,icon:t,...i},o)=>v.jsxs("div",{className:"relative w-full",children:[t&&v.jsx("span",{className:"absolute top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none",style:{left:"4px"},children:t}),v.jsx("input",{type:e,className:On("flex h-10 w-full rounded-md border border-input bg-background py-2 px-3 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:o,...i})]}));pn.displayName="Input";var lN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fa=lN.reduce((n,e)=>{const t=td(`Primitive.${e}`),i=C.forwardRef((o,a)=>{const{asChild:c,...h}=o,p=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(p,{...h,ref:a})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{}),uN="Label",SE=C.forwardRef((n,e)=>v.jsx(fa.label,{...n,ref:e,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=n.onMouseDown)==null||o.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));SE.displayName=uN;var CE=SE;const cN=im("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ft=C.forwardRef(({className:n,...e},t)=>v.jsx(CE,{ref:t,className:On(cN(),n),...e}));Ft.displayName=CE.displayName;function dN(){const[n,e]=C.useState(""),[t,i]=C.useState(!1),[o,a]=C.useState(!1),[c,h]=C.useState(""),{sendMagicLink:p}=Xi(),m=async w=>{w.preventDefault(),i(!0),h("");try{await p(n),a(!0)}catch(E){h(E.message||"Failed to send magic link")}finally{i(!1)}};return o?v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:v.jsxs(ct,{className:"w-full max-w-md",children:[v.jsxs(pt,{className:"text-center",children:[v.jsxs(xt,{to:"/",className:"flex items-center justify-center gap-2 mb-4 group",children:[v.jsx(Vn,{className:"w-8 h-8 text-blue-600 group-hover:text-blue-300 transition-colors"}),v.jsx("span",{className:"text-xl font-bold group-hover:text-blue-300 transition-colors",children:"Progress Widget"})]}),v.jsx(nt,{children:"Check your email"}),v.jsxs(rt,{children:["We've sent a magic link to ",n]})]}),v.jsxs(Yt,{className:"text-center space-y-4",children:[v.jsxs("div",{className:"p-6 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:[v.jsx("div",{className:"flex items-center justify-center mb-3",children:v.jsxs("div",{className:"relative",children:[v.jsx(Cl,{className:"w-12 h-12 text-blue-600"}),v.jsx(jl,{className:"w-4 h-4 text-purple-500 absolute -top-1 -right-1"})]})}),v.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Magic link sent!"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Click the link in your email to sign in instantly. The link will expire in 1 hour."})]}),v.jsx("div",{className:"text-xs text-gray-500 space-y-1",children:v.jsx("p",{children:"Didn't receive the email? Check your spam folder."})}),v.jsx(qe,{variant:"outline",onClick:()=>{a(!1),e("")},className:"w-full",children:"Use a different email"})]})]})}):v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:v.jsxs(ct,{className:"w-full max-w-md",children:[v.jsxs(pt,{className:"text-center",children:[v.jsxs(xt,{to:"/",className:"flex items-center justify-center gap-2 mb-4 group",children:[v.jsx(Vn,{className:"w-8 h-8 text-blue-600 group-hover:text-blue-300 transition-colors"}),v.jsx("span",{className:"text-xl font-bold group-hover:text-blue-300 transition-colors",children:"Progress Widget"})]}),v.jsx(nt,{children:"Welcome back"}),v.jsx(rt,{children:"Enter your email to receive a magic link for instant sign-in"})]}),v.jsxs(Yt,{className:"space-y-6",children:[v.jsxs("form",{onSubmit:m,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ft,{htmlFor:"email",children:"Email address"}),v.jsx(pn,{id:"email",type:"email",placeholder:"Enter your email",value:n,onChange:w=>e(w.target.value),required:!0,className:"h-12"})]}),v.jsx(qe,{type:"submit",className:"w-full h-12",disabled:t||!n,children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(jl,{className:"w-4 h-4"}),t?"Sending magic link...":"Send magic link"]})})]}),c&&v.jsx("div",{className:"p-3 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:c}),v.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(Cl,{className:"w-5 h-5 text-blue-600 mt-0.5"}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-blue-900 text-sm",children:"How it works"}),v.jsx("p",{className:"text-blue-700 text-xs mt-1",children:"We'll send you a secure link via email. Click it to sign in instantly - no password required!"})]})]})}),v.jsxs("div",{className:"text-center text-xs text-gray-500",children:["By signing in, you agree to our Terms of Service and Privacy Policy",v.jsxs("div",{className:"mt-2",children:["Dont have an account?"," ",v.jsx(xt,{to:"/signup",className:"text-blue-600 hover:underline font-medium",children:"Sign up"})]})]})]})]})})}function g_(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function RE(...n){return e=>{let t=!1;const i=n.map(o=>{const a=g_(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<i.length;o++){const a=i[o];typeof a=="function"?a():g_(n[o],null)}}}}function AE(...n){return C.useCallback(RE(...n),n)}function hN(n,e=[]){let t=[];function i(a,c){const h=C.createContext(c),p=t.length;t=[...t,c];const m=E=>{var N;const{scope:I,children:S,...R}=E,D=((N=I==null?void 0:I[n])==null?void 0:N[p])||h,V=C.useMemo(()=>R,Object.values(R));return v.jsx(D.Provider,{value:V,children:S})};m.displayName=a+"Provider";function w(E,I){var D;const S=((D=I==null?void 0:I[n])==null?void 0:D[p])||h,R=C.useContext(S);if(R)return R;if(c!==void 0)return c;throw new Error(`\`${E}\` must be used within \`${a}\``)}return[m,w]}const o=()=>{const a=t.map(c=>C.createContext(c));return function(h){const p=(h==null?void 0:h[n])||a;return C.useMemo(()=>({[`__scope${n}`]:{...h,[n]:p}}),[h,p])}};return o.scopeName=n,[i,fN(o,...e)]}function fN(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=i.reduce((h,{useScope:p,scopeName:m})=>{const E=p(a)[`__scope${m}`];return{...h,...E}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function y_(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n==null||n(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function kE(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n}),C.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function pN({prop:n,defaultProp:e,onChange:t=()=>{}}){const[i,o]=mN({defaultProp:e,onChange:t}),a=n!==void 0,c=a?n:i,h=kE(t),p=C.useCallback(m=>{if(a){const E=typeof m=="function"?m(n):m;E!==n&&h(E)}else o(m)},[a,n,o,h]);return[c,p]}function mN({defaultProp:n,onChange:e}){const t=C.useState(n),[i]=t,o=C.useRef(i),a=kE(e);return C.useEffect(()=>{o.current!==i&&(a(i),o.current=i)},[i,o,a]),t}function gN(n){const e=C.useRef({value:n,previous:n});return C.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var Zf=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{};function yN(n){const[e,t]=C.useState(void 0);return Zf(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,h;if("borderBoxSize"in a){const p=a.borderBoxSize,m=Array.isArray(p)?p[0]:p;c=m.inlineSize,h=m.blockSize}else c=n.offsetWidth,h=n.offsetHeight;t({width:c,height:h})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}function vN(n,e){return C.useReducer((t,i)=>e[t][i]??t,n)}var PE=n=>{const{present:e,children:t}=n,i=_N(e),o=typeof t=="function"?t({present:i.isPresent}):C.Children.only(t),a=AE(i.ref,wN(o));return typeof t=="function"||i.isPresent?C.cloneElement(o,{ref:a}):null};PE.displayName="Presence";function _N(n){const[e,t]=C.useState(),i=C.useRef({}),o=C.useRef(n),a=C.useRef("none"),c=n?"mounted":"unmounted",[h,p]=vN(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const m=Ec(i.current);a.current=h==="mounted"?m:"none"},[h]),Zf(()=>{const m=i.current,w=o.current;if(w!==n){const I=a.current,S=Ec(m);n?p("MOUNT"):S==="none"||(m==null?void 0:m.display)==="none"?p("UNMOUNT"):p(w&&I!==S?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,p]),Zf(()=>{if(e){let m;const w=e.ownerDocument.defaultView??window,E=S=>{const D=Ec(i.current).includes(S.animationName);if(S.target===e&&D&&(p("ANIMATION_END"),!o.current)){const V=e.style.animationFillMode;e.style.animationFillMode="forwards",m=w.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=V)})}},I=S=>{S.target===e&&(a.current=Ec(i.current))};return e.addEventListener("animationstart",I),e.addEventListener("animationcancel",E),e.addEventListener("animationend",E),()=>{w.clearTimeout(m),e.removeEventListener("animationstart",I),e.removeEventListener("animationcancel",E),e.removeEventListener("animationend",E)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:C.useCallback(m=>{m&&(i.current=getComputedStyle(m)),t(m)},[])}}function Ec(n){return(n==null?void 0:n.animationName)||"none"}function wN(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var bE=C.forwardRef((n,e)=>{const{children:t,...i}=n,o=C.Children.toArray(t),a=o.find(IN);if(a){const c=a.props.children,h=o.map(p=>p===a?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:p);return v.jsx(ep,{...i,ref:e,children:C.isValidElement(c)?C.cloneElement(c,void 0,h):null})}return v.jsx(ep,{...i,ref:e,children:t})});bE.displayName="Slot";var ep=C.forwardRef((n,e)=>{const{children:t,...i}=n;if(C.isValidElement(t)){const o=xN(t);return C.cloneElement(t,{...TN(i,t.props),ref:e?RE(e,o):o})}return C.Children.count(t)>1?C.Children.only(null):null});ep.displayName="SlotClone";var EN=({children:n})=>v.jsx(v.Fragment,{children:n});function IN(n){return C.isValidElement(n)&&n.type===EN}function TN(n,e){const t={...e};for(const i in e){const o=n[i],a=e[i];/^on[A-Z]/.test(i)?o&&a?t[i]=(...h)=>{a(...h),o(...h)}:o&&(t[i]=o):i==="style"?t[i]={...o,...a}:i==="className"&&(t[i]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function xN(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var SN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],NE=SN.reduce((n,e)=>{const t=C.forwardRef((i,o)=>{const{asChild:a,...c}=i,h=a?bE:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(h,{...c,ref:o})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{}),am="Checkbox",[CN,R2]=hN(am),[RN,AN]=CN(am),DE=C.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:i,checked:o,defaultChecked:a,required:c,disabled:h,value:p="on",onCheckedChange:m,form:w,...E}=n,[I,S]=C.useState(null),R=AE(e,Q=>S(Q)),D=C.useRef(!1),V=I?w||!!I.closest("form"):!0,[N=!1,H]=pN({prop:o,defaultProp:a,onChange:m}),G=C.useRef(N);return C.useEffect(()=>{const Q=I==null?void 0:I.form;if(Q){const ae=()=>H(G.current);return Q.addEventListener("reset",ae),()=>Q.removeEventListener("reset",ae)}},[I,H]),v.jsxs(RN,{scope:t,state:N,disabled:h,children:[v.jsx(NE.button,{type:"button",role:"checkbox","aria-checked":Fi(N)?"mixed":N,"aria-required":c,"data-state":LE(N),"data-disabled":h?"":void 0,disabled:h,value:p,...E,ref:R,onKeyDown:y_(n.onKeyDown,Q=>{Q.key==="Enter"&&Q.preventDefault()}),onClick:y_(n.onClick,Q=>{H(ae=>Fi(ae)?!0:!ae),V&&(D.current=Q.isPropagationStopped(),D.current||Q.stopPropagation())})}),V&&v.jsx(kN,{control:I,bubbles:!D.current,name:i,value:p,checked:N,required:c,disabled:h,form:w,style:{transform:"translateX(-100%)"},defaultChecked:Fi(a)?!1:a})]})});DE.displayName=am;var VE="CheckboxIndicator",OE=C.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:i,...o}=n,a=AN(VE,t);return v.jsx(PE,{present:i||Fi(a.state)||a.state===!0,children:v.jsx(NE.span,{"data-state":LE(a.state),"data-disabled":a.disabled?"":void 0,...o,ref:e,style:{pointerEvents:"none",...n.style}})})});OE.displayName=VE;var kN=n=>{const{control:e,checked:t,bubbles:i=!0,defaultChecked:o,...a}=n,c=C.useRef(null),h=gN(t),p=yN(e);C.useEffect(()=>{const w=c.current,E=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(E,"checked").set;if(h!==t&&S){const R=new Event("click",{bubbles:i});w.indeterminate=Fi(t),S.call(w,Fi(t)?!1:t),w.dispatchEvent(R)}},[h,t,i]);const m=C.useRef(Fi(t)?!1:t);return v.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o??m.current,...a,tabIndex:-1,ref:c,style:{...n.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Fi(n){return n==="indeterminate"}function LE(n){return Fi(n)?"indeterminate":n?"checked":"unchecked"}var ME=DE,PN=OE;const jE=C.forwardRef(({className:n,...e},t)=>v.jsx(ME,{ref:t,className:On("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...e,children:v.jsx(PN,{className:"flex items-center justify-center text-current",children:v.jsx(Xb,{className:"h-4 w-4"})})}));jE.displayName=ME.displayName;function bN(){const[n,e]=C.useState(""),[t,i]=C.useState(""),[o,a]=C.useState(!1),[c,h]=C.useState(!1),[p,m]=C.useState(!1),{signUp:w}=Xi(),[E,I]=C.useState(""),S=async R=>{if(R.preventDefault(),h(!0),I(""),!o){I("Please accept the Terms and Conditions to continue"),h(!1);return}try{await w(n,t),m(!0)}catch(D){I(D.message||"Failed to create account")}finally{h(!1)}};return p?v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:v.jsxs(ct,{className:"w-full max-w-md",children:[v.jsxs(pt,{className:"text-center",children:[v.jsxs(xt,{to:"/",className:"flex items-center justify-center gap-2 mb-4 group",children:[v.jsx(Vn,{className:"w-8 h-8 text-blue-600 group-hover:text-blue-300 transition-colors"}),v.jsx("span",{className:"text-xl font-bold group-hover:text-blue-300 transition-colors",children:"Progress Widget"})]}),v.jsx(nt,{children:"Check your email"}),v.jsxs(rt,{children:["We've sent a magic link to ",n]})]}),v.jsxs(Yt,{className:"text-center space-y-4",children:[v.jsxs("div",{className:"p-6 bg-gradient-to-br from-green-50 to-blue-50 rounded-lg border border-green-200",children:[v.jsx("div",{className:"flex items-center justify-center mb-3",children:v.jsxs("div",{className:"relative",children:[v.jsx(Cl,{className:"w-12 h-12 text-green-600"}),v.jsx(jl,{className:"w-4 h-4 text-purple-500 absolute -top-1 -right-1"})]})}),v.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Welcome to ProgressWidget!"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Click the link in your email to activate your account and start creating beautiful progress widgets."})]}),v.jsx("div",{className:"text-xs text-gray-500 space-y-1",children:v.jsx("p",{children:"Didn't receive the email? Check your spam folder."})}),v.jsx(qe,{variant:"outline",onClick:()=>{m(!1),e(""),i(""),a(!1)},className:"w-full",children:"Use different details"})]})]})}):v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:v.jsxs(ct,{className:"w-full max-w-md",children:[v.jsxs(pt,{className:"text-center",children:[v.jsxs(xt,{to:"/",className:"flex items-center justify-center gap-2 mb-4 group",children:[v.jsx(Vn,{className:"w-8 h-8 text-blue-600 group-hover:text-blue-300 transition-colors"}),v.jsx("span",{className:"text-xl font-bold group-hover:text-blue-300 transition-colors",children:"Progress Widget"})]}),v.jsx(nt,{children:"Create your account"}),v.jsx(rt,{children:"Get started with beautiful progress widgets in seconds"})]}),v.jsxs(Yt,{className:"space-y-6",children:[v.jsxs("form",{onSubmit:S,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ft,{htmlFor:"name",children:"Full name"}),v.jsx(pn,{id:"name",type:"text",placeholder:"Enter your full name",value:t,onChange:R=>i(R.target.value),required:!0,className:"h-12 pl-8",icon:v.jsx(sN,{className:"w-4 h-4"})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ft,{htmlFor:"email",children:"Email address"}),v.jsx(pn,{id:"email",type:"email",placeholder:"Enter your email",value:n,onChange:R=>e(R.target.value),required:!0,className:"h-12 pl-8",icon:v.jsx(Cl,{className:"w-4 h-4"})})]}),v.jsx("div",{className:"space-y-4",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(jE,{id:"terms",checked:o,onCheckedChange:R=>a(R),className:"mt-1"}),v.jsx("div",{className:"text-sm",children:v.jsxs(Ft,{htmlFor:"terms",className:"cursor-pointer",children:["I agree to the"," ",v.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Terms and Conditions"})," ","and"," ",v.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})})]})}),v.jsx(qe,{type:"submit",className:"w-full h-12",disabled:c||!n||!t||!o,children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(jl,{className:"w-4 h-4"}),c?"Creating account...":"Create account"]})})]}),E&&v.jsx("div",{className:"p-3 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:E}),v.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(Cl,{className:"w-5 h-5 text-blue-600 mt-0.5"}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-blue-900 text-sm",children:"Passwordless sign-up"}),v.jsx("p",{className:"text-blue-700 text-xs mt-1",children:"We'll send you a secure magic link to activate your account. No password required!"})]})]})}),v.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",v.jsx(xt,{to:"/login",className:"text-blue-600 hover:underline font-medium",children:"Sign in"})]})]})]})})}const NN=im("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function DN({className:n,variant:e,...t}){return v.jsx("div",{className:On(NN({variant:e}),n),...t})}async function VN(n){const e=new Date().toISOString();return(await nb(Zw(Ds,"widgets"),{...n,createdAt:e,updatedAt:e,embedViews:0})).id}async function ON(n){const e=KP(Zw(Ds,"widgets"),GP("userId","==",n),QP("createdAt","desc"));return(await ZP(e)).docs.map(i=>({id:i.id,...i.data()}))}async function lm(n){const e=Jo(Ds,"widgets",n),t=await dE(e);return t.exists()?{id:t.id,...t.data()}:null}async function FE(n,e){const t=Jo(Ds,"widgets",n);await eb(t,{...e,updatedAt:new Date().toISOString()})}async function LN(n){const e=Jo(Ds,"widgets",n);await tb(e)}async function MN(n){const e=await lm(n);e&&await FE(n,{embedViews:e.embedViews+1})}function jN(){const{user:n,logout:e}=Xi(),t=Ul(),[i,o]=C.useState([]),[a,c]=C.useState(!0);C.useEffect(()=>{n&&h()},[n]);const h=async()=>{if(n)try{const E=await ON(n.uid);o(E)}catch(E){console.error("Error loading widgets:",E)}finally{c(!1)}},p=async E=>{if(confirm("Are you sure you want to delete this widget?"))try{await LN(E),o(i.filter(I=>I.id!==E))}catch(I){console.error("Error deleting widget:",I)}},m=async()=>{try{await e(),t("/")}catch(E){console.error("Error signing out:",E)}},w=E=>{const I=`<iframe src="${window.location.origin}/embed/${E}" width="400" height="320"></iframe>`;navigator.clipboard.writeText(I)};return a?v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx("header",{className:"bg-white border-b",children:v.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Vn,{className:"w-8 h-8 text-blue-600"}),v.jsx("span",{className:"text-xl font-bold",children:"ProgressWidget"})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",n==null?void 0:n.email]}),v.jsxs(qe,{variant:"ghost",size:"sm",children:[v.jsx(rd,{className:"w-4 h-4 mr-2"}),"Settings"]}),v.jsxs(qe,{variant:"ghost",size:"sm",onClick:m,children:[v.jsx(rN,{className:"w-4 h-4 mr-2"}),"Sign out"]})]})]})}),v.jsxs("div",{className:"container mx-auto px-4 py-8",children:[v.jsxs("div",{className:"flex items-center justify-between mb-8",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),v.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your progress bar widgets"})]}),v.jsx(xt,{to:"/dashboard/create",children:v.jsxs(qe,{children:[v.jsx(nd,{className:"w-4 h-4 mr-2"}),"Create New Widget"]})})]}),v.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[v.jsx(ct,{children:v.jsxs(pt,{className:"pb-2",children:[v.jsx(rt,{children:"Total Widgets"}),v.jsx(nt,{className:"text-3xl",children:i.length})]})}),v.jsx(ct,{children:v.jsxs(pt,{className:"pb-2",children:[v.jsx(rt,{children:"Total Views"}),v.jsx(nt,{className:"text-3xl",children:i.reduce((E,I)=>E+I.embedViews,0).toLocaleString()})]})}),v.jsx(ct,{children:v.jsxs(pt,{className:"pb-2",children:[v.jsx(rt,{children:"Active Embeds"}),v.jsx(nt,{className:"text-3xl",children:i.length})]})})]}),v.jsx("div",{className:"space-y-6",children:i.map(E=>v.jsxs(ct,{children:[v.jsx(pt,{children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsxs(nt,{className:"flex items-center gap-2",children:[E.name,v.jsxs(DN,{variant:"secondary",children:[E.items.length," items"]})]}),v.jsxs(rt,{children:["Created on ",new Date(E.createdAt).toLocaleDateString()," ",E.embedViews.toLocaleString()," ","views"]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(xt,{to:`/dashboard/edit/${E.id}`,children:v.jsxs(qe,{variant:"outline",size:"sm",children:[v.jsx(rd,{className:"w-4 h-4 mr-2"}),"Edit"]})}),v.jsx(xt,{to:`/embed/${E.id}`,target:"_blank",children:v.jsxs(qe,{variant:"outline",size:"sm",children:[v.jsx(tN,{className:"w-4 h-4 mr-2"}),"Preview"]})}),v.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>w(E.id),children:[v.jsx(eN,{className:"w-4 h-4 mr-2"}),"Embed"]}),v.jsx(qe,{variant:"outline",size:"sm",onClick:()=>p(E.id),children:v.jsx(om,{className:"w-4 h-4"})})]})]})}),v.jsx(Yt,{children:v.jsx("div",{className:"bg-slate-900 rounded-lg p-4 space-y-4",children:E.items.map(I=>v.jsxs("div",{className:"flex items-center gap-4",children:[I.image?v.jsx("img",{src:I.image,alt:I.label,className:`size-10 rounded-lg object-cover bg-${I.color}-500`}):v.jsx("div",{className:`size-10 bg-${I.color}-500 rounded-lg flex items-center justify-center text-lg`}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"text-white font-medium mb-1",children:I.label}),v.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:v.jsx("div",{className:`bg-${I.color}-500 h-2 rounded-full transition-all duration-300`,style:{width:`${I.percentage}%`}})})]}),v.jsxs("div",{className:"text-white font-medium",children:[I.percentage.toFixed(0),"%"]})]},I.id))})})]},E.id))}),i.length===0&&v.jsx(ct,{className:"text-center py-12",children:v.jsxs(Yt,{children:[v.jsx(Vn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),v.jsx(nt,{className:"mb-2",children:"No widgets yet"}),v.jsx(rt,{className:"mb-4",children:"Create your first progress bar widget to get started"}),v.jsx(xt,{to:"/dashboard/create",children:v.jsxs(qe,{children:[v.jsx(nd,{className:"w-4 h-4 mr-2"}),"Create Your First Widget"]})})]})})]})]})}function FN(){return v.jsx(Bo,{children:v.jsx(jN,{})})}function UE(n,[e,t]){return Math.min(t,Math.max(e,n))}function Mo(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n==null||n(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function zE(n,e=[]){let t=[];function i(a,c){const h=C.createContext(c),p=t.length;t=[...t,c];const m=E=>{var N;const{scope:I,children:S,...R}=E,D=((N=I==null?void 0:I[n])==null?void 0:N[p])||h,V=C.useMemo(()=>R,Object.values(R));return v.jsx(D.Provider,{value:V,children:S})};m.displayName=a+"Provider";function w(E,I){var D;const S=((D=I==null?void 0:I[n])==null?void 0:D[p])||h,R=C.useContext(S);if(R)return R;if(c!==void 0)return c;throw new Error(`\`${E}\` must be used within \`${a}\``)}return[m,w]}const o=()=>{const a=t.map(c=>C.createContext(c));return function(h){const p=(h==null?void 0:h[n])||a;return C.useMemo(()=>({[`__scope${n}`]:{...h,[n]:p}}),[h,p])}};return o.scopeName=n,[i,UN(o,...e)]}function UN(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=i.reduce((h,{useScope:p,scopeName:m})=>{const E=p(a)[`__scope${m}`];return{...h,...E}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}var BE=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},zN=dT[" useInsertionEffect ".trim().toString()]||BE;function BN({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[o,a,c]=$N({defaultProp:e,onChange:t}),h=n!==void 0,p=h?n:o;{const w=C.useRef(n!==void 0);C.useEffect(()=>{const E=w.current;E!==h&&console.warn(`${i} is changing from ${E?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),w.current=h},[h,i])}const m=C.useCallback(w=>{var E;if(h){const I=WN(w)?w(n):w;I!==n&&((E=c.current)==null||E.call(c,I))}else a(w)},[h,n,a,c]);return[p,m]}function $N({defaultProp:n,onChange:e}){const[t,i]=C.useState(n),o=C.useRef(t),a=C.useRef(e);return zN(()=>{a.current=e},[e]),C.useEffect(()=>{var c;o.current!==t&&((c=a.current)==null||c.call(a,t),o.current=t)},[t,o]),[t,i,a]}function WN(n){return typeof n=="function"}var HN=C.createContext(void 0);function qN(n){const e=C.useContext(HN);return n||e||"ltr"}function KN(n){const e=C.useRef({value:n,previous:n});return C.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}function GN(n){const[e,t]=C.useState(void 0);return BE(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,h;if("borderBoxSize"in a){const p=a.borderBoxSize,m=Array.isArray(p)?p[0]:p;c=m.inlineSize,h=m.blockSize}else c=n.offsetWidth,h=n.offsetHeight;t({width:c,height:h})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}function QN(n){const e=n+"CollectionProvider",[t,i]=zE(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=D=>{const{scope:V,children:N}=D,H=Br.useRef(null),G=Br.useRef(new Map).current;return v.jsx(o,{scope:V,itemMap:G,collectionRef:H,children:N})};c.displayName=e;const h=n+"CollectionSlot",p=td(h),m=Br.forwardRef((D,V)=>{const{scope:N,children:H}=D,G=a(h,N),Q=qi(V,G.collectionRef);return v.jsx(p,{ref:Q,children:H})});m.displayName=h;const w=n+"CollectionItemSlot",E="data-radix-collection-item",I=td(w),S=Br.forwardRef((D,V)=>{const{scope:N,children:H,...G}=D,Q=Br.useRef(null),ae=qi(V,Q),me=a(w,N);return Br.useEffect(()=>(me.itemMap.set(Q,{ref:Q,...G}),()=>void me.itemMap.delete(Q))),v.jsx(I,{[E]:"",ref:ae,children:H})});S.displayName=w;function R(D){const V=a(n+"CollectionConsumer",D);return Br.useCallback(()=>{const H=V.collectionRef.current;if(!H)return[];const G=Array.from(H.querySelectorAll(`[${E}]`));return Array.from(V.itemMap.values()).sort((me,L)=>G.indexOf(me.ref.current)-G.indexOf(L.ref.current))},[V.collectionRef,V.itemMap])}return[{Provider:c,Slot:m,ItemSlot:S},R,i]}var $E=["PageUp","PageDown"],WE=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],HE={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},pa="Slider",[tp,YN,XN]=QN(pa),[qE,A2]=zE(pa,[XN]),[JN,bd]=qE(pa),KE=C.forwardRef((n,e)=>{const{name:t,min:i=0,max:o=100,step:a=1,orientation:c="horizontal",disabled:h=!1,minStepsBetweenThumbs:p=0,defaultValue:m=[i],value:w,onValueChange:E=()=>{},onValueCommit:I=()=>{},inverted:S=!1,form:R,...D}=n,V=C.useRef(new Set),N=C.useRef(0),G=c==="horizontal"?ZN:e2,[Q=[],ae]=BN({prop:w,defaultProp:m,onChange:j=>{var b;(b=[...V.current][N.current])==null||b.focus(),E(j)}}),me=C.useRef(Q);function L(j){const F=s2(Q,j);O(j,F)}function A(j){O(j,N.current)}function P(){const j=me.current[N.current];Q[N.current]!==j&&I(Q)}function O(j,F,{commit:b}={commit:!1}){const Be=u2(a),st=c2(Math.round((j-i)/a)*a+i,Be),We=UE(st,[i,o]);ae((Ae=[])=>{const ne=r2(Ae,We,F);if(l2(ne,p*a)){N.current=ne.indexOf(We);const he=String(ne)!==String(Ae);return he&&b&&I(ne),he?ne:Ae}else return Ae})}return v.jsx(JN,{scope:n.__scopeSlider,name:t,disabled:h,min:i,max:o,valueIndexToChangeRef:N,thumbs:V.current,values:Q,orientation:c,form:R,children:v.jsx(tp.Provider,{scope:n.__scopeSlider,children:v.jsx(tp.Slot,{scope:n.__scopeSlider,children:v.jsx(G,{"aria-disabled":h,"data-disabled":h?"":void 0,...D,ref:e,onPointerDown:Mo(D.onPointerDown,()=>{h||(me.current=Q)}),min:i,max:o,inverted:S,onSlideStart:h?void 0:L,onSlideMove:h?void 0:A,onSlideEnd:h?void 0:P,onHomeKeyDown:()=>!h&&O(i,0,{commit:!0}),onEndKeyDown:()=>!h&&O(o,Q.length-1,{commit:!0}),onStepKeyDown:({event:j,direction:F})=>{if(!h){const st=$E.includes(j.key)||j.shiftKey&&WE.includes(j.key)?10:1,We=N.current,Ae=Q[We],ne=a*st*F;O(Ae+ne,We,{commit:!0})}}})})})})});KE.displayName=pa;var[GE,QE]=qE(pa,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ZN=C.forwardRef((n,e)=>{const{min:t,max:i,dir:o,inverted:a,onSlideStart:c,onSlideMove:h,onSlideEnd:p,onStepKeyDown:m,...w}=n,[E,I]=C.useState(null),S=qi(e,G=>I(G)),R=C.useRef(void 0),D=qN(o),V=D==="ltr",N=V&&!a||!V&&a;function H(G){const Q=R.current||E.getBoundingClientRect(),ae=[0,Q.width],L=um(ae,N?[t,i]:[i,t]);return R.current=Q,L(G-Q.left)}return v.jsx(GE,{scope:n.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:v.jsx(YE,{dir:D,"data-orientation":"horizontal",...w,ref:S,style:{...w.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:G=>{const Q=H(G.clientX);c==null||c(Q)},onSlideMove:G=>{const Q=H(G.clientX);h==null||h(Q)},onSlideEnd:()=>{R.current=void 0,p==null||p()},onStepKeyDown:G=>{const ae=HE[N?"from-left":"from-right"].includes(G.key);m==null||m({event:G,direction:ae?-1:1})}})})}),e2=C.forwardRef((n,e)=>{const{min:t,max:i,inverted:o,onSlideStart:a,onSlideMove:c,onSlideEnd:h,onStepKeyDown:p,...m}=n,w=C.useRef(null),E=qi(e,w),I=C.useRef(void 0),S=!o;function R(D){const V=I.current||w.current.getBoundingClientRect(),N=[0,V.height],G=um(N,S?[i,t]:[t,i]);return I.current=V,G(D-V.top)}return v.jsx(GE,{scope:n.__scopeSlider,startEdge:S?"bottom":"top",endEdge:S?"top":"bottom",size:"height",direction:S?1:-1,children:v.jsx(YE,{"data-orientation":"vertical",...m,ref:E,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:D=>{const V=R(D.clientY);a==null||a(V)},onSlideMove:D=>{const V=R(D.clientY);c==null||c(V)},onSlideEnd:()=>{I.current=void 0,h==null||h()},onStepKeyDown:D=>{const N=HE[S?"from-bottom":"from-top"].includes(D.key);p==null||p({event:D,direction:N?-1:1})}})})}),YE=C.forwardRef((n,e)=>{const{__scopeSlider:t,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onHomeKeyDown:c,onEndKeyDown:h,onStepKeyDown:p,...m}=n,w=bd(pa,t);return v.jsx(fa.span,{...m,ref:e,onKeyDown:Mo(n.onKeyDown,E=>{E.key==="Home"?(c(E),E.preventDefault()):E.key==="End"?(h(E),E.preventDefault()):$E.concat(WE).includes(E.key)&&(p(E),E.preventDefault())}),onPointerDown:Mo(n.onPointerDown,E=>{const I=E.target;I.setPointerCapture(E.pointerId),E.preventDefault(),w.thumbs.has(I)?I.focus():i(E)}),onPointerMove:Mo(n.onPointerMove,E=>{E.target.hasPointerCapture(E.pointerId)&&o(E)}),onPointerUp:Mo(n.onPointerUp,E=>{const I=E.target;I.hasPointerCapture(E.pointerId)&&(I.releasePointerCapture(E.pointerId),a(E))})})}),XE="SliderTrack",JE=C.forwardRef((n,e)=>{const{__scopeSlider:t,...i}=n,o=bd(XE,t);return v.jsx(fa.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...i,ref:e})});JE.displayName=XE;var np="SliderRange",ZE=C.forwardRef((n,e)=>{const{__scopeSlider:t,...i}=n,o=bd(np,t),a=QE(np,t),c=C.useRef(null),h=qi(e,c),p=o.values.length,m=o.values.map(I=>nI(I,o.min,o.max)),w=p>1?Math.min(...m):0,E=100-Math.max(...m);return v.jsx(fa.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...i,ref:h,style:{...n.style,[a.startEdge]:w+"%",[a.endEdge]:E+"%"}})});ZE.displayName=np;var rp="SliderThumb",eI=C.forwardRef((n,e)=>{const t=YN(n.__scopeSlider),[i,o]=C.useState(null),a=qi(e,h=>o(h)),c=C.useMemo(()=>i?t().findIndex(h=>h.ref.current===i):-1,[t,i]);return v.jsx(t2,{...n,ref:a,index:c})}),t2=C.forwardRef((n,e)=>{const{__scopeSlider:t,index:i,name:o,...a}=n,c=bd(rp,t),h=QE(rp,t),[p,m]=C.useState(null),w=qi(e,H=>m(H)),E=p?c.form||!!p.closest("form"):!0,I=GN(p),S=c.values[i],R=S===void 0?0:nI(S,c.min,c.max),D=i2(i,c.values.length),V=I==null?void 0:I[h.size],N=V?o2(V,R,h.direction):0;return C.useEffect(()=>{if(p)return c.thumbs.add(p),()=>{c.thumbs.delete(p)}},[p,c.thumbs]),v.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[h.startEdge]:`calc(${R}% + ${N}px)`},children:[v.jsx(tp.ItemSlot,{scope:n.__scopeSlider,children:v.jsx(fa.span,{role:"slider","aria-label":n["aria-label"]||D,"aria-valuemin":c.min,"aria-valuenow":S,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...a,ref:w,style:S===void 0?{display:"none"}:n.style,onFocus:Mo(n.onFocus,()=>{c.valueIndexToChangeRef.current=i})})}),E&&v.jsx(tI,{name:o??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:S},i)]})});eI.displayName=rp;var n2="RadioBubbleInput",tI=C.forwardRef(({__scopeSlider:n,value:e,...t},i)=>{const o=C.useRef(null),a=qi(o,i),c=KN(e);return C.useEffect(()=>{const h=o.current;if(!h)return;const p=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(p,"value").set;if(c!==e&&w){const E=new Event("input",{bubbles:!0});w.call(h,e),h.dispatchEvent(E)}},[c,e]),v.jsx(fa.input,{style:{display:"none"},...t,ref:a,defaultValue:e})});tI.displayName=n2;function r2(n=[],e,t){const i=[...n];return i[t]=e,i.sort((o,a)=>o-a)}function nI(n,e,t){const a=100/(t-e)*(n-e);return UE(a,[0,100])}function i2(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function s2(n,e){if(n.length===1)return 0;const t=n.map(o=>Math.abs(o-e)),i=Math.min(...t);return t.indexOf(i)}function o2(n,e,t){const i=n/2,a=um([0,50],[0,i]);return(i-a(e)*t)*t}function a2(n){return n.slice(0,-1).map((e,t)=>n[t+1]-e)}function l2(n,e){if(e>0){const t=a2(n);return Math.min(...t)>=e}return!0}function um(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const i=(e[1]-e[0])/(n[1]-n[0]);return e[0]+i*(t-n[0])}}function u2(n){return(String(n).split(".")[1]||"").length}function c2(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}var rI=KE,d2=JE,h2=ZE,f2=eI;const cm=C.forwardRef(({className:n,...e},t)=>v.jsxs(rI,{ref:t,className:On("relative flex w-full touch-none select-none items-center",n),...e,children:[v.jsx(d2,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:v.jsx(h2,{className:"absolute h-full bg-primary"})}),v.jsx(f2,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));cm.displayName=rI.displayName;const p2=[{value:"blue",label:"Blue",class:"bg-blue-500"},{value:"purple",label:"Purple",class:"bg-purple-500"},{value:"red",label:"Red",class:"bg-red-500"},{value:"green",label:"Green",class:"bg-green-500"},{value:"orange",label:"Orange",class:"bg-orange-500"},{value:"pink",label:"Pink",class:"bg-pink-500"},{value:"yellow",label:"Yellow",class:"bg-yellow-500"},{value:"indigo",label:"Indigo",class:"bg-indigo-500"},{value:"teal",label:"Teal",class:"bg-teal-500"},{value:"cyan",label:"Cyan",class:"bg-cyan-500"},{value:"lime",label:"Lime",class:"bg-lime-500"},{value:"emerald",label:"Emerald",class:"bg-emerald-500"}],m2=1024*1024;function g2(){const{user:n}=Xi(),e=Ul(),[t,i]=C.useState(""),[o,a]=C.useState([{id:"1",label:"Photography",percentage:70,color:"blue",image:null,current:70,goal:100}]),[c,h]=C.useState(!1),p=()=>{const S={id:Date.now().toString(),label:"New Skill",percentage:50,color:"blue",image:null,current:50,goal:100};a([...o,S])},m=S=>{a(o.filter(R=>R.id!==S))},w=(S,R,D)=>{a(o.map(V=>{if(V.id===S){const N={...V,[R]:D};if(R==="current"||R==="goal"){const H=R==="current"?D:V.current,G=R==="goal"?D:V.goal;G>0?N.percentage=Math.min(100,Math.max(0,H/G*100)):N.percentage=0}return N}return V}))},E=(S,R)=>{if(!R){w(S,"image",null);return}if(R.size>m2){alert("File size must be less than 1MB");return}if(!R.type.startsWith("image/")){alert("Please select an image file");return}const D=new FileReader;D.onload=V=>{var N;(N=V.target)!=null&&N.result&&w(S,"image",V.target.result)},D.readAsDataURL(R)},I=async()=>{if(!(!n||!t||o.length===0)){h(!0);try{await VN({name:t,items:o,userId:n.uid}),e("/dashboard")}catch(S){console.error("Error creating widget:",S)}finally{h(!1)}}};return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx("header",{className:"bg-white border-b",children:v.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx(xt,{to:"/dashboard",children:v.jsxs(qe,{variant:"ghost",size:"sm",children:[v.jsx(xE,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Vn,{className:"w-6 h-6 text-blue-600"}),v.jsx("span",{className:"text-lg font-semibold",children:"Create New Widget"})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(qe,{variant:"outline",onClick:()=>e("/dashboard"),children:"Cancel"}),v.jsx(qe,{onClick:I,disabled:!t||o.length===0||c,children:c?"Saving...":"Save Widget"})]})]})}),v.jsx("div",{className:"container mx-auto px-4 py-8",children:v.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[v.jsxs("div",{className:"space-y-6",children:[v.jsxs(ct,{children:[v.jsxs(pt,{children:[v.jsx(nt,{children:"Widget Settings"}),v.jsx(rt,{children:"Configure your progress bar widget"})]}),v.jsx(Yt,{className:"space-y-4",children:v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ft,{htmlFor:"widget-name",children:"Widget Name"}),v.jsx(pn,{id:"widget-name",placeholder:"e.g., My Skills, Project Progress",value:t,onChange:S=>i(S.target.value)})]})})]}),v.jsxs(ct,{children:[v.jsx(pt,{children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx(nt,{children:"Progress Items"}),v.jsx(rt,{children:"Add and configure your progress bars"})]}),v.jsxs(qe,{onClick:p,size:"sm",children:[v.jsx(nd,{className:"w-4 h-4 mr-2"}),"Add Item"]})]})}),v.jsx(Yt,{className:"space-y-6",children:o.map((S,R)=>v.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("h4",{className:"font-medium",children:["Item ",R+1]}),o.length>1&&v.jsx(qe,{variant:"ghost",size:"sm",onClick:()=>m(S.id),children:v.jsx(om,{className:"w-4 h-4"})})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ft,{children:"Label"}),v.jsx(pn,{value:S.label,onChange:D=>w(S.id,"label",D.target.value),placeholder:"e.g., Photography"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ft,{children:"Image"}),v.jsxs("div",{className:"flex items-center gap-4",children:[S.image?v.jsxs("div",{className:"relative",children:[v.jsx("img",{src:S.image,alt:"Preview",className:"w-12 h-12 rounded-lg object-cover"}),v.jsx("button",{type:"button",onClick:()=>E(S.id,null),className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white rounded-full text-xs flex items-center justify-center",children:""})]}):v.jsx("div",{className:"w-12 h-12 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:v.jsx("span",{className:"text-gray-400 text-xs",children:"No image"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx(pn,{type:"file",accept:"image/*",onChange:D=>{var N;const V=((N=D.target.files)==null?void 0:N[0])||null;E(S.id,V)},className:"text-sm"}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Max 1MB"})]})]})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ft,{children:"Current Value"}),v.jsx(pn,{type:"number",value:S.current,onChange:D=>w(S.id,"current",parseInt(D.target.value)||0),placeholder:"0",min:"0"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ft,{children:"Goal"}),v.jsx(pn,{type:"number",value:S.goal,onChange:D=>w(S.id,"goal",parseInt(D.target.value)||100),placeholder:"100",min:"1"})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ft,{children:"Color"}),v.jsx("div",{className:"flex gap-2 flex-wrap",children:p2.map(D=>v.jsx("button",{type:"button",className:`w-8 h-8 rounded-full ${D.class} ${S.color===D.value?"ring-2 ring-offset-2 ring-gray-400":""}`,onClick:()=>w(S.id,"color",D.value)},D.value))})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(cm,{value:[S.percentage],onValueChange:D=>w(S.id,"percentage",D[0]),max:100,step:1,className:"w-full"}),v.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[v.jsxs("span",{children:[S.current," / ",S.goal]}),v.jsxs("span",{children:[((S.current??0)/(S.goal??100)*100).toFixed(0),"%"]})]})]})]},S.id))})]})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs(ct,{children:[v.jsxs(pt,{children:[v.jsx(nt,{children:"Live Preview"}),v.jsx(rt,{children:"See how your widget will look when embedded"})]}),v.jsx(Yt,{children:v.jsx("div",{className:"bg-slate-900 rounded-lg p-6 space-y-4",children:o.map(S=>v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:`w-12 h-12 bg-${S.color}-500 rounded-lg flex items-center justify-center text-lg overflow-hidden`,children:S.image?v.jsx("img",{src:S.image,alt:S.label,className:"w-full h-full object-cover"}):v.jsx("span",{className:"text-white",children:"?"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"text-white font-medium mb-2",children:S.label}),v.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:v.jsx("div",{className:`bg-${S.color}-500 h-2 rounded-full transition-all duration-300`,style:{width:`${S.percentage}%`}})})]}),v.jsxs("div",{className:"text-white font-medium",children:[S.percentage.toFixed(0),"%"]})]},S.id))})})]}),v.jsxs(ct,{children:[v.jsxs(pt,{children:[v.jsx(nt,{children:"Embed Code"}),v.jsx(rt,{children:"Copy this code to embed your widget"})]}),v.jsx(Yt,{children:v.jsx("div",{className:"bg-gray-100 rounded-lg p-4 text-sm font-mono",children:`<iframe 
  src="${window.location.origin}/embed/widget-id" 
  width="400" 
  height="${o.length*80+40}"
  >
</iframe>`})})]})]})]})})]})}function y2(){return v.jsx(Bo,{children:v.jsx(g2,{})})}const v2=[{value:"blue",label:"Blue",class:"bg-blue-500"},{value:"purple",label:"Purple",class:"bg-purple-500"},{value:"red",label:"Red",class:"bg-red-500"},{value:"green",label:"Green",class:"bg-green-500"},{value:"orange",label:"Orange",class:"bg-orange-500"},{value:"pink",label:"Pink",class:"bg-pink-500"},{value:"yellow",label:"Yellow",class:"bg-yellow-500"},{value:"indigo",label:"Indigo",class:"bg-indigo-500"},{value:"teal",label:"Teal",class:"bg-teal-500"},{value:"cyan",label:"Cyan",class:"bg-cyan-500"},{value:"lime",label:"Lime",class:"bg-lime-500"},{value:"emerald",label:"Emerald",class:"bg-emerald-500"}],_2=1024*1024;function w2(){const{user:n}=Xi(),e=Ul(),{id:t}=R_(),[i,o]=C.useState(""),[a,c]=C.useState([]),[h,p]=C.useState(!0),[m,w]=C.useState(!1);C.useEffect(()=>{t&&E()},[t]);const E=async()=>{if(t)try{const N=await lm(t);N&&N.userId===(n==null?void 0:n.uid)?(o(N.name),c(N.items)):e("/dashboard")}catch(N){console.error("Error loading widget:",N),e("/dashboard")}finally{p(!1)}},I=()=>{const N={id:Date.now().toString(),label:"New Skill",percentage:50,color:"blue",image:null,current:50,goal:100};c([...a,N])},S=N=>{c(a.filter(H=>H.id!==N))},R=(N,H,G)=>{c(a.map(Q=>{if(Q.id===N){const ae={...Q,[H]:G};if(H==="current"||H==="goal"){const me=H==="current"?G:Q.current,L=H==="goal"?G:Q.goal;L>0?ae.percentage=Math.min(100,Math.max(0,me/L*100)):ae.percentage=0}return ae}return Q}))},D=(N,H)=>{if(!H){R(N,"image",null);return}if(H.size>_2){alert("File size must be less than 1MB");return}if(!H.type.startsWith("image/")){alert("Please select an image file");return}const G=new FileReader;G.onload=Q=>{var ae;(ae=Q.target)!=null&&ae.result&&R(N,"image",Q.target.result)},G.readAsDataURL(H)},V=async()=>{if(!(!n||!i||a.length===0||!t)){w(!0);try{await FE(t,{name:i,items:a}),e("/dashboard")}catch(N){console.error("Error updating widget:",N)}finally{w(!1)}}};return h?v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx("header",{className:"bg-white border-b",children:v.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx(xt,{to:"/dashboard",children:v.jsxs(qe,{variant:"ghost",size:"sm",children:[v.jsx(xE,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Vn,{className:"w-6 h-6 text-blue-600"}),v.jsx("span",{className:"text-lg font-semibold",children:"Edit Widget"})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(qe,{variant:"outline",onClick:()=>e("/dashboard"),children:"Cancel"}),v.jsx(qe,{onClick:V,disabled:!i||a.length===0||m,children:m?"Saving...":"Save Changes"})]})]})}),v.jsx("div",{className:"container mx-auto px-4 py-8",children:v.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[v.jsxs("div",{className:"space-y-6",children:[v.jsxs(ct,{children:[v.jsxs(pt,{children:[v.jsx(nt,{children:"Widget Settings"}),v.jsx(rt,{children:"Configure your progress bar widget"})]}),v.jsx(Yt,{className:"space-y-4",children:v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ft,{htmlFor:"widget-name",children:"Widget Name"}),v.jsx(pn,{id:"widget-name",placeholder:"e.g., My Skills, Project Progress",value:i,onChange:N=>o(N.target.value)})]})})]}),v.jsxs(ct,{children:[v.jsx(pt,{children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx(nt,{children:"Progress Items"}),v.jsx(rt,{children:"Add and configure your progress bars"})]}),v.jsxs(qe,{onClick:I,size:"sm",children:[v.jsx(nd,{className:"w-4 h-4 mr-2"}),"Add Item"]})]})}),v.jsx(Yt,{className:"space-y-6",children:a.map((N,H)=>v.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("h4",{className:"font-medium",children:["Item ",H+1]}),a.length>1&&v.jsx(qe,{variant:"ghost",size:"sm",onClick:()=>S(N.id),children:v.jsx(om,{className:"w-4 h-4"})})]}),v.jsx("div",{className:"grid grid-cols-2 gap-4",children:v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ft,{children:"Label"}),v.jsx(pn,{value:N.label,onChange:G=>R(N.id,"label",G.target.value),placeholder:"e.g., Photography"})]})}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ft,{children:"Image"}),v.jsx("div",{className:"flex items-center gap-4",children:N.image?v.jsxs("div",{className:"relative",children:[v.jsx("img",{src:N.image,alt:"Preview",className:"w-12 h-12 rounded-lg object-cover"}),v.jsx("button",{type:"button",onClick:()=>D(N.id,null),className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white rounded-full text-xs flex items-center justify-center",children:""})]}):v.jsxs("div",{className:"flex-1",children:[v.jsx(pn,{type:"file",accept:"image/*",onChange:G=>{var ae;const Q=((ae=G.target.files)==null?void 0:ae[0])||null;D(N.id,Q)},className:"text-sm"}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Max 1MB"})]})})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ft,{children:"Current Value"}),v.jsx(pn,{type:"number",value:N.current,onChange:G=>R(N.id,"current",parseInt(G.target.value)||0),placeholder:"0",min:"0"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ft,{children:"Goal"}),v.jsx(pn,{type:"number",value:N.goal,onChange:G=>R(N.id,"goal",parseInt(G.target.value)||100),placeholder:"100",min:"1"})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ft,{children:"Color"}),v.jsx("div",{className:"flex gap-2 flex-wrap",children:v2.map(G=>v.jsx("button",{type:"button",className:`w-8 h-8 rounded-full ${G.class} ${N.color===G.value?"ring-2 ring-offset-2 ring-gray-400":""}`,onClick:()=>R(N.id,"color",G.value)},G.value))})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(cm,{value:[N.percentage],onValueChange:G=>R(N.id,"percentage",G[0]),max:100,step:1,className:"w-full"}),v.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[v.jsxs("span",{children:[N.current," / ",N.goal]}),v.jsxs("span",{children:[((N.current??0)/(N.goal??100)*100).toFixed(0),"%"]})]})]})]},N.id))})]})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs(ct,{children:[v.jsxs(pt,{children:[v.jsx(nt,{children:"Live Preview"}),v.jsx(rt,{children:"See how your widget will look when embedded"})]}),v.jsx(Yt,{children:v.jsx("div",{className:"bg-slate-900 rounded-lg p-6 space-y-4",children:a.map(N=>v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:`w-12 h-12 bg-${N.color}-500 rounded-lg flex items-center justify-center text-lg overflow-hidden`,children:N.image?v.jsx("img",{src:N.image,alt:N.label,className:"w-full h-full object-cover"}):v.jsx("div",{className:"w-12 h-12 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:v.jsx("span",{className:"text-gray-400 text-xs",children:"No image"})})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"text-white font-medium mb-2",children:N.label}),v.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:v.jsx("div",{className:`bg-${N.color}-500 h-2 rounded-full transition-all duration-300`,style:{width:`${N.percentage}%`}})})]}),v.jsxs("div",{className:"text-white font-medium",children:[N.percentage.toFixed(0),"%"]})]},N.id))})})]}),v.jsxs(ct,{children:[v.jsxs(pt,{children:[v.jsx(nt,{children:"Embed Code"}),v.jsx(rt,{children:"Copy this code to embed your widget"})]}),v.jsx(Yt,{children:v.jsx("div",{className:"bg-gray-100 rounded-lg p-4 text-sm font-mono",children:`<iframe 
  src="${window.location.origin}/embed/${t}" 
  width="400" 
  height="${a.length*80+40}"
  >
</iframe>`})})]})]})]})})]})}function E2(){return v.jsx(Bo,{children:v.jsx(w2,{})})}function I2(){const{id:n}=R_(),[e,t]=C.useState(null),[i,o]=C.useState(!0);C.useEffect(()=>{n&&a()},[n]);const a=async()=>{if(n)try{const c=await lm(n);t(c),c&&MN(n).catch(console.error)}catch(c){console.error("Error loading widget:",c)}finally{o(!1)}};return i?v.jsx("div",{className:"p-4 bg-slate-900 min-h-screen flex items-center justify-center",children:v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}):e?v.jsx("div",{className:"p-4  min-h-screen",children:v.jsx("div",{className:"space-y-4 max-w-md",children:e.items.map(c=>v.jsxs("div",{className:"flex items-center gap-4",children:[c.image?v.jsx("img",{src:c.image,alt:c.label,className:`size-10 rounded-lg object-cover bg-${c.color}-500`}):v.jsx("div",{className:`size-10 bg-${c.color}-500 rounded-lg flex items-center justify-center text-lg`}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("div",{className:"text-foreground font-medium mb-2 truncate",children:c.label}),v.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:v.jsx("div",{className:`bg-${c.color}-500 h-2 rounded-full transition-all duration-300`,style:{width:`${c.percentage}%`}})})]}),v.jsxs("div",{className:"text-foreground font-medium shrink-0",children:[c.percentage.toFixed(0),"%"]})]},c.id))})}):v.jsx("div",{className:"p-4 bg-slate-900 min-h-screen flex items-center justify-center",children:v.jsxs("div",{className:"text-foreground text-center",children:[v.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Widget Not Found"}),v.jsx("p",{children:"The requested widget could not be found."})]})})}function T2(){const{completeMagicLinkSignIn:n}=Xi(),[e,t]=C.useState("loading"),[i,o]=C.useState("");return C.useEffect(()=>{(async()=>{try{const c=window.localStorage.getItem("emailForSignIn");if(!c)throw new Error("No email found. Please try signing in again.");await n(c),t("success"),setTimeout(()=>{window.location.href="/dashboard"},2e3)}catch(c){t("error"),o(c.message||"Failed to complete sign in")}})()},[n]),v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:v.jsxs(ct,{className:"w-full max-w-md",children:[v.jsxs(pt,{className:"text-center",children:[v.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[v.jsx(Vn,{className:"w-8 h-8 text-blue-600"}),v.jsx("span",{className:"text-xl font-bold",children:"ProgressWidget"})]}),e==="loading"&&v.jsxs(v.Fragment,{children:[v.jsx(nt,{children:"Completing sign in..."}),v.jsx(rt,{children:"Please wait while we verify your email"})]}),e==="success"&&v.jsxs(v.Fragment,{children:[v.jsx(nt,{children:"Welcome!"}),v.jsx(rt,{children:"You've been successfully signed in"})]}),e==="error"&&v.jsxs(v.Fragment,{children:[v.jsx(nt,{children:"Sign in failed"}),v.jsx(rt,{children:"There was a problem completing your sign in"})]})]}),v.jsxs(Yt,{className:"text-center",children:[e==="loading"&&v.jsxs("div",{className:"py-8",children:[v.jsx(nN,{className:"w-12 h-12 text-blue-600 mx-auto animate-spin mb-4"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Verifying your email..."})]}),e==="success"&&v.jsxs("div",{className:"py-8",children:[v.jsx(Jb,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),v.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Redirecting to your dashboard..."})]}),e==="error"&&v.jsxs("div",{className:"py-8 space-y-4",children:[v.jsx(Zb,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),v.jsx("p",{className:"text-sm text-red-600 mb-4",children:i}),v.jsx(xt,{to:"/login",children:v.jsx(qe,{className:"w-full",children:"Try again"})})]})]})]})})}function x2(){return v.jsxs(lx,{children:[v.jsx(zr,{path:"/",element:v.jsx(aN,{})}),v.jsx(zr,{path:"/login",element:v.jsx(c_,{children:v.jsx(dN,{})})}),v.jsx(zr,{path:"/signup",element:v.jsx(c_,{children:v.jsx(bN,{})})}),v.jsx(zr,{path:"/dashboard",element:v.jsx(Bo,{children:v.jsx(FN,{})})}),v.jsx(zr,{path:"/dashboard/create",element:v.jsx(Bo,{children:v.jsx(y2,{})})}),v.jsx(zr,{path:"/dashboard/edit/:id",element:v.jsx(Bo,{children:v.jsx(E2,{})})}),v.jsx(zr,{path:"/embed/:id",element:v.jsx(I2,{})}),v.jsx(zr,{path:"/auth/complete",element:v.jsx(T2,{})})]})}yT.createRoot(document.getElementById("root")).render(v.jsx(Br.StrictMode,{children:v.jsx(Nx,{children:v.jsx(ab,{children:v.jsx(x2,{})})})}));
